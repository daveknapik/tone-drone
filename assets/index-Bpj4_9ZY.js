(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Cg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hd={exports:{}},Ca={},Gd={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=Symbol.for("react.element"),Ng=Symbol.for("react.portal"),Eg=Symbol.for("react.fragment"),Ag=Symbol.for("react.strict_mode"),Og=Symbol.for("react.profiler"),Dg=Symbol.for("react.provider"),Mg=Symbol.for("react.context"),Ig=Symbol.for("react.forward_ref"),Rg=Symbol.for("react.suspense"),Pg=Symbol.for("react.memo"),bg=Symbol.for("react.lazy"),ah=Symbol.iterator;function Fg(t){return t===null||typeof t!="object"?null:(t=ah&&t[ah]||t["@@iterator"],typeof t=="function"?t:null)}var Qd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xd=Object.assign,Yd={};function dr(t,e,n){this.props=t,this.context=e,this.refs=Yd,this.updater=n||Qd}dr.prototype.isReactComponent={};dr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zd(){}Zd.prototype=dr.prototype;function Vu(t,e,n){this.props=t,this.context=e,this.refs=Yd,this.updater=n||Qd}var Lu=Vu.prototype=new Zd;Lu.constructor=Vu;Xd(Lu,dr.prototype);Lu.isPureReactComponent=!0;var lh=Array.isArray,Kd=Object.prototype.hasOwnProperty,ju={current:null},Jd={key:!0,ref:!0,__self:!0,__source:!0};function ef(t,e,n){var s,r={},i=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Kd.call(e,s)&&!Jd.hasOwnProperty(s)&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return{$$typeof:Si,type:t,key:i,ref:o,props:r,_owner:ju.current}}function Vg(t,e){return{$$typeof:Si,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Si}function Lg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uh=/\/+/g;function el(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Lg(""+t.key):e.toString(36)}function io(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Si:case Ng:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+el(o,0):s,lh(r)?(n="",t!=null&&(n=t.replace(uh,"$&/")+"/"),io(r,e,n,"",function(u){return u})):r!=null&&(zu(r)&&(r=Vg(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(uh,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",lh(t))for(var a=0;a<t.length;a++){i=t[a];var l=s+el(i,a);o+=io(i,e,n,l,r)}else if(l=Fg(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=s+el(i,a++),o+=io(i,e,n,l,r);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Li(t,e,n){if(t==null)return t;var s=[],r=0;return io(t,s,"","",function(i){return e.call(n,i,r++)}),s}function jg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Je={current:null},oo={transition:null},zg={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:oo,ReactCurrentOwner:ju};function tf(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Li,forEach:function(t,e,n){Li(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Li(t,function(){e++}),e},toArray:function(t){return Li(t,function(e){return e})||[]},only:function(t){if(!zu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=dr;K.Fragment=Eg;K.Profiler=Og;K.PureComponent=Vu;K.StrictMode=Ag;K.Suspense=Rg;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zg;K.act=tf;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=Xd({},t.props),r=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ju.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Kd.call(e,l)&&!Jd.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}return{$$typeof:Si,type:t.type,key:r,ref:i,props:s,_owner:o}};K.createContext=function(t){return t={$$typeof:Mg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Dg,_context:t},t.Consumer=t};K.createElement=ef;K.createFactory=function(t){var e=ef.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:Ig,render:t}};K.isValidElement=zu;K.lazy=function(t){return{$$typeof:bg,_payload:{_status:-1,_result:t},_init:jg}};K.memo=function(t,e){return{$$typeof:Pg,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=oo.transition;oo.transition={};try{t()}finally{oo.transition=e}};K.unstable_act=tf;K.useCallback=function(t,e){return Je.current.useCallback(t,e)};K.useContext=function(t){return Je.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return Je.current.useDeferredValue(t)};K.useEffect=function(t,e){return Je.current.useEffect(t,e)};K.useId=function(){return Je.current.useId()};K.useImperativeHandle=function(t,e,n){return Je.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return Je.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return Je.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return Je.current.useMemo(t,e)};K.useReducer=function(t,e,n){return Je.current.useReducer(t,e,n)};K.useRef=function(t){return Je.current.useRef(t)};K.useState=function(t){return Je.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return Je.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return Je.current.useTransition()};K.version="18.3.1";Gd.exports=K;var V=Gd.exports;const Rn=Cg(V);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=V,qg=Symbol.for("react.element"),Bg=Symbol.for("react.fragment"),Ug=Object.prototype.hasOwnProperty,$g=Wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hg={key:!0,ref:!0,__self:!0,__source:!0};function nf(t,e,n){var s,r={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)Ug.call(e,s)&&!Hg.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:qg,type:t,key:i,ref:o,props:r,_owner:$g.current}}Ca.Fragment=Bg;Ca.jsx=nf;Ca.jsxs=nf;Hd.exports=Ca;var A=Hd.exports,El={},sf={exports:{}},_t={},rf={exports:{}},of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,R){var P=M.length;M.push(R);e:for(;0<P;){var j=P-1>>>1,G=M[j];if(0<r(G,R))M[j]=R,M[P]=G,P=j;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var R=M[0],P=M.pop();if(P!==R){M[0]=P;e:for(var j=0,G=M.length,be=G>>>1;j<be;){var Ce=2*(j+1)-1,Y=M[Ce],ne=Ce+1,Oe=M[ne];if(0>r(Y,P))ne<G&&0>r(Oe,Y)?(M[j]=Oe,M[ne]=P,j=ne):(M[j]=Y,M[Ce]=P,j=Ce);else if(ne<G&&0>r(Oe,P))M[j]=Oe,M[ne]=P,j=ne;else break e}}return R}function r(M,R){var P=M.sortIndex-R.sortIndex;return P!==0?P:M.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,p=!1,m=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var R=n(u);R!==null;){if(R.callback===null)s(u);else if(R.startTime<=M)s(u),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(u)}}function T(M){if(_=!1,v(M),!m)if(n(l)!==null)m=!0,W(y);else{var R=n(u);R!==null&&B(T,R.startTime-M)}}function y(M,R){m=!1,_&&(_=!1,f(x),x=-1),p=!0;var P=d;try{for(v(R),h=n(l);h!==null&&(!(h.expirationTime>R)||M&&!D());){var j=h.callback;if(typeof j=="function"){h.callback=null,d=h.priorityLevel;var G=j(h.expirationTime<=R);R=t.unstable_now(),typeof G=="function"?h.callback=G:h===n(l)&&s(l),v(R)}else s(l);h=n(l)}if(h!==null)var be=!0;else{var Ce=n(u);Ce!==null&&B(T,Ce.startTime-R),be=!1}return be}finally{h=null,d=P,p=!1}}var S=!1,k=null,x=-1,E=5,C=-1;function D(){return!(t.unstable_now()-C<E)}function O(){if(k!==null){var M=t.unstable_now();C=M;var R=!0;try{R=k(!0,M)}finally{R?b():(S=!1,k=null)}}else S=!1}var b;if(typeof g=="function")b=function(){g(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,H=F.port2;F.port1.onmessage=O,b=function(){H.postMessage(null)}}else b=function(){w(O,0)};function W(M){k=M,S||(S=!0,b())}function B(M,R){x=w(function(){M(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,W(y))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(d){case 1:case 2:case 3:var R=3;break;default:R=d}var P=d;d=R;try{return M()}finally{d=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,R){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var P=d;d=M;try{return R()}finally{d=P}},t.unstable_scheduleCallback=function(M,R,P){var j=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?j+P:j):P=j,M){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=P+G,M={id:c++,callback:R,priorityLevel:M,startTime:P,expirationTime:G,sortIndex:-1},P>j?(M.sortIndex=P,e(u,M),n(l)===null&&M===n(u)&&(_?(f(x),x=-1):_=!0,B(T,P-j))):(M.sortIndex=G,e(l,M),m||p||(m=!0,W(y))),M},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(M){var R=d;return function(){var P=d;d=R;try{return M.apply(this,arguments)}finally{d=P}}}})(of);rf.exports=of;var Gg=rf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg=V,mt=Gg;function I(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var af=new Set,Br={};function Ts(t,e){Js(t,e),Js(t+"Capture",e)}function Js(t,e){for(Br[t]=e,t=0;t<e.length;t++)af.add(e[t])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Al=Object.prototype.hasOwnProperty,Xg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ch={},hh={};function Yg(t){return Al.call(hh,t)?!0:Al.call(ch,t)?!1:Xg.test(t)?hh[t]=!0:(ch[t]=!0,!1)}function Zg(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Kg(t,e,n,s){if(e===null||typeof e>"u"||Zg(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function et(t,e,n,s,r,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qe[t]=new et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qe[e]=new et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qe[t]=new et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qe[t]=new et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qe[t]=new et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qe[t]=new et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qe[t]=new et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qe[t]=new et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qe[t]=new et(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wu=/[\-:]([a-z])/g;function qu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wu,qu);qe[e]=new et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wu,qu);qe[e]=new et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wu,qu);qe[e]=new et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qe[t]=new et(t,1,!1,t.toLowerCase(),null,!1,!1)});qe.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qe[t]=new et(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bu(t,e,n,s){var r=qe.hasOwnProperty(e)?qe[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Kg(e,n,r,s)&&(n=null),s||r===null?Yg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var vn=Qg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ji=Symbol.for("react.element"),Is=Symbol.for("react.portal"),Rs=Symbol.for("react.fragment"),Uu=Symbol.for("react.strict_mode"),Ol=Symbol.for("react.profiler"),lf=Symbol.for("react.provider"),uf=Symbol.for("react.context"),$u=Symbol.for("react.forward_ref"),Dl=Symbol.for("react.suspense"),Ml=Symbol.for("react.suspense_list"),Hu=Symbol.for("react.memo"),Nn=Symbol.for("react.lazy"),cf=Symbol.for("react.offscreen"),dh=Symbol.iterator;function xr(t){return t===null||typeof t!="object"?null:(t=dh&&t[dh]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,tl;function Or(t){if(tl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tl=e&&e[1]||""}return`
`+tl+t}var nl=!1;function sl(t,e){if(!t||nl)return"";nl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),i=s.stack.split(`
`),o=r.length-1,a=i.length-1;1<=o&&0<=a&&r[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==i[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{nl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Or(t):""}function Jg(t){switch(t.tag){case 5:return Or(t.type);case 16:return Or("Lazy");case 13:return Or("Suspense");case 19:return Or("SuspenseList");case 0:case 2:case 15:return t=sl(t.type,!1),t;case 11:return t=sl(t.type.render,!1),t;case 1:return t=sl(t.type,!0),t;default:return""}}function Il(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rs:return"Fragment";case Is:return"Portal";case Ol:return"Profiler";case Uu:return"StrictMode";case Dl:return"Suspense";case Ml:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uf:return(t.displayName||"Context")+".Consumer";case lf:return(t._context.displayName||"Context")+".Provider";case $u:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hu:return e=t.displayName||null,e!==null?e:Il(t.type)||"Memo";case Nn:e=t._payload,t=t._init;try{return Il(t(e))}catch{}}return null}function e_(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Il(e);case 8:return e===Uu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function t_(t){var e=hf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zi(t){t._valueTracker||(t._valueTracker=t_(t))}function df(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=hf(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function xo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rl(t,e){var n=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fh(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Bn(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ff(t,e){e=e.checked,e!=null&&Bu(t,"checked",e,!1)}function Pl(t,e){ff(t,e);var n=Bn(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bl(t,e.type,n):e.hasOwnProperty("defaultValue")&&bl(t,e.type,Bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ph(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bl(t,e,n){(e!=="number"||xo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Dr=Array.isArray;function Hs(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Bn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Fl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(I(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(I(92));if(Dr(n)){if(1<n.length)throw Error(I(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bn(n)}}function pf(t,e){var n=Bn(e.value),s=Bn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function gh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wi,gf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wi=Wi||document.createElement("div"),Wi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ur(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n_=["Webkit","ms","Moz","O"];Object.keys(Rr).forEach(function(t){n_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rr[e]=Rr[t]})});function _f(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Rr.hasOwnProperty(t)&&Rr[t]?(""+e).trim():e+"px"}function vf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=_f(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var s_=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ll(t,e){if(e){if(s_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(I(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(I(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(I(61))}if(e.style!=null&&typeof e.style!="object")throw Error(I(62))}}function jl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zl=null;function Gu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wl=null,Gs=null,Qs=null;function _h(t){if(t=Ci(t)){if(typeof Wl!="function")throw Error(I(280));var e=t.stateNode;e&&(e=Da(e),Wl(t.stateNode,t.type,e))}}function yf(t){Gs?Qs?Qs.push(t):Qs=[t]:Gs=t}function wf(){if(Gs){var t=Gs,e=Qs;if(Qs=Gs=null,_h(t),e)for(t=0;t<e.length;t++)_h(e[t])}}function xf(t,e){return t(e)}function Sf(){}var rl=!1;function Tf(t,e,n){if(rl)return t(e,n);rl=!0;try{return xf(t,e,n)}finally{rl=!1,(Gs!==null||Qs!==null)&&(Sf(),wf())}}function $r(t,e){var n=t.stateNode;if(n===null)return null;var s=Da(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(I(231,e,typeof n));return n}var ql=!1;if(un)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){ql=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{ql=!1}function r_(t,e,n,s,r,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Pr=!1,So=null,To=!1,Bl=null,i_={onError:function(t){Pr=!0,So=t}};function o_(t,e,n,s,r,i,o,a,l){Pr=!1,So=null,r_.apply(i_,arguments)}function a_(t,e,n,s,r,i,o,a,l){if(o_.apply(this,arguments),Pr){if(Pr){var u=So;Pr=!1,So=null}else throw Error(I(198));To||(To=!0,Bl=u)}}function ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vh(t){if(ks(t)!==t)throw Error(I(188))}function l_(t){var e=t.alternate;if(!e){if(e=ks(t),e===null)throw Error(I(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return vh(r),t;if(i===s)return vh(r),e;i=i.sibling}throw Error(I(188))}if(n.return!==s.return)n=r,s=i;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o)throw Error(I(189))}}if(n.alternate!==s)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?t:e}function Cf(t){return t=l_(t),t!==null?Nf(t):null}function Nf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Nf(t);if(e!==null)return e;t=t.sibling}return null}var Ef=mt.unstable_scheduleCallback,yh=mt.unstable_cancelCallback,u_=mt.unstable_shouldYield,c_=mt.unstable_requestPaint,Ee=mt.unstable_now,h_=mt.unstable_getCurrentPriorityLevel,Qu=mt.unstable_ImmediatePriority,Af=mt.unstable_UserBlockingPriority,ko=mt.unstable_NormalPriority,d_=mt.unstable_LowPriority,Of=mt.unstable_IdlePriority,Na=null,Gt=null;function f_(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Na,t,void 0,(t.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:g_,p_=Math.log,m_=Math.LN2;function g_(t){return t>>>=0,t===0?32:31-(p_(t)/m_|0)|0}var qi=64,Bi=4194304;function Mr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Co(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?s=Mr(a):(i&=o,i!==0&&(s=Mr(i)))}else o=n&~r,o!==0?s=Mr(o):i!==0&&(s=Mr(i));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,i=e&-e,r>=i||r===16&&(i&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-bt(e),r=1<<n,s|=t[n],e&=~r;return s}function __(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v_(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-bt(i),a=1<<o,l=r[o];l===-1?(!(a&n)||a&s)&&(r[o]=__(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ul(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Df(){var t=qi;return qi<<=1,!(qi&4194240)&&(qi=64),t}function il(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ti(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-bt(e),t[e]=n}function y_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-bt(n),i=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~i}}function Xu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-bt(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var oe=0;function Mf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var If,Yu,Rf,Pf,bf,$l=!1,Ui=[],Pn=null,bn=null,Fn=null,Hr=new Map,Gr=new Map,On=[],w_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wh(t,e){switch(t){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":Hr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(e.pointerId)}}function Tr(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Ci(e),e!==null&&Yu(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function x_(t,e,n,s,r){switch(e){case"focusin":return Pn=Tr(Pn,t,e,n,s,r),!0;case"dragenter":return bn=Tr(bn,t,e,n,s,r),!0;case"mouseover":return Fn=Tr(Fn,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return Hr.set(i,Tr(Hr.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,Gr.set(i,Tr(Gr.get(i)||null,t,e,n,s,r)),!0}return!1}function Ff(t){var e=os(t.target);if(e!==null){var n=ks(e);if(n!==null){if(e=n.tag,e===13){if(e=kf(n),e!==null){t.blockedOn=e,bf(t.priority,function(){Rf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ao(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);zl=s,n.target.dispatchEvent(s),zl=null}else return e=Ci(n),e!==null&&Yu(e),t.blockedOn=n,!1;e.shift()}return!0}function xh(t,e,n){ao(t)&&n.delete(e)}function S_(){$l=!1,Pn!==null&&ao(Pn)&&(Pn=null),bn!==null&&ao(bn)&&(bn=null),Fn!==null&&ao(Fn)&&(Fn=null),Hr.forEach(xh),Gr.forEach(xh)}function kr(t,e){t.blockedOn===e&&(t.blockedOn=null,$l||($l=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,S_)))}function Qr(t){function e(r){return kr(r,t)}if(0<Ui.length){kr(Ui[0],t);for(var n=1;n<Ui.length;n++){var s=Ui[n];s.blockedOn===t&&(s.blockedOn=null)}}for(Pn!==null&&kr(Pn,t),bn!==null&&kr(bn,t),Fn!==null&&kr(Fn,t),Hr.forEach(e),Gr.forEach(e),n=0;n<On.length;n++)s=On[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<On.length&&(n=On[0],n.blockedOn===null);)Ff(n),n.blockedOn===null&&On.shift()}var Xs=vn.ReactCurrentBatchConfig,No=!0;function T_(t,e,n,s){var r=oe,i=Xs.transition;Xs.transition=null;try{oe=1,Zu(t,e,n,s)}finally{oe=r,Xs.transition=i}}function k_(t,e,n,s){var r=oe,i=Xs.transition;Xs.transition=null;try{oe=4,Zu(t,e,n,s)}finally{oe=r,Xs.transition=i}}function Zu(t,e,n,s){if(No){var r=Hl(t,e,n,s);if(r===null)ml(t,e,s,Eo,n),wh(t,s);else if(x_(r,t,e,n,s))s.stopPropagation();else if(wh(t,s),e&4&&-1<w_.indexOf(t)){for(;r!==null;){var i=Ci(r);if(i!==null&&If(i),i=Hl(t,e,n,s),i===null&&ml(t,e,s,Eo,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else ml(t,e,s,null,n)}}var Eo=null;function Hl(t,e,n,s){if(Eo=null,t=Gu(s),t=os(t),t!==null)if(e=ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Eo=t,null}function Vf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h_()){case Qu:return 1;case Af:return 4;case ko:case d_:return 16;case Of:return 536870912;default:return 16}default:return 16}}var Mn=null,Ku=null,lo=null;function Lf(){if(lo)return lo;var t,e=Ku,n=e.length,s,r="value"in Mn?Mn.value:Mn.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[i-s];s++);return lo=r.slice(t,1<s?1-s:void 0)}function uo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function Sh(){return!1}function vt(t){function e(n,s,r,i,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$i:Sh,this.isPropagationStopped=Sh,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),e}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ju=vt(fr),ki=we({},fr,{view:0,detail:0}),C_=vt(ki),ol,al,Cr,Ea=we({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cr&&(Cr&&t.type==="mousemove"?(ol=t.screenX-Cr.screenX,al=t.screenY-Cr.screenY):al=ol=0,Cr=t),ol)},movementY:function(t){return"movementY"in t?t.movementY:al}}),Th=vt(Ea),N_=we({},Ea,{dataTransfer:0}),E_=vt(N_),A_=we({},ki,{relatedTarget:0}),ll=vt(A_),O_=we({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),D_=vt(O_),M_=we({},fr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),I_=vt(M_),R_=we({},fr,{data:0}),kh=vt(R_),P_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=F_[t])?!!e[t]:!1}function ec(){return V_}var L_=we({},ki,{key:function(t){if(t.key){var e=P_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=uo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?b_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(t){return t.type==="keypress"?uo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?uo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),j_=vt(L_),z_=we({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ch=vt(z_),W_=we({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),q_=vt(W_),B_=we({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),U_=vt(B_),$_=we({},Ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H_=vt($_),G_=[9,13,27,32],tc=un&&"CompositionEvent"in window,br=null;un&&"documentMode"in document&&(br=document.documentMode);var Q_=un&&"TextEvent"in window&&!br,jf=un&&(!tc||br&&8<br&&11>=br),Nh=" ",Eh=!1;function zf(t,e){switch(t){case"keyup":return G_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ps=!1;function X_(t,e){switch(t){case"compositionend":return Wf(e);case"keypress":return e.which!==32?null:(Eh=!0,Nh);case"textInput":return t=e.data,t===Nh&&Eh?null:t;default:return null}}function Y_(t,e){if(Ps)return t==="compositionend"||!tc&&zf(t,e)?(t=Lf(),lo=Ku=Mn=null,Ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jf&&e.locale!=="ko"?null:e.data;default:return null}}var Z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ah(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Z_[t.type]:e==="textarea"}function qf(t,e,n,s){yf(s),e=Ao(e,"onChange"),0<e.length&&(n=new Ju("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Fr=null,Xr=null;function K_(t){Jf(t,0)}function Aa(t){var e=Vs(t);if(df(e))return t}function J_(t,e){if(t==="change")return e}var Bf=!1;if(un){var ul;if(un){var cl="oninput"in document;if(!cl){var Oh=document.createElement("div");Oh.setAttribute("oninput","return;"),cl=typeof Oh.oninput=="function"}ul=cl}else ul=!1;Bf=ul&&(!document.documentMode||9<document.documentMode)}function Dh(){Fr&&(Fr.detachEvent("onpropertychange",Uf),Xr=Fr=null)}function Uf(t){if(t.propertyName==="value"&&Aa(Xr)){var e=[];qf(e,Xr,t,Gu(t)),Tf(K_,e)}}function ev(t,e,n){t==="focusin"?(Dh(),Fr=e,Xr=n,Fr.attachEvent("onpropertychange",Uf)):t==="focusout"&&Dh()}function tv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Aa(Xr)}function nv(t,e){if(t==="click")return Aa(e)}function sv(t,e){if(t==="input"||t==="change")return Aa(e)}function rv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vt=typeof Object.is=="function"?Object.is:rv;function Yr(t,e){if(Vt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Al.call(e,r)||!Vt(t[r],e[r]))return!1}return!0}function Mh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ih(t,e){var n=Mh(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mh(n)}}function $f(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$f(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hf(){for(var t=window,e=xo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xo(t.document)}return e}function nc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iv(t){var e=Hf(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&$f(n.ownerDocument.documentElement,n)){if(s!==null&&nc(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,i=Math.min(s.start,r);s=s.end===void 0?i:Math.min(s.end,r),!t.extend&&i>s&&(r=s,s=i,i=r),r=Ih(n,i);var o=Ih(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),i>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ov=un&&"documentMode"in document&&11>=document.documentMode,bs=null,Gl=null,Vr=null,Ql=!1;function Rh(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ql||bs==null||bs!==xo(s)||(s=bs,"selectionStart"in s&&nc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Vr&&Yr(Vr,s)||(Vr=s,s=Ao(Gl,"onSelect"),0<s.length&&(e=new Ju("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=bs)))}function Hi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fs={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionend:Hi("Transition","TransitionEnd")},hl={},Gf={};un&&(Gf=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function Oa(t){if(hl[t])return hl[t];if(!Fs[t])return t;var e=Fs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Gf)return hl[t]=e[n];return t}var Qf=Oa("animationend"),Xf=Oa("animationiteration"),Yf=Oa("animationstart"),Zf=Oa("transitionend"),Kf=new Map,Ph="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(t,e){Kf.set(t,e),Ts(e,[t])}for(var dl=0;dl<Ph.length;dl++){var fl=Ph[dl],av=fl.toLowerCase(),lv=fl[0].toUpperCase()+fl.slice(1);Zn(av,"on"+lv)}Zn(Qf,"onAnimationEnd");Zn(Xf,"onAnimationIteration");Zn(Yf,"onAnimationStart");Zn("dblclick","onDoubleClick");Zn("focusin","onFocus");Zn("focusout","onBlur");Zn(Zf,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function bh(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,a_(s,e,void 0,t),t.currentTarget=null}function Jf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&r.isPropagationStopped())break e;bh(r,a,u),i=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&r.isPropagationStopped())break e;bh(r,a,u),i=l}}}if(To)throw t=Bl,To=!1,Bl=null,t}function ce(t,e){var n=e[Jl];n===void 0&&(n=e[Jl]=new Set);var s=t+"__bubble";n.has(s)||(ep(e,t,2,!1),n.add(s))}function pl(t,e,n){var s=0;e&&(s|=4),ep(n,t,s,e)}var Gi="_reactListening"+Math.random().toString(36).slice(2);function Zr(t){if(!t[Gi]){t[Gi]=!0,af.forEach(function(n){n!=="selectionchange"&&(uv.has(n)||pl(n,!1,t),pl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gi]||(e[Gi]=!0,pl("selectionchange",!1,e))}}function ep(t,e,n,s){switch(Vf(e)){case 1:var r=T_;break;case 4:r=k_;break;default:r=Zu}n=r.bind(null,e,n,t),r=void 0,!ql||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function ml(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=os(a),o===null)return;if(l=o.tag,l===5||l===6){s=i=o;continue e}a=a.parentNode}}s=s.return}Tf(function(){var u=i,c=Gu(n),h=[];e:{var d=Kf.get(t);if(d!==void 0){var p=Ju,m=t;switch(t){case"keypress":if(uo(n)===0)break e;case"keydown":case"keyup":p=j_;break;case"focusin":m="focus",p=ll;break;case"focusout":m="blur",p=ll;break;case"beforeblur":case"afterblur":p=ll;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=E_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=q_;break;case Qf:case Xf:case Yf:p=D_;break;case Zf:p=U_;break;case"scroll":p=C_;break;case"wheel":p=H_;break;case"copy":case"cut":case"paste":p=I_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Ch}var _=(e&4)!==0,w=!_&&t==="scroll",f=_?d!==null?d+"Capture":null:d;_=[];for(var g=u,v;g!==null;){v=g;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,f!==null&&(T=$r(g,f),T!=null&&_.push(Kr(g,T,v)))),w)break;g=g.return}0<_.length&&(d=new p(d,m,null,n,c),h.push({event:d,listeners:_}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==zl&&(m=n.relatedTarget||n.fromElement)&&(os(m)||m[cn]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?os(m):null,m!==null&&(w=ks(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(_=Th,T="onMouseLeave",f="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=Ch,T="onPointerLeave",f="onPointerEnter",g="pointer"),w=p==null?d:Vs(p),v=m==null?d:Vs(m),d=new _(T,g+"leave",p,n,c),d.target=w,d.relatedTarget=v,T=null,os(c)===u&&(_=new _(f,g+"enter",m,n,c),_.target=v,_.relatedTarget=w,T=_),w=T,p&&m)t:{for(_=p,f=m,g=0,v=_;v;v=Ds(v))g++;for(v=0,T=f;T;T=Ds(T))v++;for(;0<g-v;)_=Ds(_),g--;for(;0<v-g;)f=Ds(f),v--;for(;g--;){if(_===f||f!==null&&_===f.alternate)break t;_=Ds(_),f=Ds(f)}_=null}else _=null;p!==null&&Fh(h,d,p,_,!1),m!==null&&w!==null&&Fh(h,w,m,_,!0)}}e:{if(d=u?Vs(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var y=J_;else if(Ah(d))if(Bf)y=sv;else{y=tv;var S=ev}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(y=nv);if(y&&(y=y(t,u))){qf(h,y,n,c);break e}S&&S(t,d,u),t==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&bl(d,"number",d.value)}switch(S=u?Vs(u):window,t){case"focusin":(Ah(S)||S.contentEditable==="true")&&(bs=S,Gl=u,Vr=null);break;case"focusout":Vr=Gl=bs=null;break;case"mousedown":Ql=!0;break;case"contextmenu":case"mouseup":case"dragend":Ql=!1,Rh(h,n,c);break;case"selectionchange":if(ov)break;case"keydown":case"keyup":Rh(h,n,c)}var k;if(tc)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ps?zf(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(jf&&n.locale!=="ko"&&(Ps||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ps&&(k=Lf()):(Mn=c,Ku="value"in Mn?Mn.value:Mn.textContent,Ps=!0)),S=Ao(u,x),0<S.length&&(x=new kh(x,t,null,n,c),h.push({event:x,listeners:S}),k?x.data=k:(k=Wf(n),k!==null&&(x.data=k)))),(k=Q_?X_(t,n):Y_(t,n))&&(u=Ao(u,"onBeforeInput"),0<u.length&&(c=new kh("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=k))}Jf(h,e)})}function Kr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ao(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=$r(t,n),i!=null&&s.unshift(Kr(t,i,r)),i=$r(t,e),i!=null&&s.push(Kr(t,i,r))),t=t.return}return s}function Ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fh(t,e,n,s,r){for(var i=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&u!==null&&(a=u,r?(l=$r(n,i),l!=null&&o.unshift(Kr(n,l,a))):r||(l=$r(n,i),l!=null&&o.push(Kr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cv=/\r\n?/g,hv=/\u0000|\uFFFD/g;function Vh(t){return(typeof t=="string"?t:""+t).replace(cv,`
`).replace(hv,"")}function Qi(t,e,n){if(e=Vh(e),Vh(t)!==e&&n)throw Error(I(425))}function Oo(){}var Xl=null,Yl=null;function Zl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kl=typeof setTimeout=="function"?setTimeout:void 0,dv=typeof clearTimeout=="function"?clearTimeout:void 0,Lh=typeof Promise=="function"?Promise:void 0,fv=typeof queueMicrotask=="function"?queueMicrotask:typeof Lh<"u"?function(t){return Lh.resolve(null).then(t).catch(pv)}:Kl;function pv(t){setTimeout(function(){throw t})}function gl(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),Qr(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Qr(e)}function Vn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var pr=Math.random().toString(36).slice(2),$t="__reactFiber$"+pr,Jr="__reactProps$"+pr,cn="__reactContainer$"+pr,Jl="__reactEvents$"+pr,mv="__reactListeners$"+pr,gv="__reactHandles$"+pr;function os(t){var e=t[$t];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cn]||n[$t]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jh(t);t!==null;){if(n=t[$t])return n;t=jh(t)}return e}t=n,n=t.parentNode}return null}function Ci(t){return t=t[$t]||t[cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(I(33))}function Da(t){return t[Jr]||null}var eu=[],Ls=-1;function Kn(t){return{current:t}}function de(t){0>Ls||(t.current=eu[Ls],eu[Ls]=null,Ls--)}function le(t,e){Ls++,eu[Ls]=t.current,t.current=e}var Un={},Ge=Kn(Un),it=Kn(!1),ms=Un;function er(t,e){var n=t.type.contextTypes;if(!n)return Un;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in n)r[i]=e[i];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function ot(t){return t=t.childContextTypes,t!=null}function Do(){de(it),de(Ge)}function zh(t,e,n){if(Ge.current!==Un)throw Error(I(168));le(Ge,e),le(it,n)}function tp(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(I(108,e_(t)||"Unknown",r));return we({},n,s)}function Mo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Un,ms=Ge.current,le(Ge,t),le(it,it.current),!0}function Wh(t,e,n){var s=t.stateNode;if(!s)throw Error(I(169));n?(t=tp(t,e,ms),s.__reactInternalMemoizedMergedChildContext=t,de(it),de(Ge),le(Ge,t)):de(it),le(it,n)}var nn=null,Ma=!1,_l=!1;function np(t){nn===null?nn=[t]:nn.push(t)}function _v(t){Ma=!0,np(t)}function Jn(){if(!_l&&nn!==null){_l=!0;var t=0,e=oe;try{var n=nn;for(oe=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}nn=null,Ma=!1}catch(r){throw nn!==null&&(nn=nn.slice(t+1)),Ef(Qu,Jn),r}finally{oe=e,_l=!1}}return null}var js=[],zs=0,Io=null,Ro=0,wt=[],xt=0,gs=null,sn=1,rn="";function rs(t,e){js[zs++]=Ro,js[zs++]=Io,Io=t,Ro=e}function sp(t,e,n){wt[xt++]=sn,wt[xt++]=rn,wt[xt++]=gs,gs=t;var s=sn;t=rn;var r=32-bt(s)-1;s&=~(1<<r),n+=1;var i=32-bt(e)+r;if(30<i){var o=r-r%5;i=(s&(1<<o)-1).toString(32),s>>=o,r-=o,sn=1<<32-bt(e)+r|n<<r|s,rn=i+t}else sn=1<<i|n<<r|s,rn=t}function sc(t){t.return!==null&&(rs(t,1),sp(t,1,0))}function rc(t){for(;t===Io;)Io=js[--zs],js[zs]=null,Ro=js[--zs],js[zs]=null;for(;t===gs;)gs=wt[--xt],wt[xt]=null,rn=wt[--xt],wt[xt]=null,sn=wt[--xt],wt[xt]=null}var ft=null,ht=null,me=!1,It=null;function rp(t,e){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ft=t,ht=Vn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ft=t,ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gs!==null?{id:sn,overflow:rn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ft=t,ht=null,!0):!1;default:return!1}}function tu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nu(t){if(me){var e=ht;if(e){var n=e;if(!qh(t,e)){if(tu(t))throw Error(I(418));e=Vn(n.nextSibling);var s=ft;e&&qh(t,e)?rp(s,n):(t.flags=t.flags&-4097|2,me=!1,ft=t)}}else{if(tu(t))throw Error(I(418));t.flags=t.flags&-4097|2,me=!1,ft=t}}}function Bh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ft=t}function Xi(t){if(t!==ft)return!1;if(!me)return Bh(t),me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zl(t.type,t.memoizedProps)),e&&(e=ht)){if(tu(t))throw ip(),Error(I(418));for(;e;)rp(t,e),e=Vn(e.nextSibling)}if(Bh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(I(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ht=Vn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ht=null}}else ht=ft?Vn(t.stateNode.nextSibling):null;return!0}function ip(){for(var t=ht;t;)t=Vn(t.nextSibling)}function tr(){ht=ft=null,me=!1}function ic(t){It===null?It=[t]:It.push(t)}var vv=vn.ReactCurrentBatchConfig;function Nr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var s=n.stateNode}if(!s)throw Error(I(147,t));var r=s,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=r.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,t))}return t}function Yi(t,e){throw t=Object.prototype.toString.call(e),Error(I(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Uh(t){var e=t._init;return e(t._payload)}function op(t){function e(f,g){if(t){var v=f.deletions;v===null?(f.deletions=[g],f.flags|=16):v.push(g)}}function n(f,g){if(!t)return null;for(;g!==null;)e(f,g),g=g.sibling;return null}function s(f,g){for(f=new Map;g!==null;)g.key!==null?f.set(g.key,g):f.set(g.index,g),g=g.sibling;return f}function r(f,g){return f=Wn(f,g),f.index=0,f.sibling=null,f}function i(f,g,v){return f.index=v,t?(v=f.alternate,v!==null?(v=v.index,v<g?(f.flags|=2,g):v):(f.flags|=2,g)):(f.flags|=1048576,g)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,g,v,T){return g===null||g.tag!==6?(g=kl(v,f.mode,T),g.return=f,g):(g=r(g,v),g.return=f,g)}function l(f,g,v,T){var y=v.type;return y===Rs?c(f,g,v.props.children,T,v.key):g!==null&&(g.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===Nn&&Uh(y)===g.type)?(T=r(g,v.props),T.ref=Nr(f,g,v),T.return=f,T):(T=_o(v.type,v.key,v.props,null,f.mode,T),T.ref=Nr(f,g,v),T.return=f,T)}function u(f,g,v,T){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Cl(v,f.mode,T),g.return=f,g):(g=r(g,v.children||[]),g.return=f,g)}function c(f,g,v,T,y){return g===null||g.tag!==7?(g=ds(v,f.mode,T,y),g.return=f,g):(g=r(g,v),g.return=f,g)}function h(f,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=kl(""+g,f.mode,v),g.return=f,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ji:return v=_o(g.type,g.key,g.props,null,f.mode,v),v.ref=Nr(f,null,g),v.return=f,v;case Is:return g=Cl(g,f.mode,v),g.return=f,g;case Nn:var T=g._init;return h(f,T(g._payload),v)}if(Dr(g)||xr(g))return g=ds(g,f.mode,v,null),g.return=f,g;Yi(f,g)}return null}function d(f,g,v,T){var y=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return y!==null?null:a(f,g,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ji:return v.key===y?l(f,g,v,T):null;case Is:return v.key===y?u(f,g,v,T):null;case Nn:return y=v._init,d(f,g,y(v._payload),T)}if(Dr(v)||xr(v))return y!==null?null:c(f,g,v,T,null);Yi(f,v)}return null}function p(f,g,v,T,y){if(typeof T=="string"&&T!==""||typeof T=="number")return f=f.get(v)||null,a(g,f,""+T,y);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ji:return f=f.get(T.key===null?v:T.key)||null,l(g,f,T,y);case Is:return f=f.get(T.key===null?v:T.key)||null,u(g,f,T,y);case Nn:var S=T._init;return p(f,g,v,S(T._payload),y)}if(Dr(T)||xr(T))return f=f.get(v)||null,c(g,f,T,y,null);Yi(g,T)}return null}function m(f,g,v,T){for(var y=null,S=null,k=g,x=g=0,E=null;k!==null&&x<v.length;x++){k.index>x?(E=k,k=null):E=k.sibling;var C=d(f,k,v[x],T);if(C===null){k===null&&(k=E);break}t&&k&&C.alternate===null&&e(f,k),g=i(C,g,x),S===null?y=C:S.sibling=C,S=C,k=E}if(x===v.length)return n(f,k),me&&rs(f,x),y;if(k===null){for(;x<v.length;x++)k=h(f,v[x],T),k!==null&&(g=i(k,g,x),S===null?y=k:S.sibling=k,S=k);return me&&rs(f,x),y}for(k=s(f,k);x<v.length;x++)E=p(k,f,x,v[x],T),E!==null&&(t&&E.alternate!==null&&k.delete(E.key===null?x:E.key),g=i(E,g,x),S===null?y=E:S.sibling=E,S=E);return t&&k.forEach(function(D){return e(f,D)}),me&&rs(f,x),y}function _(f,g,v,T){var y=xr(v);if(typeof y!="function")throw Error(I(150));if(v=y.call(v),v==null)throw Error(I(151));for(var S=y=null,k=g,x=g=0,E=null,C=v.next();k!==null&&!C.done;x++,C=v.next()){k.index>x?(E=k,k=null):E=k.sibling;var D=d(f,k,C.value,T);if(D===null){k===null&&(k=E);break}t&&k&&D.alternate===null&&e(f,k),g=i(D,g,x),S===null?y=D:S.sibling=D,S=D,k=E}if(C.done)return n(f,k),me&&rs(f,x),y;if(k===null){for(;!C.done;x++,C=v.next())C=h(f,C.value,T),C!==null&&(g=i(C,g,x),S===null?y=C:S.sibling=C,S=C);return me&&rs(f,x),y}for(k=s(f,k);!C.done;x++,C=v.next())C=p(k,f,x,C.value,T),C!==null&&(t&&C.alternate!==null&&k.delete(C.key===null?x:C.key),g=i(C,g,x),S===null?y=C:S.sibling=C,S=C);return t&&k.forEach(function(O){return e(f,O)}),me&&rs(f,x),y}function w(f,g,v,T){if(typeof v=="object"&&v!==null&&v.type===Rs&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ji:e:{for(var y=v.key,S=g;S!==null;){if(S.key===y){if(y=v.type,y===Rs){if(S.tag===7){n(f,S.sibling),g=r(S,v.props.children),g.return=f,f=g;break e}}else if(S.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===Nn&&Uh(y)===S.type){n(f,S.sibling),g=r(S,v.props),g.ref=Nr(f,S,v),g.return=f,f=g;break e}n(f,S);break}else e(f,S);S=S.sibling}v.type===Rs?(g=ds(v.props.children,f.mode,T,v.key),g.return=f,f=g):(T=_o(v.type,v.key,v.props,null,f.mode,T),T.ref=Nr(f,g,v),T.return=f,f=T)}return o(f);case Is:e:{for(S=v.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(f,g.sibling),g=r(g,v.children||[]),g.return=f,f=g;break e}else{n(f,g);break}else e(f,g);g=g.sibling}g=Cl(v,f.mode,T),g.return=f,f=g}return o(f);case Nn:return S=v._init,w(f,g,S(v._payload),T)}if(Dr(v))return m(f,g,v,T);if(xr(v))return _(f,g,v,T);Yi(f,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(f,g.sibling),g=r(g,v),g.return=f,f=g):(n(f,g),g=kl(v,f.mode,T),g.return=f,f=g),o(f)):n(f,g)}return w}var nr=op(!0),ap=op(!1),Po=Kn(null),bo=null,Ws=null,oc=null;function ac(){oc=Ws=bo=null}function lc(t){var e=Po.current;de(Po),t._currentValue=e}function su(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Ys(t,e){bo=t,oc=Ws=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rt=!0),t.firstContext=null)}function Et(t){var e=t._currentValue;if(oc!==t)if(t={context:t,memoizedValue:e,next:null},Ws===null){if(bo===null)throw Error(I(308));Ws=t,bo.dependencies={lanes:0,firstContext:t}}else Ws=Ws.next=t;return e}var as=null;function uc(t){as===null?as=[t]:as.push(t)}function lp(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,uc(e)):(n.next=r.next,r.next=n),e.interleaved=n,hn(t,s)}function hn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var En=!1;function cc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function up(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function on(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ln(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,te&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,hn(t,n)}return r=s.interleaved,r===null?(e.next=e,uc(s)):(e.next=r.next,r.next=e),s.interleaved=e,hn(t,n)}function co(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Xu(t,n)}}function $h(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?r=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fo(t,e,n,s){var r=t.updateQueue;En=!1;var i=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var h=r.baseState;o=0,c=u=l=null,a=i;do{var d=a.lane,p=a.eventTime;if((s&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,_=a;switch(d=e,p=n,_.tag){case 1:if(m=_.payload,typeof m=="function"){h=m.call(p,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,d=typeof m=="function"?m.call(p,h,d):m,d==null)break e;h=we({},h,d);break e;case 2:En=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,o|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(!0);if(c===null&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else i===null&&(r.shared.lanes=0);vs|=o,t.lanes=o,t.memoizedState=h}}function Hh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(I(191,r));r.call(s)}}}var Ni={},Qt=Kn(Ni),ei=Kn(Ni),ti=Kn(Ni);function ls(t){if(t===Ni)throw Error(I(174));return t}function hc(t,e){switch(le(ti,e),le(ei,t),le(Qt,Ni),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vl(e,t)}de(Qt),le(Qt,e)}function sr(){de(Qt),de(ei),de(ti)}function cp(t){ls(ti.current);var e=ls(Qt.current),n=Vl(e,t.type);e!==n&&(le(ei,t),le(Qt,n))}function dc(t){ei.current===t&&(de(Qt),de(ei))}var _e=Kn(0);function Vo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vl=[];function fc(){for(var t=0;t<vl.length;t++)vl[t]._workInProgressVersionPrimary=null;vl.length=0}var ho=vn.ReactCurrentDispatcher,yl=vn.ReactCurrentBatchConfig,_s=0,ye=null,Ie=null,Fe=null,Lo=!1,Lr=!1,ni=0,yv=0;function Ue(){throw Error(I(321))}function pc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vt(t[n],e[n]))return!1;return!0}function mc(t,e,n,s,r,i){if(_s=i,ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ho.current=t===null||t.memoizedState===null?Tv:kv,t=n(s,r),Lr){i=0;do{if(Lr=!1,ni=0,25<=i)throw Error(I(301));i+=1,Fe=Ie=null,e.updateQueue=null,ho.current=Cv,t=n(s,r)}while(Lr)}if(ho.current=jo,e=Ie!==null&&Ie.next!==null,_s=0,Fe=Ie=ye=null,Lo=!1,e)throw Error(I(300));return t}function gc(){var t=ni!==0;return ni=0,t}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?ye.memoizedState=Fe=t:Fe=Fe.next=t,Fe}function At(){if(Ie===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var e=Fe===null?ye.memoizedState:Fe.next;if(e!==null)Fe=e,Ie=t;else{if(t===null)throw Error(I(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Fe===null?ye.memoizedState=Fe=t:Fe=Fe.next=t}return Fe}function si(t,e){return typeof e=="function"?e(t):e}function wl(t){var e=At(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var s=Ie,r=s.baseQueue,i=n.pending;if(i!==null){if(r!==null){var o=r.next;r.next=i.next,i.next=o}s.baseQueue=r=i,n.pending=null}if(r!==null){i=r.next,s=s.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((_s&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=s):l=l.next=h,ye.lanes|=c,vs|=c}u=u.next}while(u!==null&&u!==i);l===null?o=s:l.next=a,Vt(s,e.memoizedState)||(rt=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do i=r.lane,ye.lanes|=i,vs|=i,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xl(t){var e=At(),n=e.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do i=t(i,o.action),o=o.next;while(o!==r);Vt(i,e.memoizedState)||(rt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function hp(){}function dp(t,e){var n=ye,s=At(),r=e(),i=!Vt(s.memoizedState,r);if(i&&(s.memoizedState=r,rt=!0),s=s.queue,_c(mp.bind(null,n,s,t),[t]),s.getSnapshot!==e||i||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,ri(9,pp.bind(null,n,s,r,e),void 0,null),Ve===null)throw Error(I(349));_s&30||fp(n,e,r)}return r}function fp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pp(t,e,n,s){e.value=n,e.getSnapshot=s,gp(e)&&_p(t)}function mp(t,e,n){return n(function(){gp(e)&&_p(t)})}function gp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vt(t,n)}catch{return!0}}function _p(t){var e=hn(t,1);e!==null&&Ft(e,t,1,-1)}function Gh(t){var e=Ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},e.queue=t,t=t.dispatch=Sv.bind(null,ye,t),[e.memoizedState,t]}function ri(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function vp(){return At().memoizedState}function fo(t,e,n,s){var r=Ut();ye.flags|=t,r.memoizedState=ri(1|e,n,void 0,s===void 0?null:s)}function Ia(t,e,n,s){var r=At();s=s===void 0?null:s;var i=void 0;if(Ie!==null){var o=Ie.memoizedState;if(i=o.destroy,s!==null&&pc(s,o.deps)){r.memoizedState=ri(e,n,i,s);return}}ye.flags|=t,r.memoizedState=ri(1|e,n,i,s)}function Qh(t,e){return fo(8390656,8,t,e)}function _c(t,e){return Ia(2048,8,t,e)}function yp(t,e){return Ia(4,2,t,e)}function wp(t,e){return Ia(4,4,t,e)}function xp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sp(t,e,n){return n=n!=null?n.concat([t]):null,Ia(4,4,xp.bind(null,e,t),n)}function vc(){}function Tp(t,e){var n=At();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&pc(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function kp(t,e){var n=At();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&pc(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Cp(t,e,n){return _s&21?(Vt(n,e)||(n=Df(),ye.lanes|=n,vs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rt=!0),t.memoizedState=n)}function wv(t,e){var n=oe;oe=n!==0&&4>n?n:4,t(!0);var s=yl.transition;yl.transition={};try{t(!1),e()}finally{oe=n,yl.transition=s}}function Np(){return At().memoizedState}function xv(t,e,n){var s=zn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Ep(t))Ap(e,n);else if(n=lp(t,e,n,s),n!==null){var r=Ke();Ft(n,t,s,r),Op(n,e,s)}}function Sv(t,e,n){var s=zn(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ep(t))Ap(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(r.hasEagerState=!0,r.eagerState=a,Vt(a,o)){var l=e.interleaved;l===null?(r.next=r,uc(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=lp(t,e,r,s),n!==null&&(r=Ke(),Ft(n,t,s,r),Op(n,e,s))}}function Ep(t){var e=t.alternate;return t===ye||e!==null&&e===ye}function Ap(t,e){Lr=Lo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Op(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Xu(t,n)}}var jo={readContext:Et,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},Tv={readContext:Et,useCallback:function(t,e){return Ut().memoizedState=[t,e===void 0?null:e],t},useContext:Et,useEffect:Qh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fo(4194308,4,xp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fo(4194308,4,t,e)},useInsertionEffect:function(t,e){return fo(4,2,t,e)},useMemo:function(t,e){var n=Ut();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Ut();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=xv.bind(null,ye,t),[s.memoizedState,t]},useRef:function(t){var e=Ut();return t={current:t},e.memoizedState=t},useState:Gh,useDebugValue:vc,useDeferredValue:function(t){return Ut().memoizedState=t},useTransition:function(){var t=Gh(!1),e=t[0];return t=wv.bind(null,t[1]),Ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=ye,r=Ut();if(me){if(n===void 0)throw Error(I(407));n=n()}else{if(n=e(),Ve===null)throw Error(I(349));_s&30||fp(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,Qh(mp.bind(null,s,i,t),[t]),s.flags|=2048,ri(9,pp.bind(null,s,i,n,e),void 0,null),n},useId:function(){var t=Ut(),e=Ve.identifierPrefix;if(me){var n=rn,s=sn;n=(s&~(1<<32-bt(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=ni++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kv={readContext:Et,useCallback:Tp,useContext:Et,useEffect:_c,useImperativeHandle:Sp,useInsertionEffect:yp,useLayoutEffect:wp,useMemo:kp,useReducer:wl,useRef:vp,useState:function(){return wl(si)},useDebugValue:vc,useDeferredValue:function(t){var e=At();return Cp(e,Ie.memoizedState,t)},useTransition:function(){var t=wl(si)[0],e=At().memoizedState;return[t,e]},useMutableSource:hp,useSyncExternalStore:dp,useId:Np,unstable_isNewReconciler:!1},Cv={readContext:Et,useCallback:Tp,useContext:Et,useEffect:_c,useImperativeHandle:Sp,useInsertionEffect:yp,useLayoutEffect:wp,useMemo:kp,useReducer:xl,useRef:vp,useState:function(){return xl(si)},useDebugValue:vc,useDeferredValue:function(t){var e=At();return Ie===null?e.memoizedState=t:Cp(e,Ie.memoizedState,t)},useTransition:function(){var t=xl(si)[0],e=At().memoizedState;return[t,e]},useMutableSource:hp,useSyncExternalStore:dp,useId:Np,unstable_isNewReconciler:!1};function Dt(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ru(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ra={isMounted:function(t){return(t=t._reactInternals)?ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Ke(),r=zn(t),i=on(s,r);i.payload=e,n!=null&&(i.callback=n),e=Ln(t,i,r),e!==null&&(Ft(e,t,r,s),co(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Ke(),r=zn(t),i=on(s,r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ln(t,i,r),e!==null&&(Ft(e,t,r,s),co(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ke(),s=zn(t),r=on(n,s);r.tag=2,e!=null&&(r.callback=e),e=Ln(t,r,s),e!==null&&(Ft(e,t,s,n),co(e,t,s))}};function Xh(t,e,n,s,r,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,o):e.prototype&&e.prototype.isPureReactComponent?!Yr(n,s)||!Yr(r,i):!0}function Dp(t,e,n){var s=!1,r=Un,i=e.contextType;return typeof i=="object"&&i!==null?i=Et(i):(r=ot(e)?ms:Ge.current,s=e.contextTypes,i=(s=s!=null)?er(t,r):Un),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ra,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=i),e}function Yh(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Ra.enqueueReplaceState(e,e.state,null)}function iu(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},cc(t);var i=e.contextType;typeof i=="object"&&i!==null?r.context=Et(i):(i=ot(e)?ms:Ge.current,r.context=er(t,i)),r.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ru(t,e,i,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ra.enqueueReplaceState(r,r.state,null),Fo(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function rr(t,e){try{var n="",s=e;do n+=Jg(s),s=s.return;while(s);var r=n}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:r,digest:null}}function Sl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ou(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Nv=typeof WeakMap=="function"?WeakMap:Map;function Mp(t,e,n){n=on(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Wo||(Wo=!0,gu=s),ou(t,e)},n}function Ip(t,e,n){n=on(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){ou(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ou(t,e),typeof s!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Zh(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Nv;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=zv.bind(null,t,e,n),e.then(t,t))}function Kh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jh(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=on(-1,1),e.tag=2,Ln(n,e,1))),n.lanes|=1),t)}var Ev=vn.ReactCurrentOwner,rt=!1;function Xe(t,e,n,s){e.child=t===null?ap(e,null,n,s):nr(e,t.child,n,s)}function ed(t,e,n,s,r){n=n.render;var i=e.ref;return Ys(e,r),s=mc(t,e,n,s,i,r),n=gc(),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,dn(t,e,r)):(me&&n&&sc(e),e.flags|=1,Xe(t,e,s,r),e.child)}function td(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Nc(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Rp(t,e,i,s,r)):(t=_o(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&r)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Yr,n(o,s)&&t.ref===e.ref)return dn(t,e,r)}return e.flags|=1,t=Wn(i,s),t.ref=e.ref,t.return=e,e.child=t}function Rp(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(Yr(i,s)&&t.ref===e.ref)if(rt=!1,e.pendingProps=s=i,(t.lanes&r)!==0)t.flags&131072&&(rt=!0);else return e.lanes=t.lanes,dn(t,e,r)}return au(t,e,n,s,r)}function Pp(t,e,n){var s=e.pendingProps,r=s.children,i=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Bs,ct),ct|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(Bs,ct),ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,le(Bs,ct),ct|=s}else i!==null?(s=i.baseLanes|n,e.memoizedState=null):s=n,le(Bs,ct),ct|=s;return Xe(t,e,r,n),e.child}function bp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function au(t,e,n,s,r){var i=ot(n)?ms:Ge.current;return i=er(e,i),Ys(e,r),n=mc(t,e,n,s,i,r),s=gc(),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,dn(t,e,r)):(me&&s&&sc(e),e.flags|=1,Xe(t,e,n,r),e.child)}function nd(t,e,n,s,r){if(ot(n)){var i=!0;Mo(e)}else i=!1;if(Ys(e,r),e.stateNode===null)po(t,e),Dp(e,n,s),iu(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Et(u):(u=ot(n)?ms:Ge.current,u=er(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==u)&&Yh(e,o,s,u),En=!1;var d=e.memoizedState;o.state=d,Fo(e,s,o,r),l=e.memoizedState,a!==s||d!==l||it.current||En?(typeof c=="function"&&(ru(e,n,c,s),l=e.memoizedState),(a=En||Xh(e,n,a,s,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,up(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Dt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Et(l):(l=ot(n)?ms:Ge.current,l=er(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Yh(e,o,s,l),En=!1,d=e.memoizedState,o.state=d,Fo(e,s,o,r);var m=e.memoizedState;a!==h||d!==m||it.current||En?(typeof p=="function"&&(ru(e,n,p,s),m=e.memoizedState),(u=En||Xh(e,n,u,s,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=m),o.props=s,o.state=m,o.context=l,s=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),s=!1)}return lu(t,e,n,s,i,r)}function lu(t,e,n,s,r,i){bp(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&Wh(e,n,!1),dn(t,e,i);s=e.stateNode,Ev.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=nr(e,t.child,null,i),e.child=nr(e,null,a,i)):Xe(t,e,a,i),e.memoizedState=s.state,r&&Wh(e,n,!0),e.child}function Fp(t){var e=t.stateNode;e.pendingContext?zh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zh(t,e.context,!1),hc(t,e.containerInfo)}function sd(t,e,n,s,r){return tr(),ic(r),e.flags|=256,Xe(t,e,n,s),e.child}var uu={dehydrated:null,treeContext:null,retryLane:0};function cu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Vp(t,e,n){var s=e.pendingProps,r=_e.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),le(_e,r&1),t===null)return nu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,i?(s=e.mode,i=e.child,o={mode:"hidden",children:o},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Fa(o,s,0,null),t=ds(t,s,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=cu(n),e.memoizedState=uu,t):yc(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return Av(t,e,o,s,a,r,n);if(i){i=s.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=Wn(r,l),s.subtreeFlags=r.subtreeFlags&14680064),a!==null?i=Wn(a,i):(i=ds(i,o,n,null),i.flags|=2),i.return=e,s.return=e,s.sibling=i,e.child=s,s=i,i=e.child,o=t.child.memoizedState,o=o===null?cu(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=uu,s}return i=t.child,t=i.sibling,s=Wn(i,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function yc(t,e){return e=Fa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zi(t,e,n,s){return s!==null&&ic(s),nr(e,t.child,null,n),t=yc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Av(t,e,n,s,r,i,o){if(n)return e.flags&256?(e.flags&=-257,s=Sl(Error(I(422))),Zi(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=s.fallback,r=e.mode,s=Fa({mode:"visible",children:s.children},r,0,null),i=ds(i,r,o,null),i.flags|=2,s.return=e,i.return=e,s.sibling=i,e.child=s,e.mode&1&&nr(e,t.child,null,o),e.child.memoizedState=cu(o),e.memoizedState=uu,i);if(!(e.mode&1))return Zi(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var a=s.dgst;return s=a,i=Error(I(419)),s=Sl(i,s,void 0),Zi(t,e,o,s)}if(a=(o&t.childLanes)!==0,rt||a){if(s=Ve,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,hn(t,r),Ft(s,t,r,-1))}return Cc(),s=Sl(Error(I(421))),Zi(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=Wv.bind(null,t),r._reactRetry=e,null):(t=i.treeContext,ht=Vn(r.nextSibling),ft=e,me=!0,It=null,t!==null&&(wt[xt++]=sn,wt[xt++]=rn,wt[xt++]=gs,sn=t.id,rn=t.overflow,gs=e),e=yc(e,s.children),e.flags|=4096,e)}function rd(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),su(t.return,e,n)}function Tl(t,e,n,s,r){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=r)}function Lp(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;if(Xe(t,e,s.children,n),s=_e.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rd(t,n,e);else if(t.tag===19)rd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(le(_e,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Vo(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Tl(e,!1,r,n,i);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Vo(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Tl(e,!0,n,null,i);break;case"together":Tl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function po(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(I(153));if(e.child!==null){for(t=e.child,n=Wn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ov(t,e,n){switch(e.tag){case 3:Fp(e),tr();break;case 5:cp(e);break;case 1:ot(e.type)&&Mo(e);break;case 4:hc(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;le(Po,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(le(_e,_e.current&1),e.flags|=128,null):n&e.child.childLanes?Vp(t,e,n):(le(_e,_e.current&1),t=dn(t,e,n),t!==null?t.sibling:null);le(_e,_e.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return Lp(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),le(_e,_e.current),s)break;return null;case 22:case 23:return e.lanes=0,Pp(t,e,n)}return dn(t,e,n)}var jp,hu,zp,Wp;jp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hu=function(){};zp=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,ls(Qt.current);var i=null;switch(n){case"input":r=Rl(t,r),s=Rl(t,s),i=[];break;case"select":r=we({},r,{value:void 0}),s=we({},s,{value:void 0}),i=[];break;case"textarea":r=Fl(t,r),s=Fl(t,s),i=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Oo)}Ll(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Br.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var l=s[u];if(a=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Br.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ce("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Wp=function(t,e,n,s){n!==s&&(e.flags|=4)};function Er(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function $e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function Dv(t,e,n){var s=e.pendingProps;switch(rc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(e),null;case 1:return ot(e.type)&&Do(),$e(e),null;case 3:return s=e.stateNode,sr(),de(it),de(Ge),fc(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Xi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,It!==null&&(yu(It),It=null))),hu(t,e),$e(e),null;case 5:dc(e);var r=ls(ti.current);if(n=e.type,t!==null&&e.stateNode!=null)zp(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(I(166));return $e(e),null}if(t=ls(Qt.current),Xi(e)){s=e.stateNode,n=e.type;var i=e.memoizedProps;switch(s[$t]=e,s[Jr]=i,t=(e.mode&1)!==0,n){case"dialog":ce("cancel",s),ce("close",s);break;case"iframe":case"object":case"embed":ce("load",s);break;case"video":case"audio":for(r=0;r<Ir.length;r++)ce(Ir[r],s);break;case"source":ce("error",s);break;case"img":case"image":case"link":ce("error",s),ce("load",s);break;case"details":ce("toggle",s);break;case"input":fh(s,i),ce("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},ce("invalid",s);break;case"textarea":mh(s,i),ce("invalid",s)}Ll(n,i),r=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?s.textContent!==a&&(i.suppressHydrationWarning!==!0&&Qi(s.textContent,a,t),r=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Qi(s.textContent,a,t),r=["children",""+a]):Br.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ce("scroll",s)}switch(n){case"input":zi(s),ph(s,i,!0);break;case"textarea":zi(s),gh(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Oo)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[$t]=e,t[Jr]=s,jp(t,e,!1,!1),e.stateNode=t;e:{switch(o=jl(n,s),n){case"dialog":ce("cancel",t),ce("close",t),r=s;break;case"iframe":case"object":case"embed":ce("load",t),r=s;break;case"video":case"audio":for(r=0;r<Ir.length;r++)ce(Ir[r],t);r=s;break;case"source":ce("error",t),r=s;break;case"img":case"image":case"link":ce("error",t),ce("load",t),r=s;break;case"details":ce("toggle",t),r=s;break;case"input":fh(t,s),r=Rl(t,s),ce("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=we({},s,{value:void 0}),ce("invalid",t);break;case"textarea":mh(t,s),r=Fl(t,s),ce("invalid",t);break;default:r=s}Ll(n,r),a=r;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?vf(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gf(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ur(t,l):typeof l=="number"&&Ur(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Br.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ce("scroll",t):l!=null&&Bu(t,i,l,o))}switch(n){case"input":zi(t),ph(t,s,!1);break;case"textarea":zi(t),gh(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Bn(s.value));break;case"select":t.multiple=!!s.multiple,i=s.value,i!=null?Hs(t,!!s.multiple,i,!1):s.defaultValue!=null&&Hs(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Oo)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $e(e),null;case 6:if(t&&e.stateNode!=null)Wp(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(I(166));if(n=ls(ti.current),ls(Qt.current),Xi(e)){if(s=e.stateNode,n=e.memoizedProps,s[$t]=e,(i=s.nodeValue!==n)&&(t=ft,t!==null))switch(t.tag){case 3:Qi(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qi(s.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[$t]=e,e.stateNode=s}return $e(e),null;case 13:if(de(_e),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&ht!==null&&e.mode&1&&!(e.flags&128))ip(),tr(),e.flags|=98560,i=!1;else if(i=Xi(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(I(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[$t]=e}else tr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$e(e),i=!1}else It!==null&&(yu(It),It=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||_e.current&1?Re===0&&(Re=3):Cc())),e.updateQueue!==null&&(e.flags|=4),$e(e),null);case 4:return sr(),hu(t,e),t===null&&Zr(e.stateNode.containerInfo),$e(e),null;case 10:return lc(e.type._context),$e(e),null;case 17:return ot(e.type)&&Do(),$e(e),null;case 19:if(de(_e),i=e.memoizedState,i===null)return $e(e),null;if(s=(e.flags&128)!==0,o=i.rendering,o===null)if(s)Er(i,!1);else{if(Re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vo(t),o!==null){for(e.flags|=128,Er(i,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)i=n,t=s,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return le(_e,_e.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ee()>ir&&(e.flags|=128,s=!0,Er(i,!1),e.lanes=4194304)}else{if(!s)if(t=Vo(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Er(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!me)return $e(e),null}else 2*Ee()-i.renderingStartTime>ir&&n!==1073741824&&(e.flags|=128,s=!0,Er(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ee(),e.sibling=null,n=_e.current,le(_e,s?n&1|2:n&1),e):($e(e),null);case 22:case 23:return kc(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?ct&1073741824&&($e(e),e.subtreeFlags&6&&(e.flags|=8192)):$e(e),null;case 24:return null;case 25:return null}throw Error(I(156,e.tag))}function Mv(t,e){switch(rc(e),e.tag){case 1:return ot(e.type)&&Do(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sr(),de(it),de(Ge),fc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dc(e),null;case 13:if(de(_e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(I(340));tr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(_e),null;case 4:return sr(),null;case 10:return lc(e.type._context),null;case 22:case 23:return kc(),null;case 24:return null;default:return null}}var Ki=!1,He=!1,Iv=typeof WeakSet=="function"?WeakSet:Set,z=null;function qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Se(t,e,s)}else n.current=null}function du(t,e,n){try{n()}catch(s){Se(t,e,s)}}var id=!1;function Rv(t,e){if(Xl=No,t=Hf(),nc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var p;h!==n||r!==0&&h.nodeType!==3||(a=o+r),h!==i||s!==0&&h.nodeType!==3||(l=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===t)break t;if(d===n&&++u===r&&(a=o),d===i&&++c===s&&(l=o),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yl={focusedElem:t,selectionRange:n},No=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,w=m.memoizedState,f=e.stateNode,g=f.getSnapshotBeforeUpdate(e.elementType===e.type?_:Dt(e.type,_),w);f.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(T){Se(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return m=id,id=!1,m}function jr(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var i=r.destroy;r.destroy=void 0,i!==void 0&&du(e,n,i)}r=r.next}while(r!==s)}}function Pa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function fu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qp(t){var e=t.alternate;e!==null&&(t.alternate=null,qp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$t],delete e[Jr],delete e[Jl],delete e[mv],delete e[gv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Bp(t){return t.tag===5||t.tag===3||t.tag===4}function od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Oo));else if(s!==4&&(t=t.child,t!==null))for(pu(t,e,n),t=t.sibling;t!==null;)pu(t,e,n),t=t.sibling}function mu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(mu(t,e,n),t=t.sibling;t!==null;)mu(t,e,n),t=t.sibling}var je=null,Mt=!1;function Tn(t,e,n){for(n=n.child;n!==null;)Up(t,e,n),n=n.sibling}function Up(t,e,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Na,n)}catch{}switch(n.tag){case 5:He||qs(n,e);case 6:var s=je,r=Mt;je=null,Tn(t,e,n),je=s,Mt=r,je!==null&&(Mt?(t=je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(Mt?(t=je,n=n.stateNode,t.nodeType===8?gl(t.parentNode,n):t.nodeType===1&&gl(t,n),Qr(t)):gl(je,n.stateNode));break;case 4:s=je,r=Mt,je=n.stateNode.containerInfo,Mt=!0,Tn(t,e,n),je=s,Mt=r;break;case 0:case 11:case 14:case 15:if(!He&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var i=r,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&du(n,e,o),r=r.next}while(r!==s)}Tn(t,e,n);break;case 1:if(!He&&(qs(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){Se(n,e,a)}Tn(t,e,n);break;case 21:Tn(t,e,n);break;case 22:n.mode&1?(He=(s=He)||n.memoizedState!==null,Tn(t,e,n),He=s):Tn(t,e,n);break;default:Tn(t,e,n)}}function ad(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Iv),e.forEach(function(s){var r=qv.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function Ot(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:je=a.stateNode,Mt=!1;break e;case 3:je=a.stateNode.containerInfo,Mt=!0;break e;case 4:je=a.stateNode.containerInfo,Mt=!0;break e}a=a.return}if(je===null)throw Error(I(160));Up(i,o,r),je=null,Mt=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Se(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$p(e,t),e=e.sibling}function $p(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ot(e,t),Bt(t),s&4){try{jr(3,t,t.return),Pa(3,t)}catch(_){Se(t,t.return,_)}try{jr(5,t,t.return)}catch(_){Se(t,t.return,_)}}break;case 1:Ot(e,t),Bt(t),s&512&&n!==null&&qs(n,n.return);break;case 5:if(Ot(e,t),Bt(t),s&512&&n!==null&&qs(n,n.return),t.flags&32){var r=t.stateNode;try{Ur(r,"")}catch(_){Se(t,t.return,_)}}if(s&4&&(r=t.stateNode,r!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ff(r,i),jl(a,o);var u=jl(a,i);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?vf(r,h):c==="dangerouslySetInnerHTML"?gf(r,h):c==="children"?Ur(r,h):Bu(r,c,h,u)}switch(a){case"input":Pl(r,i);break;case"textarea":pf(r,i);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Hs(r,!!i.multiple,p,!1):d!==!!i.multiple&&(i.defaultValue!=null?Hs(r,!!i.multiple,i.defaultValue,!0):Hs(r,!!i.multiple,i.multiple?[]:"",!1))}r[Jr]=i}catch(_){Se(t,t.return,_)}}break;case 6:if(Ot(e,t),Bt(t),s&4){if(t.stateNode===null)throw Error(I(162));r=t.stateNode,i=t.memoizedProps;try{r.nodeValue=i}catch(_){Se(t,t.return,_)}}break;case 3:if(Ot(e,t),Bt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Qr(e.containerInfo)}catch(_){Se(t,t.return,_)}break;case 4:Ot(e,t),Bt(t);break;case 13:Ot(e,t),Bt(t),r=t.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Sc=Ee())),s&4&&ad(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(He=(u=He)||c,Ot(e,t),He=u):Ot(e,t),Bt(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(z=t,c=t.child;c!==null;){for(h=z=c;z!==null;){switch(d=z,p=d.child,d.tag){case 0:case 11:case 14:case 15:jr(4,d,d.return);break;case 1:qs(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){s=d,n=d.return;try{e=s,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(_){Se(s,n,_)}}break;case 5:qs(d,d.return);break;case 22:if(d.memoizedState!==null){ud(h);continue}}p!==null?(p.return=d,z=p):ud(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{r=h.stateNode,u?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_f("display",o))}catch(_){Se(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Se(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ot(e,t),Bt(t),s&4&&ad(t);break;case 21:break;default:Ot(e,t),Bt(t)}}function Bt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Bp(n)){var s=n;break e}n=n.return}throw Error(I(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Ur(r,""),s.flags&=-33);var i=od(t);mu(t,i,r);break;case 3:case 4:var o=s.stateNode.containerInfo,a=od(t);pu(t,a,o);break;default:throw Error(I(161))}}catch(l){Se(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Pv(t,e,n){z=t,Hp(t)}function Hp(t,e,n){for(var s=(t.mode&1)!==0;z!==null;){var r=z,i=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||Ki;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||He;a=Ki;var u=He;if(Ki=o,(He=l)&&!u)for(z=r;z!==null;)o=z,l=o.child,o.tag===22&&o.memoizedState!==null?cd(r):l!==null?(l.return=o,z=l):cd(r);for(;i!==null;)z=i,Hp(i),i=i.sibling;z=r,Ki=a,He=u}ld(t)}else r.subtreeFlags&8772&&i!==null?(i.return=r,z=i):ld(t)}}function ld(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:He||Pa(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!He)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Dt(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Hh(e,i,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hh(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Qr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}He||e.flags&512&&fu(e)}catch(d){Se(e,e.return,d)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function ud(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function cd(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pa(4,e)}catch(l){Se(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(l){Se(e,r,l)}}var i=e.return;try{fu(e)}catch(l){Se(e,i,l)}break;case 5:var o=e.return;try{fu(e)}catch(l){Se(e,o,l)}}}catch(l){Se(e,e.return,l)}if(e===t){z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,z=a;break}z=e.return}}var bv=Math.ceil,zo=vn.ReactCurrentDispatcher,wc=vn.ReactCurrentOwner,kt=vn.ReactCurrentBatchConfig,te=0,Ve=null,De=null,ze=0,ct=0,Bs=Kn(0),Re=0,ii=null,vs=0,ba=0,xc=0,zr=null,nt=null,Sc=0,ir=1/0,en=null,Wo=!1,gu=null,jn=null,Ji=!1,In=null,qo=0,Wr=0,_u=null,mo=-1,go=0;function Ke(){return te&6?Ee():mo!==-1?mo:mo=Ee()}function zn(t){return t.mode&1?te&2&&ze!==0?ze&-ze:vv.transition!==null?(go===0&&(go=Df()),go):(t=oe,t!==0||(t=window.event,t=t===void 0?16:Vf(t.type)),t):1}function Ft(t,e,n,s){if(50<Wr)throw Wr=0,_u=null,Error(I(185));Ti(t,n,s),(!(te&2)||t!==Ve)&&(t===Ve&&(!(te&2)&&(ba|=n),Re===4&&Dn(t,ze)),at(t,s),n===1&&te===0&&!(e.mode&1)&&(ir=Ee()+500,Ma&&Jn()))}function at(t,e){var n=t.callbackNode;v_(t,e);var s=Co(t,t===Ve?ze:0);if(s===0)n!==null&&yh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&yh(n),e===1)t.tag===0?_v(hd.bind(null,t)):np(hd.bind(null,t)),fv(function(){!(te&6)&&Jn()}),n=null;else{switch(Mf(s)){case 1:n=Qu;break;case 4:n=Af;break;case 16:n=ko;break;case 536870912:n=Of;break;default:n=ko}n=em(n,Gp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Gp(t,e){if(mo=-1,go=0,te&6)throw Error(I(327));var n=t.callbackNode;if(Zs()&&t.callbackNode!==n)return null;var s=Co(t,t===Ve?ze:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Bo(t,s);else{e=s;var r=te;te|=2;var i=Xp();(Ve!==t||ze!==e)&&(en=null,ir=Ee()+500,hs(t,e));do try{Lv();break}catch(a){Qp(t,a)}while(!0);ac(),zo.current=i,te=r,De!==null?e=0:(Ve=null,ze=0,e=Re)}if(e!==0){if(e===2&&(r=Ul(t),r!==0&&(s=r,e=vu(t,r))),e===1)throw n=ii,hs(t,0),Dn(t,s),at(t,Ee()),n;if(e===6)Dn(t,s);else{if(r=t.current.alternate,!(s&30)&&!Fv(r)&&(e=Bo(t,s),e===2&&(i=Ul(t),i!==0&&(s=i,e=vu(t,i))),e===1))throw n=ii,hs(t,0),Dn(t,s),at(t,Ee()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(I(345));case 2:is(t,nt,en);break;case 3:if(Dn(t,s),(s&130023424)===s&&(e=Sc+500-Ee(),10<e)){if(Co(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Ke(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Kl(is.bind(null,t,nt,en),e);break}is(t,nt,en);break;case 4:if(Dn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-bt(s);i=1<<o,o=e[o],o>r&&(r=o),s&=~i}if(s=r,s=Ee()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*bv(s/1960))-s,10<s){t.timeoutHandle=Kl(is.bind(null,t,nt,en),s);break}is(t,nt,en);break;case 5:is(t,nt,en);break;default:throw Error(I(329))}}}return at(t,Ee()),t.callbackNode===n?Gp.bind(null,t):null}function vu(t,e){var n=zr;return t.current.memoizedState.isDehydrated&&(hs(t,e).flags|=256),t=Bo(t,e),t!==2&&(e=nt,nt=n,e!==null&&yu(e)),t}function yu(t){nt===null?nt=t:nt.push.apply(nt,t)}function Fv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Vt(i(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dn(t,e){for(e&=~xc,e&=~ba,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-bt(e),s=1<<n;t[n]=-1,e&=~s}}function hd(t){if(te&6)throw Error(I(327));Zs();var e=Co(t,0);if(!(e&1))return at(t,Ee()),null;var n=Bo(t,e);if(t.tag!==0&&n===2){var s=Ul(t);s!==0&&(e=s,n=vu(t,s))}if(n===1)throw n=ii,hs(t,0),Dn(t,e),at(t,Ee()),n;if(n===6)throw Error(I(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,is(t,nt,en),at(t,Ee()),null}function Tc(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(ir=Ee()+500,Ma&&Jn())}}function ys(t){In!==null&&In.tag===0&&!(te&6)&&Zs();var e=te;te|=1;var n=kt.transition,s=oe;try{if(kt.transition=null,oe=1,t)return t()}finally{oe=s,kt.transition=n,te=e,!(te&6)&&Jn()}}function kc(){ct=Bs.current,de(Bs)}function hs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dv(n)),De!==null)for(n=De.return;n!==null;){var s=n;switch(rc(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Do();break;case 3:sr(),de(it),de(Ge),fc();break;case 5:dc(s);break;case 4:sr();break;case 13:de(_e);break;case 19:de(_e);break;case 10:lc(s.type._context);break;case 22:case 23:kc()}n=n.return}if(Ve=t,De=t=Wn(t.current,null),ze=ct=e,Re=0,ii=null,xc=ba=vs=0,nt=zr=null,as!==null){for(e=0;e<as.length;e++)if(n=as[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,i=n.pending;if(i!==null){var o=i.next;i.next=r,s.next=o}n.pending=s}as=null}return t}function Qp(t,e){do{var n=De;try{if(ac(),ho.current=jo,Lo){for(var s=ye.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Lo=!1}if(_s=0,Fe=Ie=ye=null,Lr=!1,ni=0,wc.current=null,n===null||n.return===null){Re=1,ii=e,De=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ze,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Kh(o);if(p!==null){p.flags&=-257,Jh(p,o,a,i,e),p.mode&1&&Zh(i,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var _=new Set;_.add(l),e.updateQueue=_}else m.add(l);break e}else{if(!(e&1)){Zh(i,u,e),Cc();break e}l=Error(I(426))}}else if(me&&a.mode&1){var w=Kh(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Jh(w,o,a,i,e),ic(rr(l,a));break e}}i=l=rr(l,a),Re!==4&&(Re=2),zr===null?zr=[i]:zr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var f=Mp(i,l,e);$h(i,f);break e;case 1:a=l;var g=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(jn===null||!jn.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=Ip(i,a,e);$h(i,T);break e}}i=i.return}while(i!==null)}Zp(n)}catch(y){e=y,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function Xp(){var t=zo.current;return zo.current=jo,t===null?jo:t}function Cc(){(Re===0||Re===3||Re===2)&&(Re=4),Ve===null||!(vs&268435455)&&!(ba&268435455)||Dn(Ve,ze)}function Bo(t,e){var n=te;te|=2;var s=Xp();(Ve!==t||ze!==e)&&(en=null,hs(t,e));do try{Vv();break}catch(r){Qp(t,r)}while(!0);if(ac(),te=n,zo.current=s,De!==null)throw Error(I(261));return Ve=null,ze=0,Re}function Vv(){for(;De!==null;)Yp(De)}function Lv(){for(;De!==null&&!u_();)Yp(De)}function Yp(t){var e=Jp(t.alternate,t,ct);t.memoizedProps=t.pendingProps,e===null?Zp(t):De=e,wc.current=null}function Zp(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Mv(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Re=6,De=null;return}}else if(n=Dv(n,e,ct),n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Re===0&&(Re=5)}function is(t,e,n){var s=oe,r=kt.transition;try{kt.transition=null,oe=1,jv(t,e,n,s)}finally{kt.transition=r,oe=s}return null}function jv(t,e,n,s){do Zs();while(In!==null);if(te&6)throw Error(I(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(I(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(y_(t,i),t===Ve&&(De=Ve=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ji||(Ji=!0,em(ko,function(){return Zs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=kt.transition,kt.transition=null;var o=oe;oe=1;var a=te;te|=4,wc.current=null,Rv(t,n),$p(n,t),iv(Yl),No=!!Xl,Yl=Xl=null,t.current=n,Pv(n),c_(),te=a,oe=o,kt.transition=i}else t.current=n;if(Ji&&(Ji=!1,In=t,qo=r),i=t.pendingLanes,i===0&&(jn=null),f_(n.stateNode),at(t,Ee()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(Wo)throw Wo=!1,t=gu,gu=null,t;return qo&1&&t.tag!==0&&Zs(),i=t.pendingLanes,i&1?t===_u?Wr++:(Wr=0,_u=t):Wr=0,Jn(),null}function Zs(){if(In!==null){var t=Mf(qo),e=kt.transition,n=oe;try{if(kt.transition=null,oe=16>t?16:t,In===null)var s=!1;else{if(t=In,In=null,qo=0,te&6)throw Error(I(331));var r=te;for(te|=4,z=t.current;z!==null;){var i=z,o=i.child;if(z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(z=u;z!==null;){var c=z;switch(c.tag){case 0:case 11:case 15:jr(8,c,i)}var h=c.child;if(h!==null)h.return=c,z=h;else for(;z!==null;){c=z;var d=c.sibling,p=c.return;if(qp(c),c===u){z=null;break}if(d!==null){d.return=p,z=d;break}z=p}}}var m=i.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,z=o;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:jr(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,z=f;break e}z=i.return}}var g=t.current;for(z=g;z!==null;){o=z;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,z=v;else e:for(o=g;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pa(9,a)}}catch(y){Se(a,a.return,y)}if(a===o){z=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,z=T;break e}z=a.return}}if(te=r,Jn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Na,t)}catch{}s=!0}return s}finally{oe=n,kt.transition=e}}return!1}function dd(t,e,n){e=rr(n,e),e=Mp(t,e,1),t=Ln(t,e,1),e=Ke(),t!==null&&(Ti(t,1,e),at(t,e))}function Se(t,e,n){if(t.tag===3)dd(t,t,n);else for(;e!==null;){if(e.tag===3){dd(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(jn===null||!jn.has(s))){t=rr(n,t),t=Ip(e,t,1),e=Ln(e,t,1),t=Ke(),e!==null&&(Ti(e,1,t),at(e,t));break}}e=e.return}}function zv(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Ke(),t.pingedLanes|=t.suspendedLanes&n,Ve===t&&(ze&n)===n&&(Re===4||Re===3&&(ze&130023424)===ze&&500>Ee()-Sc?hs(t,0):xc|=n),at(t,e)}function Kp(t,e){e===0&&(t.mode&1?(e=Bi,Bi<<=1,!(Bi&130023424)&&(Bi=4194304)):e=1);var n=Ke();t=hn(t,e),t!==null&&(Ti(t,e,n),at(t,n))}function Wv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Kp(t,n)}function qv(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(I(314))}s!==null&&s.delete(e),Kp(t,n)}var Jp;Jp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||it.current)rt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rt=!1,Ov(t,e,n);rt=!!(t.flags&131072)}else rt=!1,me&&e.flags&1048576&&sp(e,Ro,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;po(t,e),t=e.pendingProps;var r=er(e,Ge.current);Ys(e,n),r=mc(null,e,s,t,r,n);var i=gc();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ot(s)?(i=!0,Mo(e)):i=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,cc(e),r.updater=Ra,e.stateNode=r,r._reactInternals=e,iu(e,s,t,n),e=lu(null,e,s,!0,i,n)):(e.tag=0,me&&i&&sc(e),Xe(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(po(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=Uv(s),t=Dt(s,t),r){case 0:e=au(null,e,s,t,n);break e;case 1:e=nd(null,e,s,t,n);break e;case 11:e=ed(null,e,s,t,n);break e;case 14:e=td(null,e,s,Dt(s.type,t),n);break e}throw Error(I(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Dt(s,r),au(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Dt(s,r),nd(t,e,s,r,n);case 3:e:{if(Fp(e),t===null)throw Error(I(387));s=e.pendingProps,i=e.memoizedState,r=i.element,up(t,e),Fo(e,s,null,n);var o=e.memoizedState;if(s=o.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){r=rr(Error(I(423)),e),e=sd(t,e,s,n,r);break e}else if(s!==r){r=rr(Error(I(424)),e),e=sd(t,e,s,n,r);break e}else for(ht=Vn(e.stateNode.containerInfo.firstChild),ft=e,me=!0,It=null,n=ap(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tr(),s===r){e=dn(t,e,n);break e}Xe(t,e,s,n)}e=e.child}return e;case 5:return cp(e),t===null&&nu(e),s=e.type,r=e.pendingProps,i=t!==null?t.memoizedProps:null,o=r.children,Zl(s,r)?o=null:i!==null&&Zl(s,i)&&(e.flags|=32),bp(t,e),Xe(t,e,o,n),e.child;case 6:return t===null&&nu(e),null;case 13:return Vp(t,e,n);case 4:return hc(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=nr(e,null,s,n):Xe(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Dt(s,r),ed(t,e,s,r,n);case 7:return Xe(t,e,e.pendingProps,n),e.child;case 8:return Xe(t,e,e.pendingProps.children,n),e.child;case 12:return Xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,i=e.memoizedProps,o=r.value,le(Po,s._currentValue),s._currentValue=o,i!==null)if(Vt(i.value,o)){if(i.children===r.children&&!it.current){e=dn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(i.tag===1){l=on(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),su(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(I(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),su(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xe(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Ys(e,n),r=Et(r),s=s(r),e.flags|=1,Xe(t,e,s,n),e.child;case 14:return s=e.type,r=Dt(s,e.pendingProps),r=Dt(s.type,r),td(t,e,s,r,n);case 15:return Rp(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:Dt(s,r),po(t,e),e.tag=1,ot(s)?(t=!0,Mo(e)):t=!1,Ys(e,n),Dp(e,s,r),iu(e,s,r,n),lu(null,e,s,!0,t,n);case 19:return Lp(t,e,n);case 22:return Pp(t,e,n)}throw Error(I(156,e.tag))};function em(t,e){return Ef(t,e)}function Bv(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,e,n,s){return new Bv(t,e,n,s)}function Nc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Uv(t){if(typeof t=="function")return Nc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$u)return 11;if(t===Hu)return 14}return 2}function Wn(t,e){var n=t.alternate;return n===null?(n=St(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _o(t,e,n,s,r,i){var o=2;if(s=t,typeof t=="function")Nc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Rs:return ds(n.children,r,i,e);case Uu:o=8,r|=8;break;case Ol:return t=St(12,n,e,r|2),t.elementType=Ol,t.lanes=i,t;case Dl:return t=St(13,n,e,r),t.elementType=Dl,t.lanes=i,t;case Ml:return t=St(19,n,e,r),t.elementType=Ml,t.lanes=i,t;case cf:return Fa(n,r,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lf:o=10;break e;case uf:o=9;break e;case $u:o=11;break e;case Hu:o=14;break e;case Nn:o=16,s=null;break e}throw Error(I(130,t==null?t:typeof t,""))}return e=St(o,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function ds(t,e,n,s){return t=St(7,t,s,e),t.lanes=n,t}function Fa(t,e,n,s){return t=St(22,t,s,e),t.elementType=cf,t.lanes=n,t.stateNode={isHidden:!1},t}function kl(t,e,n){return t=St(6,t,null,e),t.lanes=n,t}function Cl(t,e,n){return e=St(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $v(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=il(0),this.expirationTimes=il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=il(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ec(t,e,n,s,r,i,o,a,l){return t=new $v(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=St(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cc(i),t}function Hv(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function tm(t){if(!t)return Un;t=t._reactInternals;e:{if(ks(t)!==t||t.tag!==1)throw Error(I(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(I(171))}if(t.tag===1){var n=t.type;if(ot(n))return tp(t,n,e)}return e}function nm(t,e,n,s,r,i,o,a,l){return t=Ec(n,s,!0,t,r,i,o,a,l),t.context=tm(null),n=t.current,s=Ke(),r=zn(n),i=on(s,r),i.callback=e??null,Ln(n,i,r),t.current.lanes=r,Ti(t,r,s),at(t,s),t}function Va(t,e,n,s){var r=e.current,i=Ke(),o=zn(r);return n=tm(n),e.context===null?e.context=n:e.pendingContext=n,e=on(i,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=Ln(r,e,o),t!==null&&(Ft(t,r,o,i),co(t,r,o)),o}function Uo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ac(t,e){fd(t,e),(t=t.alternate)&&fd(t,e)}function Gv(){return null}var sm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Oc(t){this._internalRoot=t}La.prototype.render=Oc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(I(409));Va(t,e,null,null)};La.prototype.unmount=Oc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ys(function(){Va(null,t,null,null)}),e[cn]=null}};function La(t){this._internalRoot=t}La.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<On.length&&e!==0&&e<On[n].priority;n++);On.splice(n,0,t),n===0&&Ff(t)}};function Dc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ja(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pd(){}function Qv(t,e,n,s,r){if(r){if(typeof s=="function"){var i=s;s=function(){var u=Uo(o);i.call(u)}}var o=nm(e,s,t,0,null,!1,!1,"",pd);return t._reactRootContainer=o,t[cn]=o.current,Zr(t.nodeType===8?t.parentNode:t),ys(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var a=s;s=function(){var u=Uo(l);a.call(u)}}var l=Ec(t,0,!1,null,null,!1,!1,"",pd);return t._reactRootContainer=l,t[cn]=l.current,Zr(t.nodeType===8?t.parentNode:t),ys(function(){Va(e,l,n,s)}),l}function za(t,e,n,s,r){var i=n._reactRootContainer;if(i){var o=i;if(typeof r=="function"){var a=r;r=function(){var l=Uo(o);a.call(l)}}Va(e,o,t,r)}else o=Qv(n,e,t,r,s);return Uo(o)}If=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mr(e.pendingLanes);n!==0&&(Xu(e,n|1),at(e,Ee()),!(te&6)&&(ir=Ee()+500,Jn()))}break;case 13:ys(function(){var s=hn(t,1);if(s!==null){var r=Ke();Ft(s,t,1,r)}}),Ac(t,1)}};Yu=function(t){if(t.tag===13){var e=hn(t,134217728);if(e!==null){var n=Ke();Ft(e,t,134217728,n)}Ac(t,134217728)}};Rf=function(t){if(t.tag===13){var e=zn(t),n=hn(t,e);if(n!==null){var s=Ke();Ft(n,t,e,s)}Ac(t,e)}};Pf=function(){return oe};bf=function(t,e){var n=oe;try{return oe=t,e()}finally{oe=n}};Wl=function(t,e,n){switch(e){case"input":if(Pl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=Da(s);if(!r)throw Error(I(90));df(s),Pl(s,r)}}}break;case"textarea":pf(t,n);break;case"select":e=n.value,e!=null&&Hs(t,!!n.multiple,e,!1)}};xf=Tc;Sf=ys;var Xv={usingClientEntryPoint:!1,Events:[Ci,Vs,Da,yf,wf,Tc]},Ar={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yv={bundleType:Ar.bundleType,version:Ar.version,rendererPackageName:Ar.rendererPackageName,rendererConfig:Ar.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cf(t),t===null?null:t.stateNode},findFiberByHostInstance:Ar.findFiberByHostInstance||Gv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{Na=eo.inject(Yv),Gt=eo}catch{}}_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xv;_t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dc(e))throw Error(I(200));return Hv(t,e,null,n)};_t.createRoot=function(t,e){if(!Dc(t))throw Error(I(299));var n=!1,s="",r=sm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Ec(t,1,!1,null,null,n,!1,s,r),t[cn]=e.current,Zr(t.nodeType===8?t.parentNode:t),new Oc(e)};_t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(I(188)):(t=Object.keys(t).join(","),Error(I(268,t)));return t=Cf(e),t=t===null?null:t.stateNode,t};_t.flushSync=function(t){return ys(t)};_t.hydrate=function(t,e,n){if(!ja(e))throw Error(I(200));return za(null,t,e,!0,n)};_t.hydrateRoot=function(t,e,n){if(!Dc(t))throw Error(I(405));var s=n!=null&&n.hydratedSources||null,r=!1,i="",o=sm;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nm(e,null,t,1,n??null,r,!1,i,o),t[cn]=e.current,Zr(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new La(e)};_t.render=function(t,e,n){if(!ja(e))throw Error(I(200));return za(null,t,e,!1,n)};_t.unmountComponentAtNode=function(t){if(!ja(t))throw Error(I(40));return t._reactRootContainer?(ys(function(){za(null,null,t,!1,function(){t._reactRootContainer=null,t[cn]=null})}),!0):!1};_t.unstable_batchedUpdates=Tc;_t.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!ja(n))throw Error(I(200));if(t==null||t._reactInternals===void 0)throw Error(I(38));return za(t,e,n,!1,s)};_t.version="18.3.1-next-f1338f8080-20240426";function rm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rm)}catch(t){console.error(t)}}rm(),sf.exports=_t;var Zv=sf.exports,md=Zv;El.createRoot=md.createRoot,El.hydrateRoot=md.hydrateRoot;const im="14.9.17",gd=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),_d=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),wu=(t,e)=>({startTime:e,type:"setValue",value:t}),om=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),am=(t,e,{startTime:n,target:s,timeConstant:r})=>s+(e-s)*Math.exp((n-t)/r),Us=t=>t.type==="exponentialRampToValue",$o=t=>t.type==="linearRampToValue",An=t=>Us(t)||$o(t),Mc=t=>t.type==="setValue",tn=t=>t.type==="setValueCurve",Ho=(t,e,n,s)=>{const r=t[e];return r===void 0?s:An(r)||Mc(r)?r.value:tn(r)?r.values[r.values.length-1]:am(n,Ho(t,e-1,r.startTime,s),r)},vd=(t,e,n,s,r)=>n===void 0?[s.insertTime,r]:An(n)?[n.endTime,n.value]:Mc(n)?[n.startTime,n.value]:tn(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,Ho(t,e-1,n.startTime,r)],xu=t=>t.type==="cancelAndHold",Su=t=>t.type==="cancelScheduledValues",kn=t=>xu(t)||Su(t)?t.cancelTime:Us(t)||$o(t)?t.endTime:t.startTime,yd=(t,e,n,{endTime:s,value:r})=>n===r?r:0<n&&0<r||n<0&&r<0?n*(r/n)**((t-e)/(s-e)):0,wd=(t,e,n,{endTime:s,value:r})=>n+(t-e)/(s-e)*(r-n),Kv=(t,e)=>{const n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]},Jv=(t,{duration:e,startTime:n,values:s})=>{const r=(t-n)/e*(s.length-1);return Kv(s,r)},to=t=>t.type==="setTarget";class ey{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=kn(e);if(xu(e)||Su(e)){const s=this._automationEvents.findIndex(i=>Su(e)&&tn(i)?i.startTime+i.duration>=n:kn(i)>=n),r=this._automationEvents[s];if(s!==-1&&(this._automationEvents=this._automationEvents.slice(0,s)),xu(e)){const i=this._automationEvents[this._automationEvents.length-1];if(r!==void 0&&An(r)){if(i!==void 0&&to(i))throw new Error("The internal list is malformed.");const o=i===void 0?r.insertTime:tn(i)?i.startTime+i.duration:kn(i),a=i===void 0?this._defaultValue:tn(i)?i.values[i.values.length-1]:i.value,l=Us(r)?yd(n,o,a,r):wd(n,o,a,r),u=Us(r)?gd(l,n,this._currenTime):_d(l,n,this._currenTime);this._automationEvents.push(u)}if(i!==void 0&&to(i)&&this._automationEvents.push(wu(this.getValue(n),n)),i!==void 0&&tn(i)&&i.startTime+i.duration>n){const o=n-i.startTime,a=(i.values.length-1)/i.duration,l=Math.max(2,1+Math.ceil(o*a)),u=o/(l-1)*a,c=i.values.slice(0,l);if(u<1)for(let h=1;h<l;h+=1){const d=u*h%1;c[h]=i.values[h-1]*(1-d)+i.values[h]*d}this._automationEvents[this._automationEvents.length-1]=om(c,i.startTime,o)}}}else{const s=this._automationEvents.findIndex(o=>kn(o)>n),r=s===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[s-1];if(r!==void 0&&tn(r)&&kn(r)+r.duration>n)return!1;const i=Us(e)?gd(e.value,e.endTime,this._currenTime):$o(e)?_d(e.value,n,this._currenTime):e;if(s===-1)this._automationEvents.push(i);else{if(tn(e)&&n+e.duration>kn(this._automationEvents[s]))return!1;this._automationEvents.splice(s,0,i)}}return!0}flush(e){const n=this._automationEvents.findIndex(s=>kn(s)>e);if(n>1){const s=this._automationEvents.slice(n-1),r=s[0];to(r)&&s.unshift(wu(Ho(this._automationEvents,n-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=s}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(o=>kn(o)>e),s=this._automationEvents[n],r=(n===-1?this._automationEvents.length:n)-1,i=this._automationEvents[r];if(i!==void 0&&to(i)&&(s===void 0||!An(s)||s.insertTime>e))return am(e,Ho(this._automationEvents,r-1,i.startTime,this._defaultValue),i);if(i!==void 0&&Mc(i)&&(s===void 0||!An(s)))return i.value;if(i!==void 0&&tn(i)&&(s===void 0||!An(s)||i.startTime+i.duration>e))return e<i.startTime+i.duration?Jv(e,i):i.values[i.values.length-1];if(i!==void 0&&An(i)&&(s===void 0||!An(s)))return i.value;if(s!==void 0&&Us(s)){const[o,a]=vd(this._automationEvents,r,i,s,this._defaultValue);return yd(e,o,a,s)}if(s!==void 0&&$o(s)){const[o,a]=vd(this._automationEvents,r,i,s,this._defaultValue);return wd(e,o,a,s)}return this._defaultValue}}const ty=t=>({cancelTime:t,type:"cancelAndHold"}),ny=t=>({cancelTime:t,type:"cancelScheduledValues"}),sy=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),ry=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),iy=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),oy=()=>new DOMException("","AbortError"),ay=t=>(e,n,[s,r,i],o)=>{t(e[r],[n,s,i],a=>a[0]===n&&a[1]===s,o)},ly=t=>(e,n,s)=>{const r=[];for(let i=0;i<s.numberOfInputs;i+=1)r.push(new Set);t.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},uy=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},or=new WeakSet,lm=new WeakMap,Ic=new WeakMap,um=new WeakMap,Rc=new WeakMap,Wa=new WeakMap,cm=new WeakMap,Tu=new WeakMap,ku=new WeakMap,Cu=new WeakMap,hm={construct(){return hm}},cy=t=>{try{const e=new Proxy(t,hm);new e}catch{return!1}return!0},xd=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Sd=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),r=s.match(xd);for(;r!==null;){const i=r[1].slice(1,-1),o=r[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(o),s=s.slice(r[0].length).replace(/^[\s]+/,""),r=s.match(xd)}return[n.join(";"),s]},Td=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},kd=t=>{if(!cy(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},hy=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>{let p=0;return(m,_,w={credentials:"omit"})=>{const f=c.get(m);if(f!==void 0&&f.has(_))return Promise.resolve();const g=u.get(m);if(g!==void 0){const y=g.get(_);if(y!==void 0)return y}const v=i(m),T=v.audioWorklet===void 0?r(_).then(([y,S])=>{const[k,x]=Sd(y,S),E=`${k};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${x}
})})(window,'_AWGS')`;return n(E)}).then(()=>{const y=d._AWGS.pop();if(y===void 0)throw new SyntaxError;s(v.currentTime,v.sampleRate,()=>y(class{},void 0,(S,k)=>{if(S.trim()==="")throw e();const x=ku.get(v);if(x!==void 0){if(x.has(S))throw e();kd(k),Td(k.parameterDescriptors),x.set(S,k)}else kd(k),Td(k.parameterDescriptors),ku.set(v,new Map([[S,k]]))},v.sampleRate,void 0,void 0))}):Promise.all([r(_),Promise.resolve(t(h,h))]).then(([[y,S],k])=>{const x=p+1;p=x;const[E,C]=Sd(y,S),F=`${E};((AudioWorkletProcessor,registerProcessor)=>{${C}
})(${k?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${k?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${k?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${x}',class extends AudioWorkletProcessor{process(){return !1}})`,H=new Blob([F],{type:"application/javascript; charset=utf-8"}),W=URL.createObjectURL(H);return v.audioWorklet.addModule(W,w).then(()=>{if(a(v))return v;const B=o(v);return B.audioWorklet.addModule(W,w).then(()=>B)}).then(B=>{if(l===null)throw new SyntaxError;try{new l(B,`__sac${x}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(W))});return g===void 0?u.set(m,new Map([[_,T]])):g.set(_,T),T.then(()=>{const y=c.get(m);y===void 0?c.set(m,new Set([_])):y.add(_)}).finally(()=>{const y=u.get(m);y!==void 0&&y.delete(_)}),T}},Lt=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},qa=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[s]=n;return t.delete(s),s},dm=(t,e,n,s)=>{const r=Lt(t,e),i=qa(r,o=>o[0]===n&&o[1]===s);return r.size===0&&t.delete(e),i},Ei=t=>Lt(cm,t),ar=t=>{if(or.has(t))throw new Error("The AudioNode is already stored.");or.add(t),Ei(t).forEach(e=>e(!0))},fm=t=>"port"in t,Ai=t=>{if(!or.has(t))throw new Error("The AudioNode is not stored.");or.delete(t),Ei(t).forEach(e=>e(!1))},Nu=(t,e)=>{!fm(t)&&e.every(n=>n.size===0)&&Ai(t)},dy=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>{const p=new WeakMap;return(m,_,w,f,g)=>{const{activeInputs:v,passiveInputs:T}=i(_),{outputs:y}=i(m),S=a(m),k=x=>{const E=l(_),C=l(m);if(x){const D=dm(T,m,w,f);t(v,m,D,!1),!g&&!h(m)&&n(C,E,w,f),d(_)&&ar(_)}else{const D=s(v,m,w,f);e(T,f,D,!1),!g&&!h(m)&&r(C,E,w,f);const O=o(_);if(O===0)c(_)&&Nu(_,v);else{const b=p.get(_);b!==void 0&&clearTimeout(b),p.set(_,setTimeout(()=>{c(_)&&Nu(_,v)},O*1e3))}}};return u(y,[_,w,f],x=>x[0]===_&&x[1]===w&&x[2]===f,!0)?(S.add(k),c(m)?t(v,m,[w,f,k],!0):e(T,f,[m,w,k],!0),!0):!1}},fy=t=>(e,n,[s,r,i],o)=>{const a=e.get(s);a===void 0?e.set(s,new Set([[r,n,i]])):t(a,[r,n,i],l=>l[0]===r&&l[1]===n,o)},py=t=>(e,n)=>{const s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(e.destination);const r=()=>{n.removeEventListener("ended",r),n.disconnect(s),s.disconnect()};n.addEventListener("ended",r)},my=t=>(e,n)=>{t(e).add(n)},gy={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},_y=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=r(a),c={...gy,...l},h=s(u,c),d=i(u)?e():null;super(a,!1,h,d),this._nativeAnalyserNode=h}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const l=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=l,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const l=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=l,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Qe=(t,e)=>t.context===e,vy=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Qe(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(o,u)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Go=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Zt=()=>new DOMException("","IndexSizeError"),Pc=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(s){throw s.code===12?Zt():s}})(t.getChannelData)},yy={numberOfChannels:1},wy=(t,e,n,s,r,i,o,a)=>{let l=null;return class pm{constructor(c){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:h,numberOfChannels:d,sampleRate:p}={...yy,...c};l===null&&(l=new r(1,1,44100));const m=s!==null&&e(i,i)?new s({length:h,numberOfChannels:d,sampleRate:p}):l.createBuffer(d,h,p);if(m.numberOfChannels===0)throw n();return typeof m.copyFromChannel!="function"?(o(m),Pc(m)):e(Go,()=>Go(m))||a(m),t.add(m),m}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===pm.prototype||t.has(c)}}},st=-34028234663852886e22,Ye=-st,an=t=>or.has(t),xy={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Sy=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...xy,...c},p=r(h,d),m=o(h),_=m?e():null;super(u,!1,p,_),this._audioBufferSourceNodeRenderer=_,this._isBufferNullified=!1,this._isBufferSet=d.buffer!==null,this._nativeAudioBufferSourceNode=p,this._onended=null,this._playbackRate=n(this,m,p.playbackRate,Ye,st)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const c=typeof u=="function"?a(this,u):null;this._nativeAudioBufferSourceNode.onended=c;const h=this._nativeAudioBufferSourceNode.onended;this._onended=h!==null&&h===c?u:h}get playbackRate(){return this._playbackRate}start(u=0,c=0,h){if(this._nativeAudioBufferSourceNode.start(u,c,h),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=h===void 0?[u,c]:[u,c,h]),this.context.state!=="closed"){ar(this);const d=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",d),an(this)&&Ai(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",d)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},Ty=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=Qe(h,c);if(!d){const p={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(c,p),o!==null&&h.start(...o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.playbackRate,h.playbackRate):await s(c,u.playbackRate,h.playbackRate),await r(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},ky=t=>"playbackRate"in t,Cy=t=>"frequency"in t&&"gain"in t,Ny=t=>"offset"in t,Ey=t=>!("frequency"in t)&&"gain"in t,Ay=t=>"detune"in t&&"frequency"in t,Oy=t=>"pan"in t,Ze=t=>Lt(lm,t),Oi=t=>Lt(um,t),Eu=(t,e)=>{const{activeInputs:n}=Ze(t);n.forEach(r=>r.forEach(([i])=>{e.includes(t)||Eu(i,[...e,t])}));const s=ky(t)?[t.playbackRate]:fm(t)?Array.from(t.parameters.values()):Cy(t)?[t.Q,t.detune,t.frequency,t.gain]:Ny(t)?[t.offset]:Ey(t)?[t.gain]:Ay(t)?[t.detune,t.frequency]:Oy(t)?[t.pan]:[];for(const r of s){const i=Oi(r);i!==void 0&&i.activeInputs.forEach(([o])=>Eu(o,e))}an(t)&&Ai(t)},mm=t=>{Eu(t.destination,[])},Dy=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),My=(t,e,n,s,r,i,o,a,l)=>class extends t{constructor(c={}){if(l===null)throw new Error("Missing the native AudioContext constructor.");let h;try{h=new l(c)}catch(m){throw m.code===12&&m.message==="sampleRate is not in range"?n():m}if(h===null)throw s();if(!Dy(c.latencyHint))throw new TypeError(`The provided value '${c.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(c.sampleRate!==void 0&&h.sampleRate!==c.sampleRate)throw n();super(h,2);const{latencyHint:d}=c,{sampleRate:p}=h;if(this._baseLatency=typeof h.baseLatency=="number"?h.baseLatency:d==="balanced"?512/p:d==="interactive"||d===void 0?256/p:d==="playback"?1024/p:Math.max(2,Math.min(128,Math.round(d*p/128)))*128/p,this._nativeAudioContext=h,l.name==="webkitAudioContext"?(this._nativeGainNode=h.createGain(),this._nativeOscillatorNode=h.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(h.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,h.state==="running"){this._state="suspended";const m=()=>{this._state==="suspended"&&(this._state=null),h.removeEventListener("statechange",m)};h.addEventListener("statechange",m)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),mm(this)}))}createMediaElementSource(c){return new r(this,{mediaElement:c})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(c){return new o(this,{mediaStream:c})}createMediaStreamTrackSource(c){return new a(this,{mediaStreamTrack:c})}resume(){return this._state==="suspended"?new Promise((c,h)=>{const d=()=>{this._nativeAudioContext.removeEventListener("statechange",d),this._nativeAudioContext.state==="running"?c():this.resume().then(c,h)};this._nativeAudioContext.addEventListener("statechange",d)}):this._nativeAudioContext.resume().catch(c=>{throw c===void 0||c.code===15?e():c})}suspend(){return this._nativeAudioContext.suspend().catch(c=>{throw c===void 0?e():c})}},Iy=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d=o(h),p=r(h,c,d),m=d?e(a):null;super(u,!1,p,m),this._isNodeOfNativeOfflineAudioContext=d,this._nativeAudioDestinationNode=p}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Ry=t=>{const e=new WeakMap,n=async(s,r)=>{const i=r.destination;return e.set(r,i),await t(s,r,i),i};return{render(s,r){const i=e.get(r);return i!==void 0?Promise.resolve(i):n(s,r)}}},Py=(t,e,n,s,r,i,o,a)=>(l,u)=>{const c=u.listener,h=()=>{const y=new Float32Array(1),S=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),k=o(u);let x=!1,E=[0,0,-1,0,1,0],C=[0,0,0];const D=()=>{if(x)return;x=!0;const H=s(u,256,9,0);H.onaudioprocess=({inputBuffer:W})=>{const B=[i(W,y,0),i(W,y,1),i(W,y,2),i(W,y,3),i(W,y,4),i(W,y,5)];B.some((R,P)=>R!==E[P])&&(c.setOrientation(...B),E=B);const M=[i(W,y,6),i(W,y,7),i(W,y,8)];M.some((R,P)=>R!==C[P])&&(c.setPosition(...M),C=M)},S.connect(H)},O=H=>W=>{W!==E[H]&&(E[H]=W,c.setOrientation(...E))},b=H=>W=>{W!==C[H]&&(C[H]=W,c.setPosition(...C))},F=(H,W,B)=>{const M=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:W});M.connect(S,0,H),M.start(),Object.defineProperty(M.offset,"defaultValue",{get(){return W}});const R=t({context:l},k,M.offset,Ye,st);return a(R,"value",P=>()=>P.call(R),P=>j=>{try{P.call(R,j)}catch(G){if(G.code!==9)throw G}D(),k&&B(j)}),R.cancelAndHoldAtTime=(P=>k?()=>{throw r()}:(...j)=>{const G=P.apply(R,j);return D(),G})(R.cancelAndHoldAtTime),R.cancelScheduledValues=(P=>k?()=>{throw r()}:(...j)=>{const G=P.apply(R,j);return D(),G})(R.cancelScheduledValues),R.exponentialRampToValueAtTime=(P=>k?()=>{throw r()}:(...j)=>{const G=P.apply(R,j);return D(),G})(R.exponentialRampToValueAtTime),R.linearRampToValueAtTime=(P=>k?()=>{throw r()}:(...j)=>{const G=P.apply(R,j);return D(),G})(R.linearRampToValueAtTime),R.setTargetAtTime=(P=>k?()=>{throw r()}:(...j)=>{const G=P.apply(R,j);return D(),G})(R.setTargetAtTime),R.setValueAtTime=(P=>k?()=>{throw r()}:(...j)=>{const G=P.apply(R,j);return D(),G})(R.setValueAtTime),R.setValueCurveAtTime=(P=>k?()=>{throw r()}:(...j)=>{const G=P.apply(R,j);return D(),G})(R.setValueCurveAtTime),R};return{forwardX:F(0,0,O(0)),forwardY:F(1,0,O(1)),forwardZ:F(2,-1,O(2)),positionX:F(6,0,b(0)),positionY:F(7,0,b(1)),positionZ:F(8,0,b(2)),upX:F(3,0,O(3)),upY:F(4,1,O(4)),upZ:F(5,0,O(5))}},{forwardX:d,forwardY:p,forwardZ:m,positionX:_,positionY:w,positionZ:f,upX:g,upY:v,upZ:T}=c.forwardX===void 0?h():c;return{get forwardX(){return d},get forwardY(){return p},get forwardZ(){return m},get positionX(){return _},get positionY(){return w},get positionZ(){return f},get upX(){return g},get upY(){return v},get upZ(){return T}}},Qo=t=>"context"in t,Di=t=>Qo(t[0]),Cs=(t,e,n,s)=>{for(const r of t)if(n(r)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Cd=(t,e,[n,s],r)=>{Cs(t,[e,n,s],i=>i[0]===e&&i[1]===n,r)},Nd=(t,[e,n,s],r)=>{const i=t.get(e);i===void 0?t.set(e,new Set([[n,s]])):Cs(i,[n,s],o=>o[0]===n,r)},mr=t=>"inputs"in t,Xo=(t,e,n,s)=>{if(mr(e)){const r=e.inputs[s];return t.connect(r,n,0),[r,n,0]}return t.connect(e,n,s),[e,n,s]},gm=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},by=(t,e,n)=>qa(t,s=>s[0]===e&&s[1]===n),_m=(t,e)=>{if(!Ei(t).delete(e))throw new Error("Missing the expected event listener.")},vm=(t,e,n)=>{const s=Lt(t,e),r=qa(s,i=>i[0]===n);return s.size===0&&t.delete(e),r},Yo=(t,e,n,s)=>{mr(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},fe=t=>Lt(Ic,t),oi=t=>Lt(Rc,t),ws=t=>Tu.has(t),vo=t=>!or.has(t),Ed=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const s=t.createScriptProcessor(256,1,1),r=t.createGain(),i=t.createBuffer(1,2,44100),o=i.getChannelData(0);o[0]=1,o[1]=1;const a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(s).connect(t.destination),a.connect(r),a.disconnect(r),s.onaudioprocess=l=>{const u=l.inputBuffer.getChannelData(0);Array.prototype.some.call(u,c=>c===1)?n(!0):n(!1),a.stop(),s.onaudioprocess=null,a.disconnect(s),s.disconnect(t.destination)},a.start()}}),Nl=(t,e)=>{const n=new Map;for(const s of t)for(const r of s){const i=n.get(r);n.set(r,i===void 0?1:i+1)}n.forEach((s,r)=>e(r,s))},Zo=t=>"context"in t,Fy=t=>{const e=new Map;t.connect=(n=>(s,r=0,i=0)=>{const o=Zo(s)?n(s,r,i):n(s,r),a=e.get(s);return a===void 0?e.set(s,[{input:i,output:r}]):a.every(l=>l.input!==i||l.output!==r)&&a.push({input:i,output:r}),o})(t.connect.bind(t)),t.disconnect=(n=>(s,r,i)=>{if(n.apply(t),s===void 0)e.clear();else if(typeof s=="number")for(const[o,a]of e){const l=a.filter(u=>u.output!==s);l.length===0?e.delete(o):e.set(o,l)}else if(e.has(s))if(r===void 0)e.delete(s);else{const o=e.get(s);if(o!==void 0){const a=o.filter(l=>l.output!==r&&(l.input!==i||i===void 0));a.length===0?e.delete(s):e.set(s,a)}}for(const[o,a]of e)a.forEach(l=>{Zo(o)?t.connect(o,l.output,l.input):t.connect(o,l.output)})})(t.disconnect)},Vy=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=Oi(e),{outputs:o}=Ze(t),a=Ei(t),l=u=>{const c=fe(t),h=oi(e);if(u){const d=vm(i,t,n);Cd(r,t,d,!1),!s&&!ws(t)&&c.connect(h,n)}else{const d=by(r,t,n);Nd(i,d,!1),!s&&!ws(t)&&c.disconnect(h,n)}};return Cs(o,[e,n],u=>u[0]===e&&u[1]===n,!0)?(a.add(l),an(t)?Cd(r,t,[n,l],!0):Nd(i,[t,n,l],!0),!0):!1},Ly=(t,e,n,s)=>{const{activeInputs:r,passiveInputs:i}=Ze(e),o=gm(r[s],t,n);return o===null?[dm(i,t,n,s)[2],!1]:[o[2],!0]},jy=(t,e,n)=>{const{activeInputs:s,passiveInputs:r}=Oi(e),i=gm(s,t,n);return i===null?[vm(r,t,n)[1],!1]:[i[2],!0]},bc=(t,e,n,s,r)=>{const[i,o]=Ly(t,n,s,r);if(i!==null&&(_m(t,i),o&&!e&&!ws(t)&&Yo(fe(t),fe(n),s,r)),an(n)){const{activeInputs:a}=Ze(n);Nu(n,a)}},Fc=(t,e,n,s)=>{const[r,i]=jy(t,n,s);r!==null&&(_m(t,r),i&&!e&&!ws(t)&&fe(t).disconnect(oi(n),s))},zy=(t,e)=>{const n=Ze(t),s=[];for(const r of n.outputs)Di(r)?bc(t,e,...r):Fc(t,e,...r),s.push(r[0]);return n.outputs.clear(),s},Wy=(t,e,n)=>{const s=Ze(t),r=[];for(const i of s.outputs)i[1]===n&&(Di(i)?bc(t,e,...i):Fc(t,e,...i),r.push(i[0]),s.outputs.delete(i));return r},qy=(t,e,n,s,r)=>{const i=Ze(t);return Array.from(i.outputs).filter(o=>o[0]===n&&(s===void 0||o[1]===s)&&(r===void 0||o[2]===r)).map(o=>(Di(o)?bc(t,e,...o):Fc(t,e,...o),i.outputs.delete(o),o[0]))},By=(t,e,n,s,r,i,o,a,l,u,c,h,d,p,m,_)=>class extends u{constructor(f,g,v,T){super(v),this._context=f,this._nativeAudioNode=v;const y=c(f);h(y)&&n(Ed,()=>Ed(y,_))!==!0&&Fy(v),Ic.set(this,v),cm.set(this,new Set),f.state!=="closed"&&g&&ar(this),t(this,T,v)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(f){this._nativeAudioNode.channelCount=f}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(f){this._nativeAudioNode.channelCountMode=f}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(f){this._nativeAudioNode.channelInterpretation=f}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(f,g=0,v=0){if(g<0||g>=this._nativeAudioNode.numberOfOutputs)throw r();const T=c(this._context),y=m(T);if(d(f)||p(f))throw i();if(Qo(f)){const x=fe(f);try{const C=Xo(this._nativeAudioNode,x,g,v),D=vo(this);(y||D)&&this._nativeAudioNode.disconnect(...C),this.context.state!=="closed"&&!D&&vo(f)&&ar(f)}catch(C){throw C.code===12?i():C}if(e(this,f,g,v,y)){const C=l([this],f);Nl(C,s(y))}return f}const S=oi(f);if(S.name==="playbackRate"&&S.maxValue===1024)throw o();try{this._nativeAudioNode.connect(S,g),(y||vo(this))&&this._nativeAudioNode.disconnect(S,g)}catch(x){throw x.code===12?i():x}if(Vy(this,f,g,y)){const x=l([this],f);Nl(x,s(y))}}disconnect(f,g,v){let T;const y=c(this._context),S=m(y);if(f===void 0)T=zy(this,S);else if(typeof f=="number"){if(f<0||f>=this.numberOfOutputs)throw r();T=Wy(this,S,f)}else{if(g!==void 0&&(g<0||g>=this.numberOfOutputs)||Qo(f)&&v!==void 0&&(v<0||v>=f.numberOfInputs))throw r();if(T=qy(this,S,f,g,v),T.length===0)throw i()}for(const k of T){const x=l([this],k);Nl(x,a)}}},Uy=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>(p,m,_,w=null,f=null)=>{const g=_.value,v=new ey(g),T=m?s(v):null,y={get defaultValue(){return g},get maxValue(){return w===null?_.maxValue:w},get minValue(){return f===null?_.minValue:f},get value(){return _.value},set value(S){_.value=S,y.setValueAtTime(S,p.context.currentTime)},cancelAndHoldAtTime(S){if(typeof _.cancelAndHoldAtTime=="function")T===null&&v.flush(p.context.currentTime),v.add(r(S)),_.cancelAndHoldAtTime(S);else{const k=Array.from(v).pop();T===null&&v.flush(p.context.currentTime),v.add(r(S));const x=Array.from(v).pop();_.cancelScheduledValues(S),k!==x&&x!==void 0&&(x.type==="exponentialRampToValue"?_.exponentialRampToValueAtTime(x.value,x.endTime):x.type==="linearRampToValue"?_.linearRampToValueAtTime(x.value,x.endTime):x.type==="setValue"?_.setValueAtTime(x.value,x.startTime):x.type==="setValueCurve"&&_.setValueCurveAtTime(x.values,x.startTime,x.duration))}return y},cancelScheduledValues(S){return T===null&&v.flush(p.context.currentTime),v.add(i(S)),_.cancelScheduledValues(S),y},exponentialRampToValueAtTime(S,k){if(S===0)throw new RangeError;if(!Number.isFinite(k)||k<0)throw new RangeError;const x=p.context.currentTime;return T===null&&v.flush(x),Array.from(v).length===0&&(v.add(u(g,x)),_.setValueAtTime(g,x)),v.add(o(S,k)),_.exponentialRampToValueAtTime(S,k),y},linearRampToValueAtTime(S,k){const x=p.context.currentTime;return T===null&&v.flush(x),Array.from(v).length===0&&(v.add(u(g,x)),_.setValueAtTime(g,x)),v.add(a(S,k)),_.linearRampToValueAtTime(S,k),y},setTargetAtTime(S,k,x){return T===null&&v.flush(p.context.currentTime),v.add(l(S,k,x)),_.setTargetAtTime(S,k,x),y},setValueAtTime(S,k){return T===null&&v.flush(p.context.currentTime),v.add(u(S,k)),_.setValueAtTime(S,k),y},setValueCurveAtTime(S,k,x){const E=S instanceof Float32Array?S:new Float32Array(S);if(h!==null&&h.name==="webkitAudioContext"){const C=k+x,D=p.context.sampleRate,O=Math.ceil(k*D),b=Math.floor(C*D),F=b-O,H=new Float32Array(F);for(let B=0;B<F;B+=1){const M=(E.length-1)/x*((O+B)/D-k),R=Math.floor(M),P=Math.ceil(M);H[B]=R===P?E[R]:(1-(M-R))*E[R]+(1-(P-M))*E[P]}T===null&&v.flush(p.context.currentTime),v.add(c(H,k,x)),_.setValueCurveAtTime(H,k,x);const W=b/D;W<C&&d(y,H[H.length-1],W),d(y,E[E.length-1],C)}else T===null&&v.flush(p.context.currentTime),v.add(c(E,k,x)),_.setValueCurveAtTime(E,k,x);return y}};return n.set(y,_),e.set(y,p),t(y,T),y},$y=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:s,value:r}=n;e.exponentialRampToValueAtTime(r,s)}else if(n.type==="linearRampToValue"){const{endTime:s,value:r}=n;e.linearRampToValueAtTime(r,s)}else if(n.type==="setTarget"){const{startTime:s,target:r,timeConstant:i}=n;e.setTargetAtTime(r,s,i)}else if(n.type==="setValue"){const{startTime:s,value:r}=n;e.setValueAtTime(r,s)}else if(n.type==="setValueCurve"){const{duration:s,startTime:r,values:i}=n;e.setValueCurveAtTime(i,r,s)}else throw new Error("Can't apply an unknown automation.")}});class ym{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((s,r)=>e.call(n,s,r,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const Hy={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Gy=(t,e,n,s,r,i,o,a,l,u,c,h,d,p)=>class extends e{constructor(_,w,f){var g;const v=a(_),T=l(v),y=c({...Hy,...f});d(y);const S=ku.get(v),k=S==null?void 0:S.get(w),x=T||v.state!=="closed"?v:(g=o(v))!==null&&g!==void 0?g:v,E=r(x,T?null:_.baseLatency,u,w,k,y),C=T?s(w,y,k):null;super(_,!0,E,C);const D=[];E.parameters.forEach((b,F)=>{const H=n(this,T,b);D.push([F,H])}),this._nativeAudioWorkletNode=E,this._onprocessorerror=null,this._parameters=new ym(D),T&&t(v,this);const{activeInputs:O}=i(this);h(E,O)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(_){const w=typeof _=="function"?p(this,_):null;this._nativeAudioWorkletNode.onprocessorerror=w;const f=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=f!==null&&f===w?_:f}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Ko(t,e,n,s,r){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,r);else{const i=t.getChannelData(s);if(e[n].byteLength===0)e[n]=i.slice(r,r+128);else{const o=new Float32Array(i.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(o)}}}const wm=(t,e,n,s,r)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],s,r):e[n].byteLength!==0&&t.getChannelData(s).set(e[n],r)},Jo=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const r=[],i=typeof e=="number"?e:e[s];for(let o=0;o<i;o+=1)r.push(new Float32Array(128));n.push(r)}return n},Qy=(t,e)=>{const n=Lt(Cu,t),s=fe(e);return Lt(n,s)},Xy=async(t,e,n,s,r,i,o)=>{const a=e===null?Math.ceil(t.context.length/128)*128:e.length,l=s.channelCount*s.numberOfInputs,u=r.reduce((w,f)=>w+f,0),c=u===0?null:n.createBuffer(u,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");const h=Ze(t),d=await Qy(n,t),p=Jo(s.numberOfInputs,s.channelCount),m=Jo(s.numberOfOutputs,r),_=Array.from(t.parameters.keys()).reduce((w,f)=>({...w,[f]:new Float32Array(128)}),{});for(let w=0;w<a;w+=128){if(s.numberOfInputs>0&&e!==null)for(let f=0;f<s.numberOfInputs;f+=1)for(let g=0;g<s.channelCount;g+=1)Ko(e,p[f],g,g,w);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:f},g)=>{Ko(e,_,f,l+g,w)});for(let f=0;f<s.numberOfInputs;f+=1)for(let g=0;g<r[f];g+=1)m[f][g].byteLength===0&&(m[f][g]=new Float32Array(128));try{const f=p.map((v,T)=>h.activeInputs[T].size===0?[]:v),g=o(w/n.sampleRate,n.sampleRate,()=>d.process(f,m,_));if(c!==null)for(let v=0,T=0;v<s.numberOfOutputs;v+=1){for(let y=0;y<r[v];y+=1)wm(c,m[v],y,T+y,w);T+=r[v]}if(!g)break}catch(f){t.dispatchEvent(new ErrorEvent("processorerror",{colno:f.colno,filename:f.filename,lineno:f.lineno,message:f.message}));break}}return c},Yy=(t,e,n,s,r,i,o,a,l,u,c,h,d,p,m,_)=>(w,f,g)=>{const v=new WeakMap;let T=null;const y=async(S,k)=>{let x=c(S),E=null;const C=Qe(x,k),D=Array.isArray(f.outputChannelCount)?f.outputChannelCount:Array.from(f.outputChannelCount);if(h===null){const O=D.reduce((W,B)=>W+B,0),b=r(k,{channelCount:Math.max(1,O),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,O)}),F=[];for(let W=0;W<S.numberOfOutputs;W+=1)F.push(s(k,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:D[W]}));const H=o(k,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1});H.connect=e.bind(null,F),H.disconnect=l.bind(null,F),E=[b,F,H]}else C||(x=new h(k,w));if(v.set(k,E===null?x:E[2]),E!==null){if(T===null){if(g===void 0)throw new Error("Missing the processor constructor.");if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const B=S.channelCount*S.numberOfInputs,M=g.parameterDescriptors===void 0?0:g.parameterDescriptors.length,R=B+M;T=Xy(S,R===0?null:await(async()=>{const j=new d(R,Math.ceil(S.context.length/128)*128,k.sampleRate),G=[],be=[];for(let ne=0;ne<f.numberOfInputs;ne+=1)G.push(o(j,{channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1})),be.push(r(j,{channelCount:f.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:f.channelCount}));const Ce=await Promise.all(Array.from(S.parameters.values()).map(async ne=>{const Oe=i(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ne.value});return await p(j,ne,Oe.offset),Oe})),Y=s(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,B+M)});for(let ne=0;ne<f.numberOfInputs;ne+=1){G[ne].connect(be[ne]);for(let Oe=0;Oe<f.channelCount;Oe+=1)be[ne].connect(Y,Oe,ne*f.channelCount+Oe)}for(const[ne,Oe]of Ce.entries())Oe.connect(Y,0,B+ne),Oe.start(0);return Y.connect(j.destination),await Promise.all(G.map(ne=>m(S,j,ne))),_(j)})(),k,f,D,g,u)}const O=await T,b=n(k,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[F,H,W]=E;O!==null&&(b.buffer=O,b.start(0)),b.connect(F);for(let B=0,M=0;B<S.numberOfOutputs;B+=1){const R=H[B];for(let P=0;P<D[B];P+=1)F.connect(R,M+P,P);M+=D[B]}return W}if(C)for(const[O,b]of S.parameters.entries())await t(k,b,x.parameters.get(O));else for(const[O,b]of S.parameters.entries())await p(k,b,x.parameters.get(O));return await m(S,k,x),x};return{render(S,k){a(k,S);const x=v.get(k);return x!==void 0?Promise.resolve(x):y(S,k)}}},Zy=(t,e,n,s,r,i,o,a,l,u,c,h,d,p,m,_,w,f,g,v)=>class extends m{constructor(y,S){super(y,S),this._nativeContext=y,this._audioWorklet=t===void 0?void 0:{addModule:(k,x)=>t(this,k,x)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(y,S,k){return new n({length:S,numberOfChannels:y,sampleRate:k})}createBufferSource(){return new s(this)}createChannelMerger(y=6){return new i(this,{numberOfInputs:y})}createChannelSplitter(y=6){return new o(this,{numberOfOutputs:y})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(y=1){return new c(this,{maxDelayTime:y})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(y,S){return new p(this,{feedback:S,feedforward:y})}createOscillator(){return new _(this)}createPanner(){return new w(this)}createPeriodicWave(y,S,k={disableNormalization:!1}){return new f(this,{...k,imag:S,real:y})}createStereoPanner(){return new g(this)}createWaveShaper(){return new v(this)}decodeAudioData(y,S,k){return u(this._nativeContext,y).then(x=>(typeof S=="function"&&S(x),x),x=>{throw typeof k=="function"&&k(x),x})}},Ky={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Jy=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...Ky,...c},p=r(h,d),m=o(h),_=m?n():null;super(u,!1,p,_),this._Q=e(this,m,p.Q,Ye,st),this._detune=e(this,m,p.detune,1200*Math.log2(Ye),-1200*Math.log2(Ye)),this._frequency=e(this,m,p.frequency,u.sampleRate/2,0),this._gain=e(this,m,p.gain,40*Math.log10(Ye),st),this._nativeBiquadFilterNode=p,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,c,h){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,c,h)}catch(d){throw d.code===11?s():d}if(u.length!==c.length||c.length!==h.length)throw s()}},e0=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Qe(u,l);if(!c){const h={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(l,h)}return i.set(l,u),c?(await t(l,a.Q,u.Q),await t(l,a.detune,u.detune),await t(l,a.frequency,u.frequency),await t(l,a.gain,u.gain)):(await s(l,a.Q,u.Q),await s(l,a.detune,u.detune),await s(l,a.frequency,u.frequency),await s(l,a.gain,u.gain)),await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},t0=(t,e)=>(n,s)=>{const r=e.get(n);if(r!==void 0)return r;const i=t.get(n);if(i!==void 0)return i;try{const o=s();return o instanceof Promise?(t.set(n,o),o.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,o),o)}catch{return e.set(n,!1),!1}},n0={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},s0=(t,e,n,s,r)=>class extends t{constructor(o,a){const l=s(o),u={...n0,...a},c=n(l,u),h=r(l)?e():null;super(o,!1,c,h)}},r0=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Qe(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(o,u)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},i0={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},o0=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=s(a),c=i({...i0,...l}),h=n(u,c),d=r(u)?e():null;super(a,!1,h,d)}},a0=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Qe(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(o,u)}return s.set(o,a),await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},l0=t=>(e,n,s)=>t(n,e,s),u0=t=>(e,n,s=0,r=0)=>{const i=e[s];if(i===void 0)throw t();return Zo(n)?i.connect(n,0,r):i.connect(n,0)},c0=t=>(e,n)=>{const s=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return s.buffer=r,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}},h0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},d0=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...h0,...u},d=s(c,h),p=i(c),m=p?n():null;super(l,!1,d,m),this._constantSourceNodeRenderer=m,this._nativeConstantSourceNode=d,this._offset=e(this,p,d.offset,Ye,st),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeConstantSourceNode.onended=u;const c=this._nativeConstantSourceNode.onended;this._onended=c!==null&&c===u?l:c}start(l=0){if(this._nativeConstantSourceNode.start(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=l),this.context.state!=="closed"){ar(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),an(this)&&Ai(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(l=0){this._nativeConstantSourceNode.stop(l),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=l)}},f0=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null;const l=async(u,c)=>{let h=n(u);const d=Qe(h,c);if(!d){const p={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(c,p),o!==null&&h.start(o),a!==null&&h.stop(a)}return i.set(c,h),d?await t(c,u.offset,h.offset):await s(c,u.offset,h.offset),await r(u,c,h),h};return{set start(u){o=u},set stop(u){a=u},render(u,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):l(u,c)}}},p0=t=>e=>(t[0]=e,t[0]),m0={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},g0=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=s(a),c={...m0,...l},h=n(u,c),p=r(u)?e():null;super(a,!1,h,p),this._isBufferNullified=!1,this._nativeConvolverNode=h,c.buffer!==null&&i(this,c.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const l=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=l.createBuffer(1,1,l.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},_0=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Qe(a,o)){const u={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(o,u)}return s.set(o,a),mr(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},v0=(t,e)=>(n,s,r)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,r)}catch(i){throw i.name==="SyntaxError"?t():i}},y0=()=>new DOMException("","DataCloneError"),Ad=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(s=>{const r=()=>{n.onmessage=null,e.close(),n.close(),s()};n.onmessage=()=>r();try{e.postMessage(t,[t])}catch{}finally{r()}})},w0=(t,e,n,s,r,i,o,a,l,u,c)=>(h,d)=>{const p=o(h)?h:i(h);if(r.has(d)){const m=n();return Promise.reject(m)}try{r.add(d)}catch{}return e(l,()=>l(p))?p.decodeAudioData(d).then(m=>(Ad(d).catch(()=>{}),e(a,()=>a(m))||c(m),t.add(m),m)):new Promise((m,_)=>{const w=async()=>{try{await Ad(d)}catch{}},f=g=>{_(g),w()};try{p.decodeAudioData(d,g=>{typeof g.copyFromChannel!="function"&&(u(g),Pc(g)),t.add(g),w().then(()=>m(g))},g=>{f(g===null?s():g)})}catch(g){f(g)}})},x0=(t,e,n,s,r,i,o,a)=>(l,u)=>{const c=e.get(l);if(c===void 0)throw new Error("Missing the expected cycle count.");const h=i(l.context),d=a(h);if(c===u){if(e.delete(l),!d&&o(l)){const p=s(l),{outputs:m}=n(l);for(const _ of m)if(Di(_)){const w=s(_[0]);t(p,w,_[1],_[2])}else{const w=r(_[0]);p.connect(w,_[1])}}}else e.set(l,c-u)},S0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},T0=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...S0,...u},d=s(c,h),p=i(c),m=p?n(h.maxDelayTime):null;super(l,!1,d,m),this._delayTime=e(this,p,d.delayTime),o(this,h.maxDelayTime)}get delayTime(){return this._delayTime}},k0=(t,e,n,s,r)=>i=>{const o=new WeakMap,a=async(l,u)=>{let c=n(l);const h=Qe(c,u);if(!h){const d={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:i};c=e(u,d)}return o.set(u,c),h?await t(u,l.delayTime,c.delayTime):await s(u,l.delayTime,c.delayTime),await r(l,u,c),c};return{render(l,u){const c=o.get(u);return c!==void 0?Promise.resolve(c):a(l,u)}}},C0=t=>(e,n,s,r)=>t(e[r],i=>i[0]===n&&i[1]===s),N0=t=>(e,n)=>{t(e).delete(n)},E0=t=>"delayTime"in t,A0=(t,e,n)=>function s(r,i){const o=Qo(i)?i:n(t,i);if(E0(o))return[];if(r[0]===o)return[r];if(r.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map(l=>s([...r,o],l[0])).reduce((l,u)=>l.concat(u),[])},no=(t,e,n)=>{const s=e[n];if(s===void 0)throw t();return s},O0=t=>(e,n=void 0,s=void 0,r=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?no(t,e,n).disconnect():Zo(n)?s===void 0?e.forEach(i=>i.disconnect(n)):r===void 0?no(t,e,s).disconnect(n,0):no(t,e,s).disconnect(n,0,r):s===void 0?e.forEach(i=>i.disconnect(n)):no(t,e,s).disconnect(n,0),D0={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},M0=(t,e,n,s,r,i,o,a)=>class extends t{constructor(u,c){const h=i(u),d={...D0,...c},p=s(h,d),m=o(h),_=m?n():null;super(u,!1,p,_),this._attack=e(this,m,p.attack),this._knee=e(this,m,p.knee),this._nativeDynamicsCompressorNode=p,this._ratio=e(this,m,p.ratio),this._release=e(this,m,p.release),this._threshold=e(this,m,p.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const c=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=c,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const c=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=c,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},I0=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Qe(u,l);if(!c){const h={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(l,h)}return i.set(l,u),c?(await t(l,a.attack,u.attack),await t(l,a.knee,u.knee),await t(l,a.ratio,u.ratio),await t(l,a.release,u.release),await t(l,a.threshold,u.threshold)):(await s(l,a.attack,u.attack),await s(l,a.knee,u.knee),await s(l,a.ratio,u.ratio),await s(l,a.release,u.release),await s(l,a.threshold,u.threshold)),await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},R0=()=>new DOMException("","EncodingError"),P0=t=>e=>new Promise((n,s)=>{if(t===null){s(new SyntaxError);return}const r=t.document.head;if(r===null)s(new SyntaxError);else{const i=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(c,h,d,p,m)=>{if(h===a||h===t.location.href&&d===1&&p===1)return u(),s(m),!1;if(l!==null)return l(c,h,d,p,m)},i.onerror=()=>{u(),s(new SyntaxError)},i.onload=()=>{u(),n()},i.src=a,i.type="module",r.appendChild(i)}}),b0=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,s,r){if(s!==null){let i=this._listeners.get(s);i===void 0&&(i=t(this,s),typeof s=="function"&&this._listeners.set(s,i)),this._nativeEventTarget.addEventListener(n,i,r)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,s,r){const i=s===null?void 0:this._listeners.get(s);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,r)}},F0=t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return s()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},V0=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},L0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},j0=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=r(a),c={...L0,...l},h=s(u,c),d=i(u),p=d?n():null;super(a,!1,h,p),this._gain=e(this,d,h.gain,Ye,st)}get gain(){return this._gain}},z0=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Qe(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.gain,u.gain):await s(l,a.gain,u.gain),await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},W0=(t,e)=>n=>e(t,n),q0=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},B0=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},U0=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},$0=t=>e=>t.get(e),Le=()=>new DOMException("","InvalidStateError"),H0=t=>e=>{const n=t.get(e);if(n===void 0)throw Le();return n},G0=(t,e)=>n=>{let s=t.get(n);if(s!==void 0)return s;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),t.set(n,s),s},Q0=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},Ba=()=>new DOMException("","InvalidAccessError"),X0=t=>{t.getFrequencyResponse=(e=>(n,s,r)=>{if(n.length!==s.length||s.length!==r.length)throw Ba();return e.call(t,n,s,r)})(t.getFrequencyResponse)},Y0={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Z0=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=s(a),c=r(u),h={...Y0,...l},d=e(u,c?null:a.baseLatency,h),p=c?n(h.feedback,h.feedforward):null;super(a,!1,d,p),X0(d),this._nativeIIRFilterNode=d,i(this,1)}getFrequencyResponse(a,l,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,l,u)}},xm=(t,e,n,s,r,i,o,a,l,u,c)=>{const h=u.length;let d=a;for(let p=0;p<h;p+=1){let m=n[0]*u[p];for(let _=1;_<r;_+=1){const w=d-_&l-1;m+=n[_]*i[w],m-=t[_]*o[w]}for(let _=r;_<s;_+=1)m+=n[_]*i[d-_&l-1];for(let _=r;_<e;_+=1)m-=t[_]*o[d-_&l-1];i[d]=u[p],o[d]=m,d=d+1&l-1,c[p]=m}return d},K0=(t,e,n,s)=>{const r=n instanceof Float64Array?n:new Float64Array(n),i=s instanceof Float64Array?s:new Float64Array(s),o=r.length,a=i.length,l=Math.min(o,a);if(r[0]!==1){for(let m=0;m<o;m+=1)i[m]/=r[0];for(let m=1;m<a;m+=1)r[m]/=r[0]}const u=32,c=new Float32Array(u),h=new Float32Array(u),d=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),p=t.numberOfChannels;for(let m=0;m<p;m+=1){const _=t.getChannelData(m),w=d.getChannelData(m);c.fill(0),h.fill(0),xm(r,o,i,a,l,c,h,0,u,_,w)}return d},J0=(t,e,n,s,r)=>(i,o)=>{const a=new WeakMap;let l=null;const u=async(c,h)=>{let d=null,p=e(c);const m=Qe(p,h);if(h.createIIRFilter===void 0?d=t(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):m||(p=h.createIIRFilter(o,i)),a.set(h,d===null?p:d),d!==null){if(l===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const w=new n(c.context.destination.channelCount,c.context.length,h.sampleRate);l=(async()=>{await s(c,w,w.destination);const f=await r(w);return K0(f,h,i,o)})()}const _=await l;return d.buffer=_,d.start(0),d}return await s(c,h,p),p};return{render(c,h){const d=a.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},e1=(t,e,n,s,r,i)=>o=>(a,l)=>{const u=t.get(a);if(u===void 0){if(!o&&i(a)){const c=s(a),{outputs:h}=n(a);for(const d of h)if(Di(d)){const p=s(d[0]);e(c,p,d[1],d[2])}else{const p=r(d[0]);c.disconnect(p,d[1])}}t.set(a,l)}else t.set(a,u+l)},t1=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},n1=(t,e)=>n=>t.has(n)||e(n),s1=(t,e)=>n=>t.has(n)||e(n),r1=(t,e)=>n=>{const s=t.get(n);return e(s)||e(n)},i1=t=>e=>t!==null&&e instanceof t,o1=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,a1=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,l1=(t,e)=>n=>t(n)||e(n),u1=t=>e=>t!==null&&e instanceof t,c1=t=>t!==null&&t.isSecureContext,h1=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(s(a))throw TypeError();super(i,!0,l,null),this._nativeMediaElementAudioSourceNode=l}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},d1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},f1=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i);if(s(a))throw new TypeError;const l={...d1,...o},u=e(a,l);super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},p1=(t,e,n,s)=>class extends t{constructor(i,o){const a=n(i),l=e(a,o);if(s(a))throw new TypeError;super(i,!0,l,null),this._nativeMediaStreamAudioSourceNode=l}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},m1=(t,e,n)=>class extends t{constructor(r,i){const o=n(r),a=e(o,i);super(r,!0,a,null)}},g1=(t,e,n,s,r,i)=>class extends n{constructor(a,l){super(a),this._nativeContext=a,Wa.set(this,a),s(a)&&r.set(a,new Set),this._destination=new t(this,l),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const l=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=l;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===l?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},ai=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},_1=(t,e)=>(n,s,r)=>{const i=new Set;return n.connect=(o=>(a,l=0,u=0)=>{const c=i.size===0;if(e(a))return o.call(n,a,l,u),t(i,[a,l,u],h=>h[0]===a&&h[1]===l&&h[2]===u,!0),c&&s(),a;o.call(n,a,l),t(i,[a,l],h=>h[0]===a&&h[1]===l,!0),c&&s()})(n.connect),n.disconnect=(o=>(a,l,u)=>{const c=i.size>0;if(a===void 0)o.apply(n),i.clear();else if(typeof a=="number"){o.call(n,a);for(const d of i)d[1]===a&&i.delete(d)}else{e(a)?o.call(n,a,l,u):o.call(n,a,l);for(const d of i)d[0]===a&&(l===void 0||d[1]===l)&&(u===void 0||d[2]===u)&&i.delete(d)}const h=i.size===0;c&&h&&r()})(n.disconnect),n},pe=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n]&&(t[n]=s)},Pe=(t,e)=>{pe(t,e,"channelCount"),pe(t,e,"channelCountMode"),pe(t,e,"channelInterpretation")},Od=t=>typeof t.getFloatTimeDomainData=="function",v1=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let r=0;r<s;r+=1)e[r]=(n[r]-128)*.0078125;return e}},y1=(t,e)=>(n,s)=>{const r=n.createAnalyser();if(Pe(r,s),!(s.maxDecibels>s.minDecibels))throw e();return pe(r,s,"fftSize"),pe(r,s,"maxDecibels"),pe(r,s,"minDecibels"),pe(r,s,"smoothingTimeConstant"),t(Od,()=>Od(r))||v1(r),r},w1=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Te=(t,e,n)=>{const s=e[n];s!==void 0&&s!==t[n].value&&(t[n].value=s)},x1=t=>{t.start=(e=>{let n=!1;return(s=0,r=0,i)=>{if(n)throw Le();e.call(t,s,r,i),n=!0}})(t.start)},Vc=t=>{t.start=(e=>(n=0,s=0,r)=>{if(typeof r=="number"&&r<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,r)})(t.start)},Lc=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},S1=(t,e,n,s,r,i,o,a,l,u,c)=>(h,d)=>{const p=h.createBufferSource();return Pe(p,d),Te(p,d,"playbackRate"),pe(p,d,"buffer"),pe(p,d,"loop"),pe(p,d,"loopEnd"),pe(p,d,"loopStart"),e(n,()=>n(h))||x1(p),e(s,()=>s(h))||l(p),e(r,()=>r(h))||u(p,h),e(i,()=>i(h))||Vc(p),e(o,()=>o(h))||c(p,h),e(a,()=>a(h))||Lc(p),t(h,p),p},T1=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,k1=(t,e)=>(n,s,r)=>{const i=n.destination;if(i.channelCount!==s)try{i.channelCount=s}catch{}r&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:s});const o=t(n,{channelCount:s,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(o,"channelCount",a=>()=>a.call(o),a=>l=>{a.call(o,l);try{i.channelCount=l}catch(u){if(l>i.maxChannelCount)throw u}}),e(o,"channelCountMode",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelCountMode=l}),e(o,"channelInterpretation",a=>()=>a.call(o),a=>l=>{a.call(o,l),i.channelInterpretation=l}),Object.defineProperty(o,"maxChannelCount",{get:()=>i.maxChannelCount}),o.connect(i),o},C1=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,N1=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},E1=(t,e,n,s,r)=>(i,o,a,l,u,c)=>{if(a!==null)try{const h=new a(i,l,c),d=new Map;let p=null;if(Object.defineProperties(h,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>p,set:m=>{typeof p=="function"&&h.removeEventListener("processorerror",p),p=typeof m=="function"?m:null,typeof p=="function"&&h.addEventListener("processorerror",p)}}}),h.addEventListener=(m=>(..._)=>{if(_[0]==="processorerror"){const w=typeof _[1]=="function"?_[1]:typeof _[1]=="object"&&_[1]!==null&&typeof _[1].handleEvent=="function"?_[1].handleEvent:null;if(w!==null){const f=d.get(_[1]);f!==void 0?_[1]=f:(_[1]=g=>{g.type==="error"?(Object.defineProperties(g,{type:{value:"processorerror"}}),w(g)):w(new ErrorEvent(_[0],{...g}))},d.set(w,_[1]))}}return m.call(h,"error",_[1],_[2]),m.call(h,..._)})(h.addEventListener),h.removeEventListener=(m=>(..._)=>{if(_[0]==="processorerror"){const w=d.get(_[1]);w!==void 0&&(d.delete(_[1]),_[1]=w)}return m.call(h,"error",_[1],_[2]),m.call(h,_[0],_[1],_[2])})(h.removeEventListener),c.numberOfOutputs!==0){const m=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return h.connect(m).connect(i.destination),r(h,()=>m.disconnect(),()=>m.connect(i.destination))}return h}catch(h){throw h.code===11?s():h}if(u===void 0)throw s();return N1(c),e(i,o,u,c)},Sm=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),A1=t=>new Promise((e,n)=>{const{port1:s,port2:r}=new MessageChannel;s.onmessage=({data:i})=>{s.close(),r.close(),e(i)},s.onmessageerror=({data:i})=>{s.close(),r.close(),n(i)},r.postMessage(t)}),O1=async(t,e)=>{const n=await A1(e);return new t(n)},D1=(t,e,n,s)=>{let r=Cu.get(t);r===void 0&&(r=new WeakMap,Cu.set(t,r));const i=O1(n,s);return r.set(e,i),i},M1=(t,e,n,s,r,i,o,a,l,u,c,h,d)=>(p,m,_,w)=>{if(w.numberOfInputs===0&&w.numberOfOutputs===0)throw l();const f=Array.isArray(w.outputChannelCount)?w.outputChannelCount:Array.from(w.outputChannelCount);if(f.some(L=>L<1))throw l();if(f.length!==w.numberOfOutputs)throw e();if(w.channelCountMode!=="explicit")throw l();const g=w.channelCount*w.numberOfInputs,v=f.reduce((L,Q)=>L+Q,0),T=_.parameterDescriptors===void 0?0:_.parameterDescriptors.length;if(g+T>6||v>6)throw l();const y=new MessageChannel,S=[],k=[];for(let L=0;L<w.numberOfInputs;L+=1)S.push(o(p,{channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation,gain:1})),k.push(r(p,{channelCount:w.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:w.channelCount}));const x=[];if(_.parameterDescriptors!==void 0)for(const{defaultValue:L,maxValue:Q,minValue:Me,name:ge}of _.parameterDescriptors){const se=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:w.parameterData[ge]!==void 0?w.parameterData[ge]:L===void 0?0:L});Object.defineProperties(se.offset,{defaultValue:{get:()=>L===void 0?0:L},maxValue:{get:()=>Q===void 0?Ye:Q},minValue:{get:()=>Me===void 0?st:Me}}),x.push(se)}const E=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,g+T)}),C=Sm(m,p.sampleRate),D=a(p,C,g+T,Math.max(1,v)),O=r(p,{channelCount:Math.max(1,v),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,v)}),b=[];for(let L=0;L<w.numberOfOutputs;L+=1)b.push(s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:f[L]}));for(let L=0;L<w.numberOfInputs;L+=1){S[L].connect(k[L]);for(let Q=0;Q<w.channelCount;Q+=1)k[L].connect(E,Q,L*w.channelCount+Q)}const F=new ym(_.parameterDescriptors===void 0?[]:_.parameterDescriptors.map(({name:L},Q)=>{const Me=x[Q];return Me.connect(E,0,g+Q),Me.start(0),[L,Me.offset]}));E.connect(D);let H=w.channelInterpretation,W=null;const B=w.numberOfOutputs===0?[D]:b,M={get bufferSize(){return C},get channelCount(){return w.channelCount},set channelCount(L){throw n()},get channelCountMode(){return w.channelCountMode},set channelCountMode(L){throw n()},get channelInterpretation(){return H},set channelInterpretation(L){for(const Q of S)Q.channelInterpretation=L;H=L},get context(){return D.context},get inputs(){return S},get numberOfInputs(){return w.numberOfInputs},get numberOfOutputs(){return w.numberOfOutputs},get onprocessorerror(){return W},set onprocessorerror(L){typeof W=="function"&&M.removeEventListener("processorerror",W),W=typeof L=="function"?L:null,typeof W=="function"&&M.addEventListener("processorerror",W)},get parameters(){return F},get port(){return y.port2},addEventListener(...L){return D.addEventListener(L[0],L[1],L[2])},connect:t.bind(null,B),disconnect:u.bind(null,B),dispatchEvent(...L){return D.dispatchEvent(L[0])},removeEventListener(...L){return D.removeEventListener(L[0],L[1],L[2])}},R=new Map;y.port1.addEventListener=(L=>(...Q)=>{if(Q[0]==="message"){const Me=typeof Q[1]=="function"?Q[1]:typeof Q[1]=="object"&&Q[1]!==null&&typeof Q[1].handleEvent=="function"?Q[1].handleEvent:null;if(Me!==null){const ge=R.get(Q[1]);ge!==void 0?Q[1]=ge:(Q[1]=se=>{c(p.currentTime,p.sampleRate,()=>Me(se))},R.set(Me,Q[1]))}}return L.call(y.port1,Q[0],Q[1],Q[2])})(y.port1.addEventListener),y.port1.removeEventListener=(L=>(...Q)=>{if(Q[0]==="message"){const Me=R.get(Q[1]);Me!==void 0&&(R.delete(Q[1]),Q[1]=Me)}return L.call(y.port1,Q[0],Q[1],Q[2])})(y.port1.removeEventListener);let P=null;Object.defineProperty(y.port1,"onmessage",{get:()=>P,set:L=>{typeof P=="function"&&y.port1.removeEventListener("message",P),P=typeof L=="function"?L:null,typeof P=="function"&&(y.port1.addEventListener("message",P),y.port1.start())}}),_.prototype.port=y.port1;let j=null;D1(p,M,_,w).then(L=>j=L);const be=Jo(w.numberOfInputs,w.channelCount),Ce=Jo(w.numberOfOutputs,f),Y=_.parameterDescriptors===void 0?[]:_.parameterDescriptors.reduce((L,{name:Q})=>({...L,[Q]:new Float32Array(128)}),{});let ne=!0;const Oe=()=>{w.numberOfOutputs>0&&D.disconnect(O);for(let L=0,Q=0;L<w.numberOfOutputs;L+=1){const Me=b[L];for(let ge=0;ge<f[L];ge+=1)O.disconnect(Me,Q+ge,ge);Q+=f[L]}},$=new Map;D.onaudioprocess=({inputBuffer:L,outputBuffer:Q})=>{if(j!==null){const Me=h(M);for(let ge=0;ge<C;ge+=128){for(let se=0;se<w.numberOfInputs;se+=1)for(let xe=0;xe<w.channelCount;xe+=1)Ko(L,be[se],xe,xe,ge);_.parameterDescriptors!==void 0&&_.parameterDescriptors.forEach(({name:se},xe)=>{Ko(L,Y,se,g+xe,ge)});for(let se=0;se<w.numberOfInputs;se+=1)for(let xe=0;xe<f[se];xe+=1)Ce[se][xe].byteLength===0&&(Ce[se][xe]=new Float32Array(128));try{const se=be.map((yt,Sn)=>{if(Me[Sn].size>0)return $.set(Sn,C/128),yt;const Ja=$.get(Sn);return Ja===void 0?[]:(yt.every(Tg=>Tg.every(kg=>kg===0))&&(Ja===1?$.delete(Sn):$.set(Sn,Ja-1)),yt)});ne=c(p.currentTime+ge/p.sampleRate,p.sampleRate,()=>j.process(se,Ce,Y));for(let yt=0,Sn=0;yt<w.numberOfOutputs;yt+=1){for(let wr=0;wr<f[yt];wr+=1)wm(Q,Ce[yt],wr,Sn+wr,ge);Sn+=f[yt]}}catch(se){ne=!1,M.dispatchEvent(new ErrorEvent("processorerror",{colno:se.colno,filename:se.filename,lineno:se.lineno,message:se.message}))}if(!ne){for(let se=0;se<w.numberOfInputs;se+=1){S[se].disconnect(k[se]);for(let xe=0;xe<w.channelCount;xe+=1)k[ge].disconnect(E,xe,se*w.channelCount+xe)}if(_.parameterDescriptors!==void 0){const se=_.parameterDescriptors.length;for(let xe=0;xe<se;xe+=1){const yt=x[xe];yt.disconnect(E,0,g+xe),yt.stop()}}E.disconnect(D),D.onaudioprocess=null,ns?Oe():Os();break}}}};let ns=!1;const ss=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),As=()=>D.connect(ss).connect(p.destination),Os=()=>{D.disconnect(ss),ss.disconnect()},xg=()=>{if(ne){Os(),w.numberOfOutputs>0&&D.connect(O);for(let L=0,Q=0;L<w.numberOfOutputs;L+=1){const Me=b[L];for(let ge=0;ge<f[L];ge+=1)O.connect(Me,Q+ge,ge);Q+=f[L]}}ns=!0},Sg=()=>{ne&&(As(),Oe()),ns=!1};return As(),d(M,xg,Sg)},Tm=(t,e)=>{const n=t.createBiquadFilter();return Pe(n,e),Te(n,e,"Q"),Te(n,e,"detune"),Te(n,e,"frequency"),Te(n,e,"gain"),pe(n,e,"type"),n},I1=(t,e)=>(n,s)=>{const r=n.createChannelMerger(s.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,r),Pe(r,s),r},R1=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Le()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Le()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Le()}})},Mi=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Pe(n,e),R1(n),n},P1=(t,e,n,s,r)=>(i,o)=>{if(i.createConstantSource===void 0)return n(i,o);const a=i.createConstantSource();return Pe(a,o),Te(a,o,"offset"),e(s,()=>s(i))||Vc(a),e(r,()=>r(i))||Lc(a),t(i,a),a},gr=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),b1=(t,e,n,s)=>(r,{offset:i,...o})=>{const a=r.createBuffer(1,2,44100),l=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(r,{...o,gain:i}),c=a.getChannelData(0);c[0]=1,c[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(m){u.channelCount=m},get channelCountMode(){return u.channelCountMode},set channelCountMode(m){u.channelCountMode=m},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(m){u.channelInterpretation=m},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(m){l.onended=m},addEventListener(...m){return l.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return l.dispatchEvent(m[0])},removeEventListener(...m){return l.removeEventListener(m[0],m[1],m[2])},start(m=0){l.start.call(l,m)},stop(m=0){l.stop.call(l,m)}},d=()=>l.connect(u),p=()=>l.disconnect(u);return t(r,l),s(gr(h,u),d,p)},F1=(t,e)=>(n,s)=>{const r=n.createConvolver();if(Pe(r,s),s.disableNormalization===r.normalize&&(r.normalize=!s.disableNormalization),pe(r,s,"buffer"),s.channelCount>2||(e(r,"channelCount",i=>()=>i.call(r),i=>o=>{if(o>2)throw t();return i.call(r,o)}),s.channelCountMode==="max"))throw t();return e(r,"channelCountMode",i=>()=>i.call(r),i=>o=>{if(o==="max")throw t();return i.call(r,o)}),r},km=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Pe(n,e),Te(n,e,"delayTime"),n},V1=t=>(e,n)=>{const s=e.createDynamicsCompressor();if(Pe(s,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Te(s,n,"attack"),Te(s,n,"knee"),Te(s,n,"ratio"),Te(s,n,"release"),Te(s,n,"threshold"),s},ut=(t,e)=>{const n=t.createGain();return Pe(n,e),Te(n,e,"gain"),n},L1=t=>(e,n,s)=>{if(e.createIIRFilter===void 0)return t(e,n,s);const r=e.createIIRFilter(s.feedforward,s.feedback);return Pe(r,s),r};function j1(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function z1(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Dd(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)n=z1(n,e),n[0]+=t[s];return n}const W1=(t,e,n,s)=>(r,i,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:u,feedforward:c})=>{const h=Sm(i,r.sampleRate),d=u instanceof Float64Array?u:new Float64Array(u),p=c instanceof Float64Array?c:new Float64Array(c),m=d.length,_=p.length,w=Math.min(m,_);if(m===0||m>20)throw s();if(d[0]===0)throw e();if(_===0||_>20)throw s();if(p[0]===0)throw e();if(d[0]!==1){for(let x=0;x<_;x+=1)p[x]/=d[0];for(let x=1;x<m;x+=1)d[x]/=d[0]}const f=n(r,h,o,o);f.channelCount=o,f.channelCountMode=a,f.channelInterpretation=l;const g=32,v=[],T=[],y=[];for(let x=0;x<o;x+=1){v.push(0);const E=new Float32Array(g),C=new Float32Array(g);E.fill(0),C.fill(0),T.push(E),y.push(C)}f.onaudioprocess=x=>{const E=x.inputBuffer,C=x.outputBuffer,D=E.numberOfChannels;for(let O=0;O<D;O+=1){const b=E.getChannelData(O),F=C.getChannelData(O);v[O]=xm(d,m,p,_,w,T[O],y[O],v[O],g,b,F)}};const S=r.sampleRate/2;return gr({get bufferSize(){return h},get channelCount(){return f.channelCount},set channelCount(x){f.channelCount=x},get channelCountMode(){return f.channelCountMode},set channelCountMode(x){f.channelCountMode=x},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(x){f.channelInterpretation=x},get context(){return f.context},get inputs(){return[f]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},addEventListener(...x){return f.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return f.dispatchEvent(x[0])},getFrequencyResponse(x,E,C){if(x.length!==E.length||E.length!==C.length)throw t();const D=x.length;for(let O=0;O<D;O+=1){const b=-Math.PI*(x[O]/S),F=[Math.cos(b),Math.sin(b)],H=Dd(p,F),W=Dd(d,F),B=j1(H,W);E[O]=Math.sqrt(B[0]*B[0]+B[1]*B[1]),C[O]=Math.atan2(B[1],B[0])}},removeEventListener(...x){return f.removeEventListener(x[0],x[1],x[2])}},f)},q1=(t,e)=>t.createMediaElementSource(e.mediaElement),B1=(t,e)=>{const n=t.createMediaStreamDestination();return Pe(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},U1=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((i,o)=>i.id<o.id?-1:i.id>o.id?1:0);const s=n.slice(0,1),r=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(r,"mediaStream",{value:e}),r},$1=(t,e)=>(n,{mediaStreamTrack:s})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(s);const r=new MediaStream([s]),i=n.createMediaStreamSource(r);if(s.kind!=="audio")throw t();if(e(n))throw new TypeError;return i},H1=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,G1=(t,e,n,s,r,i)=>(o,a)=>{const l=o.createOscillator();return Pe(l,a),Te(l,a,"detune"),Te(l,a,"frequency"),a.periodicWave!==void 0?l.setPeriodicWave(a.periodicWave):pe(l,a,"type"),e(n,()=>n(o))||Vc(l),e(s,()=>s(o))||i(l,o),e(r,()=>r(o))||Lc(l),t(o,l),l},Q1=t=>(e,n)=>{const s=e.createPanner();return s.orientationX===void 0?t(e,n):(Pe(s,n),Te(s,n,"orientationX"),Te(s,n,"orientationY"),Te(s,n,"orientationZ"),Te(s,n,"positionX"),Te(s,n,"positionY"),Te(s,n,"positionZ"),pe(s,n,"coneInnerAngle"),pe(s,n,"coneOuterAngle"),pe(s,n,"coneOuterGain"),pe(s,n,"distanceModel"),pe(s,n,"maxDistance"),pe(s,n,"panningModel"),pe(s,n,"refDistance"),pe(s,n,"rolloffFactor"),s)},X1=(t,e,n,s,r,i,o,a,l,u)=>(c,{coneInnerAngle:h,coneOuterAngle:d,coneOuterGain:p,distanceModel:m,maxDistance:_,orientationX:w,orientationY:f,orientationZ:g,panningModel:v,positionX:T,positionY:y,positionZ:S,refDistance:k,rolloffFactor:x,...E})=>{const C=c.createPanner();if(E.channelCount>2||E.channelCountMode==="max")throw o();Pe(C,E);const D={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},O=n(c,{...D,channelInterpretation:"speakers",numberOfInputs:6}),b=s(c,{...E,gain:1}),F=s(c,{...D,gain:1}),H=s(c,{...D,gain:0}),W=s(c,{...D,gain:0}),B=s(c,{...D,gain:0}),M=s(c,{...D,gain:0}),R=s(c,{...D,gain:0}),P=r(c,256,6,1),j=i(c,{...D,curve:new Float32Array([1,1]),oversample:"none"});let G=[w,f,g],be=[T,y,S];const Ce=new Float32Array(1);P.onaudioprocess=({inputBuffer:$})=>{const ns=[l($,Ce,0),l($,Ce,1),l($,Ce,2)];ns.some((As,Os)=>As!==G[Os])&&(C.setOrientation(...ns),G=ns);const ss=[l($,Ce,3),l($,Ce,4),l($,Ce,5)];ss.some((As,Os)=>As!==be[Os])&&(C.setPosition(...ss),be=ss)},Object.defineProperty(H.gain,"defaultValue",{get:()=>0}),Object.defineProperty(W.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0});const Y={get bufferSize(){},get channelCount(){return C.channelCount},set channelCount($){if($>2)throw o();b.channelCount=$,C.channelCount=$},get channelCountMode(){return C.channelCountMode},set channelCountMode($){if($==="max")throw o();b.channelCountMode=$,C.channelCountMode=$},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation($){b.channelInterpretation=$,C.channelInterpretation=$},get coneInnerAngle(){return C.coneInnerAngle},set coneInnerAngle($){C.coneInnerAngle=$},get coneOuterAngle(){return C.coneOuterAngle},set coneOuterAngle($){C.coneOuterAngle=$},get coneOuterGain(){return C.coneOuterGain},set coneOuterGain($){if($<0||$>1)throw e();C.coneOuterGain=$},get context(){return C.context},get distanceModel(){return C.distanceModel},set distanceModel($){C.distanceModel=$},get inputs(){return[b]},get maxDistance(){return C.maxDistance},set maxDistance($){if($<0)throw new RangeError;C.maxDistance=$},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},get orientationX(){return F.gain},get orientationY(){return H.gain},get orientationZ(){return W.gain},get panningModel(){return C.panningModel},set panningModel($){C.panningModel=$},get positionX(){return B.gain},get positionY(){return M.gain},get positionZ(){return R.gain},get refDistance(){return C.refDistance},set refDistance($){if($<0)throw new RangeError;C.refDistance=$},get rolloffFactor(){return C.rolloffFactor},set rolloffFactor($){if($<0)throw new RangeError;C.rolloffFactor=$},addEventListener(...$){return b.addEventListener($[0],$[1],$[2])},dispatchEvent(...$){return b.dispatchEvent($[0])},removeEventListener(...$){return b.removeEventListener($[0],$[1],$[2])}};h!==Y.coneInnerAngle&&(Y.coneInnerAngle=h),d!==Y.coneOuterAngle&&(Y.coneOuterAngle=d),p!==Y.coneOuterGain&&(Y.coneOuterGain=p),m!==Y.distanceModel&&(Y.distanceModel=m),_!==Y.maxDistance&&(Y.maxDistance=_),w!==Y.orientationX.value&&(Y.orientationX.value=w),f!==Y.orientationY.value&&(Y.orientationY.value=f),g!==Y.orientationZ.value&&(Y.orientationZ.value=g),v!==Y.panningModel&&(Y.panningModel=v),T!==Y.positionX.value&&(Y.positionX.value=T),y!==Y.positionY.value&&(Y.positionY.value=y),S!==Y.positionZ.value&&(Y.positionZ.value=S),k!==Y.refDistance&&(Y.refDistance=k),x!==Y.rolloffFactor&&(Y.rolloffFactor=x),(G[0]!==1||G[1]!==0||G[2]!==0)&&C.setOrientation(...G),(be[0]!==0||be[1]!==0||be[2]!==0)&&C.setPosition(...be);const ne=()=>{b.connect(C),t(b,j,0,0),j.connect(F).connect(O,0,0),j.connect(H).connect(O,0,1),j.connect(W).connect(O,0,2),j.connect(B).connect(O,0,3),j.connect(M).connect(O,0,4),j.connect(R).connect(O,0,5),O.connect(P).connect(c.destination)},Oe=()=>{b.disconnect(C),a(b,j,0,0),j.disconnect(F),F.disconnect(O),j.disconnect(H),H.disconnect(O),j.disconnect(W),W.disconnect(O),j.disconnect(B),B.disconnect(O),j.disconnect(M),M.disconnect(O),j.disconnect(R),R.disconnect(O),O.disconnect(P),P.disconnect(c.destination)};return u(gr(Y,C),ne,Oe)},Y1=t=>(e,{disableNormalization:n,imag:s,real:r})=>{const i=s instanceof Float32Array?s:new Float32Array(s),o=r instanceof Float32Array?r:new Float32Array(r),a=e.createPeriodicWave(o,i,{disableNormalization:n});if(Array.from(s).length<2)throw t();return a},Ii=(t,e,n,s)=>t.createScriptProcessor(e,n,s),Z1=(t,e)=>(n,s)=>{const r=s.channelCountMode;if(r==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,s);const i=n.createStereoPanner();return Pe(i,s),Te(i,s,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>r,set:o=>{if(o!==r)throw e()}}),i},K1=(t,e,n,s,r,i)=>{const a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(m,_,w,f)=>{const g=new Float32Array(16385),v=new Float32Array(16385);for(let E=0;E<16385;E+=1){const C=E/16384*l;g[E]=Math.cos(C),v[E]=Math.sin(C)}const T=n(m,{...u,gain:0}),y=s(m,{...c,curve:g}),S=s(m,{...c,curve:a}),k=n(m,{...u,gain:0}),x=s(m,{...c,curve:v});return{connectGraph(){_.connect(T),_.connect(S.inputs===void 0?S:S.inputs[0]),_.connect(k),S.connect(w),w.connect(y.inputs===void 0?y:y.inputs[0]),w.connect(x.inputs===void 0?x:x.inputs[0]),y.connect(T.gain),x.connect(k.gain),T.connect(f,0,0),k.connect(f,0,1)},disconnectGraph(){_.disconnect(T),_.disconnect(S.inputs===void 0?S:S.inputs[0]),_.disconnect(k),S.disconnect(w),w.disconnect(y.inputs===void 0?y:y.inputs[0]),w.disconnect(x.inputs===void 0?x:x.inputs[0]),y.disconnect(T.gain),x.disconnect(k.gain),T.disconnect(f,0,0),k.disconnect(f,0,1)}}},d=(m,_,w,f)=>{const g=new Float32Array(16385),v=new Float32Array(16385),T=new Float32Array(16385),y=new Float32Array(16385),S=Math.floor(16385/2);for(let B=0;B<16385;B+=1)if(B>S){const M=(B-S)/(16384-S)*l;g[B]=Math.cos(M),v[B]=Math.sin(M),T[B]=0,y[B]=1}else{const M=B/(16384-S)*l;g[B]=1,v[B]=0,T[B]=Math.cos(M),y[B]=Math.sin(M)}const k=e(m,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),x=n(m,{...u,gain:0}),E=s(m,{...c,curve:g}),C=n(m,{...u,gain:0}),D=s(m,{...c,curve:v}),O=s(m,{...c,curve:a}),b=n(m,{...u,gain:0}),F=s(m,{...c,curve:T}),H=n(m,{...u,gain:0}),W=s(m,{...c,curve:y});return{connectGraph(){_.connect(k),_.connect(O.inputs===void 0?O:O.inputs[0]),k.connect(x,0),k.connect(C,0),k.connect(b,1),k.connect(H,1),O.connect(w),w.connect(E.inputs===void 0?E:E.inputs[0]),w.connect(D.inputs===void 0?D:D.inputs[0]),w.connect(F.inputs===void 0?F:F.inputs[0]),w.connect(W.inputs===void 0?W:W.inputs[0]),E.connect(x.gain),D.connect(C.gain),F.connect(b.gain),W.connect(H.gain),x.connect(f,0,0),b.connect(f,0,0),C.connect(f,0,1),H.connect(f,0,1)},disconnectGraph(){_.disconnect(k),_.disconnect(O.inputs===void 0?O:O.inputs[0]),k.disconnect(x,0),k.disconnect(C,0),k.disconnect(b,1),k.disconnect(H,1),O.disconnect(w),w.disconnect(E.inputs===void 0?E:E.inputs[0]),w.disconnect(D.inputs===void 0?D:D.inputs[0]),w.disconnect(F.inputs===void 0?F:F.inputs[0]),w.disconnect(W.inputs===void 0?W:W.inputs[0]),E.disconnect(x.gain),D.disconnect(C.gain),F.disconnect(b.gain),W.disconnect(H.gain),x.disconnect(f,0,0),b.disconnect(f,0,0),C.disconnect(f,0,1),H.disconnect(f,0,1)}}},p=(m,_,w,f,g)=>{if(_===1)return h(m,w,f,g);if(_===2)return d(m,w,f,g);throw r()};return(m,{channelCount:_,channelCountMode:w,pan:f,...g})=>{if(w==="max")throw r();const v=t(m,{...g,channelCount:1,channelCountMode:w,numberOfInputs:2}),T=n(m,{...g,channelCount:_,channelCountMode:w,gain:1}),y=n(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:f});let{connectGraph:S,disconnectGraph:k}=p(m,_,T,y,v);Object.defineProperty(y.gain,"defaultValue",{get:()=>0}),Object.defineProperty(y.gain,"maxValue",{get:()=>1}),Object.defineProperty(y.gain,"minValue",{get:()=>-1});const x={get bufferSize(){},get channelCount(){return T.channelCount},set channelCount(O){T.channelCount!==O&&(E&&k(),{connectGraph:S,disconnectGraph:k}=p(m,O,T,y,v),E&&S()),T.channelCount=O},get channelCountMode(){return T.channelCountMode},set channelCountMode(O){if(O==="clamped-max"||O==="max")throw r();T.channelCountMode=O},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(O){T.channelInterpretation=O},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get pan(){return y.gain},addEventListener(...O){return T.addEventListener(O[0],O[1],O[2])},dispatchEvent(...O){return T.dispatchEvent(O[0])},removeEventListener(...O){return T.removeEventListener(O[0],O[1],O[2])}};let E=!1;const C=()=>{S(),E=!0},D=()=>{k(),E=!1};return i(gr(x,v),C,D)}},J1=(t,e,n,s,r,i,o)=>(a,l)=>{const u=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,l);Pe(u,l);const c=l.curve===null||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(c!==null&&c.length<2)throw e();pe(u,{curve:c},"curve"),pe(u,l,"oversample");let h=null,d=!1;return o(u,"curve",_=>()=>_.call(u),_=>w=>(_.call(u,w),d&&(s(w)&&h===null?h=t(a,u):!s(w)&&h!==null&&(h(),h=null)),w)),r(u,()=>{d=!0,s(u.curve)&&(h=t(a,u))},()=>{d=!1,h!==null&&(h(),h=null)})},ew=(t,e,n,s,r)=>(i,{curve:o,oversample:a,...l})=>{const u=i.createWaveShaper(),c=i.createWaveShaper();Pe(u,l),Pe(c,l);const h=n(i,{...l,gain:1}),d=n(i,{...l,gain:-1}),p=n(i,{...l,gain:1}),m=n(i,{...l,gain:-1});let _=null,w=!1,f=null;const g={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(y){h.channelCount=y,d.channelCount=y,u.channelCount=y,p.channelCount=y,c.channelCount=y,m.channelCount=y},get channelCountMode(){return u.channelCountMode},set channelCountMode(y){h.channelCountMode=y,d.channelCountMode=y,u.channelCountMode=y,p.channelCountMode=y,c.channelCountMode=y,m.channelCountMode=y},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(y){h.channelInterpretation=y,d.channelInterpretation=y,u.channelInterpretation=y,p.channelInterpretation=y,c.channelInterpretation=y,m.channelInterpretation=y},get context(){return u.context},get curve(){return f},set curve(y){if(y!==null&&y.length<2)throw e();if(y===null)u.curve=y,c.curve=y;else{const S=y.length,k=new Float32Array(S+2-S%2),x=new Float32Array(S+2-S%2);k[0]=y[0],x[0]=-y[S-1];const E=Math.ceil((S+1)/2),C=(S+1)/2-1;for(let D=1;D<E;D+=1){const O=D/E*C,b=Math.floor(O),F=Math.ceil(O);k[D]=b===F?y[b]:(1-(O-b))*y[b]+(1-(F-O))*y[F],x[D]=b===F?-y[S-1-b]:-((1-(O-b))*y[S-1-b])-(1-(F-O))*y[S-1-F]}k[E]=S%2===1?y[E-1]:(y[E-2]+y[E-1])/2,u.curve=k,c.curve=x}f=y,w&&(s(f)&&_===null?_=t(i,h):_!==null&&(_(),_=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(y){u.oversample=y,c.oversample=y},addEventListener(...y){return h.addEventListener(y[0],y[1],y[2])},dispatchEvent(...y){return h.dispatchEvent(y[0])},removeEventListener(...y){return h.removeEventListener(y[0],y[1],y[2])}};o!==null&&(g.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==g.oversample&&(g.oversample=a);const v=()=>{h.connect(u).connect(p),h.connect(d).connect(c).connect(m).connect(p),w=!0,s(f)&&(_=t(i,h))},T=()=>{h.disconnect(u),u.disconnect(p),h.disconnect(d),d.disconnect(c),c.disconnect(m),m.disconnect(p),w=!1,_!==null&&(_(),_=null)};return r(gr(g,p),v,T)},tt=()=>new DOMException("","NotSupportedError"),tw={numberOfChannels:1},nw=(t,e,n,s,r)=>class extends t{constructor(o,a,l){let u;if(typeof o=="number"&&a!==void 0&&l!==void 0)u={length:a,numberOfChannels:o,sampleRate:l};else if(typeof o=="object")u=o;else throw new Error("The given parameters are not valid.");const{length:c,numberOfChannels:h,sampleRate:d}={...tw,...u},p=s(h,c,d);e(ai,()=>ai(p))||p.addEventListener("statechange",(()=>{let m=0;const _=w=>{this._state==="running"&&(m>0?(p.removeEventListener("statechange",_),w.stopImmediatePropagation(),this._waitForThePromiseToSettle(w)):m+=1)};return _})()),super(p,h),this._length=c,this._nativeOfflineAudioContext=p,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,mm(this)}))}_waitForThePromiseToSettle(o){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(o):setTimeout(()=>this._waitForThePromiseToSettle(o))}},sw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},rw=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...sw,...u},d=n(c,h),p=i(c),m=p?s():null,_=l.sampleRate/2;super(l,!1,d,m),this._detune=e(this,p,d.detune,153600,-153600),this._frequency=e(this,p,d.frequency,_,-_),this._nativeOscillatorNode=d,this._onended=null,this._oscillatorNodeRenderer=m,this._oscillatorNodeRenderer!==null&&h.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=h.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(l){const u=typeof l=="function"?o(this,l):null;this._nativeOscillatorNode.onended=u;const c=this._nativeOscillatorNode.onended;this._onended=c!==null&&c===u?l:c}get type(){return this._nativeOscillatorNode.type}set type(l){this._nativeOscillatorNode.type=l,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(l){this._nativeOscillatorNode.setPeriodicWave(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=l)}start(l=0){if(this._nativeOscillatorNode.start(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=l),this.context.state!=="closed"){ar(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),an(this)&&Ai(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(l=0){this._nativeOscillatorNode.stop(l),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=l)}},iw=(t,e,n,s,r)=>()=>{const i=new WeakMap;let o=null,a=null,l=null;const u=async(c,h)=>{let d=n(c);const p=Qe(d,h);if(!p){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:o===null?void 0:o,type:d.type};d=e(h,m),a!==null&&d.start(a),l!==null&&d.stop(l)}return i.set(h,d),p?(await t(h,c.detune,d.detune),await t(h,c.frequency,d.frequency)):(await s(h,c.detune,d.detune),await s(h,c.frequency,d.frequency)),await r(c,h,d),d};return{set periodicWave(c){o=c},set start(c){a=c},set stop(c){l=c},render(c,h){const d=i.get(h);return d!==void 0?Promise.resolve(d):u(c,h)}}},ow={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},aw=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...ow,...u},d=n(c,h),p=i(c),m=p?s():null;super(l,!1,d,m),this._nativePannerNode=d,this._orientationX=e(this,p,d.orientationX,Ye,st),this._orientationY=e(this,p,d.orientationY,Ye,st),this._orientationZ=e(this,p,d.orientationZ,Ye,st),this._positionX=e(this,p,d.positionX,Ye,st),this._positionY=e(this,p,d.positionY,Ye,st),this._positionZ=e(this,p,d.positionZ,Ye,st),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(l){this._nativePannerNode.coneInnerAngle=l}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(l){this._nativePannerNode.coneOuterAngle=l}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(l){this._nativePannerNode.coneOuterGain=l}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(l){this._nativePannerNode.distanceModel=l}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(l){this._nativePannerNode.maxDistance=l}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(l){this._nativePannerNode.panningModel=l}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(l){this._nativePannerNode.refDistance=l}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(l){this._nativePannerNode.rolloffFactor=l}},lw=(t,e,n,s,r,i,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;const d=async(p,m)=>{let _=null,w=i(p);const f={channelCount:w.channelCount,channelCountMode:w.channelCountMode,channelInterpretation:w.channelInterpretation},g={...f,coneInnerAngle:w.coneInnerAngle,coneOuterAngle:w.coneOuterAngle,coneOuterGain:w.coneOuterGain,distanceModel:w.distanceModel,maxDistance:w.maxDistance,panningModel:w.panningModel,refDistance:w.refDistance,rolloffFactor:w.rolloffFactor},v=Qe(w,m);if("bufferSize"in w)_=s(m,{...f,gain:1});else if(!v){const T={...g,orientationX:w.orientationX.value,orientationY:w.orientationY.value,orientationZ:w.orientationZ.value,positionX:w.positionX.value,positionY:w.positionY.value,positionZ:w.positionZ.value};w=r(m,T)}if(c.set(m,_===null?w:_),_!==null){if(h===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const D=new o(6,p.context.length,m.sampleRate),O=e(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});O.connect(D.destination),h=(async()=>{const b=await Promise.all([p.orientationX,p.orientationY,p.orientationZ,p.positionX,p.positionY,p.positionZ].map(async(F,H)=>{const W=n(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:H===0?1:0});return await a(D,F,W.offset),W}));for(let F=0;F<6;F+=1)b[F].connect(O,0,F),b[F].start(0);return u(D)})()}const T=await h,y=s(m,{...f,gain:1});await l(p,m,y);const S=[];for(let D=0;D<T.numberOfChannels;D+=1)S.push(T.getChannelData(D));let k=[S[0][0],S[1][0],S[2][0]],x=[S[3][0],S[4][0],S[5][0]],E=s(m,{...f,gain:1}),C=r(m,{...g,orientationX:k[0],orientationY:k[1],orientationZ:k[2],positionX:x[0],positionY:x[1],positionZ:x[2]});y.connect(E).connect(C.inputs[0]),C.connect(_);for(let D=128;D<T.length;D+=128){const O=[S[0][D],S[1][D],S[2][D]],b=[S[3][D],S[4][D],S[5][D]];if(O.some((F,H)=>F!==k[H])||b.some((F,H)=>F!==x[H])){k=O,x=b;const F=D/m.sampleRate;E.gain.setValueAtTime(0,F),E=s(m,{...f,gain:0}),C=r(m,{...g,orientationX:k[0],orientationY:k[1],orientationZ:k[2],positionX:x[0],positionY:x[1],positionZ:x[2]}),E.gain.setValueAtTime(1,F),y.connect(E).connect(C.inputs[0]),C.connect(_)}}return _}return v?(await t(m,p.orientationX,w.orientationX),await t(m,p.orientationY,w.orientationY),await t(m,p.orientationZ,w.orientationZ),await t(m,p.positionX,w.positionX),await t(m,p.positionY,w.positionY),await t(m,p.positionZ,w.positionZ)):(await a(m,p.orientationX,w.orientationX),await a(m,p.orientationY,w.orientationY),await a(m,p.orientationZ,w.orientationZ),await a(m,p.positionX,w.positionX),await a(m,p.positionY,w.positionY),await a(m,p.positionZ,w.positionZ)),mr(w)?await l(p,m,w.inputs[0]):await l(p,m,w),w};return{render(p,m){const _=c.get(m);return _!==void 0?Promise.resolve(_):d(p,m)}}},uw={disableNormalization:!1},cw=(t,e,n,s)=>class Cm{constructor(i,o){const a=e(i),l=s({...uw,...o}),u=t(a,l);return n.add(u),u}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===Cm.prototype||n.has(i)}},hw=(t,e)=>(n,s,r)=>(t(s).replay(r),e(s,n,r)),dw=(t,e,n)=>async(s,r,i)=>{const o=t(s);await Promise.all(o.activeInputs.map((a,l)=>Array.from(a).map(async([u,c])=>{const d=await e(u).render(u,r),p=s.context.destination;!n(u)&&(s!==p||!n(s))&&d.connect(i,c,l)})).reduce((a,l)=>[...a,...l],[]))},fw=(t,e,n)=>async(s,r,i)=>{const o=e(s);await Promise.all(Array.from(o.activeInputs).map(async([a,l])=>{const c=await t(a).render(a,r);n(a)||c.connect(i,l)}))},pw=(t,e,n,s)=>r=>t(ai,()=>ai(r))?Promise.resolve(t(s,s)).then(i=>{if(!i){const o=n(r,512,0,1);r.oncomplete=()=>{o.onaudioprocess=null,o.disconnect()},o.onaudioprocess=()=>r.currentTime,o.connect(r.destination)}return r.startRendering()}):new Promise(i=>{const o=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=a=>{o.disconnect(),i(a.renderedBuffer)},o.connect(r.destination),r.startRendering()}),mw=t=>(e,n)=>{t.set(e,n)},gw=t=>(e,n)=>t.set(e,n),_w=(t,e,n,s,r,i,o,a)=>(l,u)=>n(l).render(l,u).then(()=>Promise.all(Array.from(s(u)).map(c=>n(c).render(c,u)))).then(()=>r(u)).then(c=>(typeof c.copyFromChannel!="function"?(o(c),Pc(c)):e(i,()=>i(c))||a(c),t.add(c),c)),vw={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},yw=(t,e,n,s,r,i)=>class extends t{constructor(a,l){const u=r(a),c={...vw,...l},h=n(u,c),d=i(u),p=d?s():null;super(a,!1,h,p),this._pan=e(this,d,h.pan)}get pan(){return this._pan}},ww=(t,e,n,s,r)=>()=>{const i=new WeakMap,o=async(a,l)=>{let u=n(a);const c=Qe(u,l);if(!c){const h={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(l,h)}return i.set(l,u),c?await t(l,a.pan,u.pan):await s(l,a.pan,u.pan),mr(u)?await r(a,l,u.inputs[0]):await r(a,l,u),u};return{render(a,l){const u=i.get(l);return u!==void 0?Promise.resolve(u):o(a,l)}}},xw=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},Sw=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),r=URL.createObjectURL(n);let i=!1,o=!1;try{await s.audioWorklet.addModule(r);const a=new t(s,"a",{numberOfOutputs:0}),l=s.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>o=!0,l.connect(a),l.start(0),await s.startRendering(),await new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(r)}return i&&!o},Tw=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{n.oncomplete=()=>{s.disconnect(),r(n.currentTime!==0)},n.startRendering()})},kw=()=>new DOMException("","UnknownError"),Cw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Nw=(t,e,n,s,r,i,o)=>class extends t{constructor(l,u){const c=r(l),h={...Cw,...u},d=n(c,h),m=i(c)?s():null;super(l,!0,d,m),this._isCurveNullified=!1,this._nativeWaveShaperNode=d,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(l){if(l===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(l.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=l}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(l){this._nativeWaveShaperNode.oversample=l}},Ew=(t,e,n)=>()=>{const s=new WeakMap,r=async(i,o)=>{let a=e(i);if(!Qe(a,o)){const u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(o,u)}return s.set(o,a),mr(a)?await n(i,o,a.inputs[0]):await n(i,o,a),a};return{render(i,o){const a=s.get(o);return a!==void 0?Promise.resolve(a):r(i,o)}}},Aw=()=>typeof window>"u"?null:window,Ow=(t,e)=>n=>{n.copyFromChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=s.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)s[h]=u[h+o]},n.copyToChannel=(s,r,i=0)=>{const o=t(i),a=t(r);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=s.length;for(let h=o<0?-o:0;h+o<l&&h<c;h+=1)u[h+o]=s[h]}},Dw=t=>e=>{e.copyFromChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(s,r,i=0)=>{const o=t(i),a=t(r);if(o<e.length)return n.call(e,s,a,o)})(e.copyToChannel)},Mw=t=>(e,n)=>{const s=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=s),t(e,"buffer",r=>()=>{const i=r.call(e);return i===s?null:i},r=>i=>r.call(e,i===null?s:i))},Iw=(t,e)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const r=n.createBufferSource();e(s,()=>{const a=s.numberOfInputs;for(let l=0;l<a;l+=1)r.connect(s,0,l)},()=>r.disconnect(s))},Nm=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Em=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},Ri=(t,e,n,s)=>{let r=t;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:i,set:o}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:n(i),set:s(o)})},Rw=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),Pw=t=>({...t,channelCount:t.numberOfOutputs}),bw=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},Am=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(s.code!==9)throw s;Am(t,e,n+1e-7)}},Fw=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},Vw=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},Lw=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},jc=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},Om=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},zc=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},jw=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},zw=t=>{t.start=(e=>(n=0,s=0,r)=>{const i=t.buffer,o=i===null?s:Math.min(i.duration,s);i!==null&&o>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,r)})(t.start)},Dm=(t,e)=>{const n=e.createGain();t.connect(n);const s=(r=>()=>{r.call(t,n),t.removeEventListener("ended",s)})(t.disconnect);t.addEventListener("ended",s),gr(t,n),t.stop=(r=>{let i=!1;return(o=0)=>{if(i)try{r.call(t,o)}catch{n.gain.setValueAtTime(0,o)}else r.call(t,o),i=!0}})(t.stop)},_r=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},Ww=ay(Cs),qw=fy(Cs),Bw=C0(qa),Mm=new WeakMap,Uw=B0(Mm),zt=t0(new Map,new WeakMap),Xt=Aw(),Im=y1(zt,Zt),Wc=q0(Ze),Be=dw(Ze,Wc,ws),$w=vy(Im,fe,Be),ue=H0(Wa),yn=H1(Xt),ae=u1(yn),Rm=new WeakMap,Pm=b0(_r),Pi=T1(Xt),qc=i1(Pi),Bc=o1(Xt),bm=a1(Xt),li=C1(Xt),Ae=By(ly(lm),dy(Ww,qw,Xo,Bw,Yo,Ze,Uw,Ei,fe,Cs,an,ws,vo),zt,e1(Tu,Yo,Ze,fe,oi,an),Zt,Ba,tt,x0(Xo,Tu,Ze,fe,oi,ue,an,ae),A0(Rm,Ze,Lt),Pm,ue,qc,Bc,bm,ae,li),Hw=_y(Ae,$w,Zt,Im,ue,ae),Uc=new WeakSet,Md=w1(Xt),Fm=p0(new Uint32Array(1)),$c=Ow(Fm,Zt),Hc=Dw(Fm),Vm=wy(Uc,zt,tt,Md,yn,xw(Md),$c,Hc),Ua=py(ut),Lm=fw(Wc,Oi,ws),Kt=l0(Lm),vr=S1(Ua,zt,Fw,Vw,Lw,jc,Om,zc,zw,Mw(Ri),Dm),Jt=hw(U0(Oi),Lm),Gw=Ty(Kt,vr,fe,Jt,Be),Wt=Uy(uy(um),Rm,Rc,$y,ty,ny,sy,ry,iy,wu,om,Pi,Am),Qw=Sy(Ae,Gw,Wt,Le,vr,ue,ae,_r),Xw=Iy(Ae,Ry,Zt,Le,k1(ut,Ri),ue,ae,Be),Yw=e0(Kt,Tm,fe,Jt,Be),Ns=gw(Mm),Zw=Jy(Ae,Wt,Yw,Ba,Tm,ue,ae,Ns),es=_1(Cs,Bc),Kw=Iw(Le,es),ts=I1(Pi,Kw),Jw=r0(ts,fe,Be),ex=s0(Ae,Jw,ts,ue,ae),tx=a0(Mi,fe,Be),nx=o0(Ae,tx,Mi,ue,ae,Pw),sx=b1(Ua,vr,ut,es),yr=P1(Ua,zt,sx,jc,zc),rx=f0(Kt,yr,fe,Jt,Be),ix=d0(Ae,Wt,rx,yr,ue,ae,_r),jm=F1(tt,Ri),ox=_0(jm,fe,Be),ax=g0(Ae,ox,jm,ue,ae,Ns),lx=k0(Kt,km,fe,Jt,Be),ux=T0(Ae,Wt,lx,km,ue,ae,Ns),zm=V1(tt),cx=I0(Kt,zm,fe,Jt,Be),hx=M0(Ae,Wt,cx,zm,tt,ue,ae,Ns),dx=z0(Kt,ut,fe,Jt,Be),fx=j0(Ae,Wt,dx,ut,ue,ae),px=W1(Ba,Le,Ii,tt),$a=pw(zt,ut,Ii,Tw(ut,yn)),mx=J0(vr,fe,yn,Be,$a),gx=L1(px),_x=Z0(Ae,gx,mx,ue,ae,Ns),vx=Py(Wt,ts,yr,Ii,tt,Nm,ae,Ri),Wm=new WeakMap,yx=g1(Xw,vx,Pm,ae,Wm,_r),qm=G1(Ua,zt,jc,Om,zc,Dm),wx=iw(Kt,qm,fe,Jt,Be),xx=rw(Ae,Wt,qm,wx,ue,ae,_r),Bm=c0(vr),Sx=ew(Bm,Le,ut,Em,es),Ha=J1(Bm,Le,Sx,Em,es,Pi,Ri),Tx=X1(Xo,Le,ts,ut,Ii,Ha,tt,Yo,Nm,es),Um=Q1(Tx),kx=lw(Kt,ts,yr,ut,Um,fe,yn,Jt,Be,$a),Cx=aw(Ae,Wt,Um,kx,ue,ae,Ns),Nx=Y1(Zt),Ex=cw(Nx,ue,new WeakSet,bw),Ax=K1(ts,Mi,ut,Ha,tt,es),$m=Z1(Ax,tt),Ox=ww(Kt,$m,fe,Jt,Be),Dx=yw(Ae,Wt,$m,Ox,ue,ae),Mx=Ew(Ha,fe,Be),Ix=Nw(Ae,Le,Ha,Mx,ue,ae,Ns),Hm=c1(Xt),Gc=F0(Xt),Gm=new WeakMap,Rx=G0(Gm,yn),Px=Hm?hy(zt,tt,P0(Xt),Gc,V0(oy),ue,Rx,ae,li,new WeakMap,new WeakMap,Sw(li,yn),Xt):void 0,bx=l1(qc,ae),Fx=w0(Uc,zt,y0,R0,new WeakSet,ue,bx,Go,ai,$c,Hc),Qm=Zy(Px,Hw,Vm,Qw,Zw,ex,nx,ix,ax,Fx,ux,hx,fx,_x,yx,xx,Cx,Ex,Dx,Ix),Vx=h1(Ae,q1,ue,ae),Lx=f1(Ae,B1,ue,ae),jx=p1(Ae,U1,ue,ae),zx=$1(Le,ae),Wx=m1(Ae,zx,ue),qx=My(Qm,Le,tt,kw,Vx,Lx,jx,Wx,Pi),Qc=Q0(Wm),Bx=my(Qc),Xm=u0(Zt),Ux=N0(Qc),Ym=O0(Zt),Zm=new WeakMap,$x=W0(Zm,Lt),Hx=M1(Xm,Zt,Le,ts,Mi,yr,ut,Ii,tt,Ym,Gc,$x,es),Gx=E1(Le,Hx,ut,tt,es),Qx=Yy(Kt,Xm,vr,ts,Mi,yr,ut,Ux,Ym,Gc,fe,li,yn,Jt,Be,$a),Xx=$0(Gm),Yx=mw(Zm),Id=Hm?Gy(Bx,Ae,Wt,Qx,Gx,Ze,Xx,ue,ae,li,Rw,Yx,jw,_r):void 0,Zx=v0(tt,yn),Kx=_w(Uc,zt,Wc,Qc,$a,Go,$c,Hc),Jx=nw(Qm,zt,Le,Zx,Kx),eS=t1(Wa,qc),tS=n1(Ic,Bc),nS=s1(Rc,bm),sS=r1(Wa,ae);function Ct(t){return t===void 0}function J(t){return t!==void 0}function rS(t){return typeof t=="function"}function fn(t){return typeof t=="number"}function fs(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function iS(t){return typeof t=="boolean"}function pt(t){return Array.isArray(t)}function pn(t){return typeof t=="string"}function so(t){return pn(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function U(t,e){if(!t)throw new Error(e)}function $n(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Km(t){!t.isOffline&&t.state!=="running"&&Ga('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Jm=!1,Rd=!1;function Pd(t){Jm=t}function oS(t){Ct(t)&&Jm&&!Rd&&(Rd=!0,Ga("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let eg=console;function aS(...t){eg.log(...t)}function Ga(...t){eg.warn(...t)}function lS(t){return new qx(t)}function uS(t,e,n){return new Jx(t,e,n)}const ln=typeof self=="object"?self:null,cS=ln&&(ln.hasOwnProperty("AudioContext")||ln.hasOwnProperty("webkitAudioContext"));function hS(t,e,n){return U(J(Id),"This node only works in a secure context (https or localhost)"),new Id(t,e,n)}function qt(t,e,n,s){var r=arguments.length,i=r<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(r<3?o(i):r>3?o(e,n,i):o(e,n))||i);return r>3&&i&&Object.defineProperty(e,n,i),i}function ke(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(c){try{u(s.next(c))}catch(h){o(h)}}function l(c){try{u(s.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((s=s.apply(t,e||[])).next())})}class dS{constructor(e,n,s,r){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(r||44100),.001),this.updateInterval=s,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),s=new Worker(n);s.onmessage=this._callback.bind(this),this._worker=s}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function xs(t){return nS(t)}function qn(t){return tS(t)}function yo(t){return sS(t)}function Ms(t){return eS(t)}function fS(t){return t instanceof Vm}function pS(t,e){return t==="value"||xs(e)||qn(e)||fS(e)}function ps(t,...e){if(!e.length)return t;const n=e.shift();if(fs(t)&&fs(n))for(const s in n)pS(s,n[s])?t[s]=n[s]:fs(n[s])?(t[s]||Object.assign(t,{[s]:{}}),ps(t[s],n[s])):Object.assign(t,{[s]:n[s]});return ps(t,...e)}function mS(t,e){return t.length===e.length&&t.every((n,s)=>e[s]===n)}function N(t,e,n=[],s){const r={},i=Array.from(e);if(fs(i[0])&&s&&!Reflect.has(i[0],s)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(ps(r,{[s]:i[0]}),n.splice(n.indexOf(s),1),i.shift())),i.length===1&&fs(i[0]))ps(r,i[0]);else for(let o=0;o<n.length;o++)J(i[o])&&(r[n[o]]=i[o]);return ps(t,r)}function gS(t){return t.constructor.getDefaults()}function Ks(t,e){return Ct(t)?e:t}function Au(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class wn{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||ln&&this.toString()===ln.TONE_DEBUG_CLASS)&&aS(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}wn.version=im;const Xc=1e-6;function lr(t,e){return t>e+Xc}function Ou(t,e){return lr(t,e)||Rt(t,e)}function ea(t,e){return t+Xc<e}function Rt(t,e){return Math.abs(t-e)<Xc}function _S(t,e,n){return Math.max(Math.min(t,n),e)}class Nt extends wn{constructor(){super(),this.name="Timeline",this._timeline=[];const e=N(Nt.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(U(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];U(Ou(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const s=this._search(e,n);return s!==-1?this._timeline[s]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const s=this._search(e,n);return s+1<this._timeline.length?this._timeline[s+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const s=this._search(e);return s-1>=0?this._timeline[s-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Rt(this._timeline[n].time,e)){for(let s=n;s>=0&&Rt(this._timeline[s].time,e);s--)n=s;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Ou(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let s=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][n]<=e)return r-1;for(;s<i;){let o=Math.floor(s+(i-s)/2);const a=this._timeline[o],l=this._timeline[o+1];if(Rt(a[n],e)){for(let u=o;u<this._timeline.length;u++){const c=this._timeline[u];if(Rt(c[n],e))o=u;else break}return o}else{if(ea(a[n],e)&&lr(l[n],e))return o;lr(a[n],e)?i=o:s=o+1}}return-1}_iterate(e,n=0,s=this._timeline.length-1){this._timeline.slice(n,s+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const s=this._search(e);return s!==-1&&this._iterate(n,0,s),this}forEachAfter(e,n){const s=this._search(e);return this._iterate(n,s+1),this}forEachBetween(e,n,s){let r=this._search(e),i=this._search(n);return r!==-1&&i!==-1?(this._timeline[r].time!==e&&(r+=1),this._timeline[i].time===n&&(i-=1),this._iterate(s,r,i)):r===-1&&this._iterate(s,0,i),this}forEachFrom(e,n){let s=this._search(e);for(;s>=0&&this._timeline[s].time>=e;)s--;return this._iterate(n,s+1),this}forEachAtTime(e,n){const s=this._search(e);if(s!==-1&&Rt(this._timeline[s].time,e)){let r=s;for(let i=s;i>=0&&Rt(this._timeline[i].time,e);i--)r=i;this._iterate(i=>{n(i)},r,s)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const tg=[];function Qa(t){tg.push(t)}function vS(t){tg.forEach(e=>e(t))}const ng=[];function Xa(t){ng.push(t)}function yS(t){ng.forEach(e=>e(t))}class bi extends wn{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(r=>{Ct(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(n)}),this}once(e,n){const s=(...r)=>{n(...r),this.off(e,s)};return this.on(e,s),this}off(e,n){return e.split(/\W+/).forEach(r=>{if(Ct(this._events)&&(this._events={}),this._events.hasOwnProperty(r))if(Ct(n))this._events[r]=[];else{const i=this._events[r];for(let o=i.length-1;o>=0;o--)i[o]===n&&i.splice(o,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const s=this._events[e].slice(0);for(let r=0,i=s.length;r<i;r++)s[r].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const s=Object.getOwnPropertyDescriptor(bi.prototype,n);Object.defineProperty(e.prototype,n,s)})}dispose(){return super.dispose(),this._events=void 0,this}}class sg extends bi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Fi extends sg{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new Nt,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const s=N(Fi.getDefaults(),arguments,["context"]);s.context?(this._context=s.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=lS({latencyHint:s.latencyHint}),this._latencyHint=s.latencyHint),this._ticker=new dS(this.emit.bind(this,"tick"),s.clockSource,s.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=s.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(vS(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,s){return this._context.createBuffer(e,n,s)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,s){return this._context.createPeriodicWave(e,n,s)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return U(Ms(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return U(Ms(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return U(Ms(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){U(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){U(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){U(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){U(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return hS(this.rawContext,e,n)}addAudioWorkletModule(e){return ke(this,void 0,void 0,function*(){U(J(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return ke(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Ms(this._context)?this._context.resume():Promise.resolve()}close(){return ke(this,void 0,void 0,function*(){Ms(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&yS(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),s=n.getChannelData(0);for(let i=0;i<s.length;i++)s[i]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=n,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const s=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:s+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const s=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),r()},id:s,time:i+n})};return r(),s}}class wS extends sg{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,s){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,s){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return ke(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function ee(t,e){pt(e)?e.forEach(n=>ee(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Yc(t,e){pt(e)?e.forEach(n=>Yc(t,n)):Object.defineProperty(t,e,{writable:!0})}const re=()=>{};class he extends wn{constructor(){super(),this.name="ToneAudioBuffer",this.onload=re;const e=N(he.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,pn(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:re,onload:re,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Tt().sampleRate}set(e){return e instanceof he?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return ke(this,void 0,void 0,function*(){const n=he.load(e).then(s=>{this.set(s),this.onload(this)});he.downloads.push(n);try{yield n}finally{const s=he.downloads.indexOf(n);he.downloads.splice(s,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=pt(e)&&e[0].length>0,s=n?e.length:1,r=n?e[0].length:e.length,i=Tt(),o=i.createBuffer(s,r,i.sampleRate),a=!n&&s===1?[e]:e;for(let l=0;l<s;l++)o.copyToChannel(a[l],l);return this._buffer=o,this}toMono(e){if(fn(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const s=this.numberOfChannels;for(let r=0;r<s;r++){const i=this.toArray(r);for(let o=0;o<i.length;o++)n[o]+=i[o]}n=n.map(r=>r/s),this.fromArray(n)}return this}toArray(e){if(fn(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let s=0;s<this.numberOfChannels;s++)n[s]=this.getChannelData(s);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){U(this.loaded,"Buffer is not loaded");const s=Math.floor(e*this.sampleRate),r=Math.floor(n*this.sampleRate);U(s<r,"The start time must be less than the end time");const i=r-s,o=Tt().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)o.copyToChannel(this.getChannelData(a).subarray(s,r),a);return new he(o)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new he().fromArray(e)}static fromUrl(e){return ke(this,void 0,void 0,function*(){return yield new he().load(e)})}static load(e){return ke(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const l=n[1].split("|");let u=l[0];for(const c of l)if(he.supportsType(c)){u=c;break}e=e.replace(n[0],u)}const s=he.baseUrl===""||he.baseUrl.endsWith("/")?he.baseUrl:he.baseUrl+"/",r=document.createElement("a");r.href=s+e,r.pathname=(r.pathname+r.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(r.href);if(!i.ok)throw new Error(`could not load url: ${e}`);const o=yield i.arrayBuffer();return yield Tt().decodeAudioData(o)})}static supportsType(e){const n=e.split("."),s=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+s)!==""}static loaded(){return ke(this,void 0,void 0,function*(){for(yield Promise.resolve();he.downloads.length;)yield he.downloads[0]})}}he.baseUrl="";he.downloads=[];class Zc extends Fi{constructor(){super({clockSource:"offline",context:yo(arguments[0])?arguments[0]:uS(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:yo(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=yo(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return ke(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const s=Math.floor(this.sampleRate/128);e&&n%s===0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(e=!0){return ke(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new he(n)})}close(){return Promise.resolve()}}const rg=new wS;let us=rg;function Tt(){return us===rg&&cS&&xS(new Fi),us}function xS(t,e=!1){e&&us.dispose(),Ms(t)?us=new Fi(t):yo(t)?us=new Zc(t):us=t}function SS(){return us.resume()}if(ln&&!ln.TONE_SILENCE_LOGGING){const e=` * Tone.js v${im} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function TS(t){return Math.pow(10,t/20)}function kS(t){return 20*(Math.log(t)/Math.LN10)}function ig(t){return Math.pow(2,t/12)}let Ya=440;function CS(){return Ya}function NS(t){Ya=t}function cs(t){return Math.round(og(t))}function og(t){return 69+12*Math.log2(t/Ya)}function ag(t){return Ya*Math.pow(2,(t-69)/12)}class Kc extends wn{constructor(e,n,s){super(),this.defaultUnits="s",this._val=n,this._units=s,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const s=parseInt(e,10),r=n==="."?1.5:1;return s===1?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/s)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,s)=>{let r=0;return e&&e!=="0"&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r+=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r+=this._beatsToUnits(parseFloat(s)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Kc&&this.fromType(this._val),Ct(this._val))return this._noArg();if(pn(this._val)&&Ct(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(fs(this._val)){let e=0;for(const n in this._val)if(J(this._val[n])){const s=this._val[n],r=new this.constructor(this.context,n).valueOf()*s;e+=r}return e}if(J(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return pn(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Pt extends Kc{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Pt(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const s=new this.constructor(this.context,e).valueOf(),r=this.valueOf(),a=Math.round(r/s)*s-r;return r+a*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){const o=Math.pow(2,i);n.push(o+"n."),n.push(o+"n"),n.push(o+"t")}n.push("0");let s=n[0],r=new Pt(this.context,n[0]).toSeconds();return n.forEach(i=>{const o=new Pt(this.context,i).toSeconds();Math.abs(o-e)<Math.abs(r-e)&&(s=i,r=o)}),s}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const s=Math.floor(n/this._getTimeSignature());let r=n%1*4;n=Math.floor(n)%this._getTimeSignature();const i=r.toString();return i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3))),[s,n,r].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return cs(this.toFrequency())}_now(){return this.context.now()}}class dt extends Pt{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return CS()}static set A4(e){NS(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:dt.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const r=ES[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?r:dt.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,s){let r=1;return e&&e!=="0"&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(r*=this._beatsToUnits(parseFloat(n))),s&&s!=="0"&&(r*=this._beatsToUnits(parseFloat(s)/4)),r}}})}transpose(e){return new dt(this.context,this.valueOf()*ig(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return cs(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/dt.A4);let s=Math.round(12*n)+57;const r=Math.floor(s/12);return r<0&&(s+=-12*r),AS[s%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return ag(e)}static ftom(e){return cs(e)}}const ES={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},AS=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class qr extends Pt{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class lt extends wn{constructor(){super();const e=N(lt.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Tt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return oS(e),new Pt(this.context,e).toSeconds()}toFrequency(e){return new dt(this.context,e).toFrequency()}toTicks(e){return new qr(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(s=>{Ct(e[s])&&delete n[s]}),n}get(){const e=gS(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const s=this[n];J(s)&&J(s.value)&&J(s.setValueAtTime)?e[n]=s.value:s instanceof lt?e[n]=s._getPartialProperties(e[n]):pt(s)||fn(s)||pn(s)||iS(s)?e[n]=s:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&J(this[n])&&(this[n]&&J(this[n].value)&&J(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof lt?this[n].set(e[n]):this[n]=e[n])}),this}}class Jc extends Nt{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,s){return $n(n,0),this.add(Object.assign({},s,{state:e,time:n})),this}getLastState(e,n){const s=this._search(n);for(let r=s;r>=0;r--){const i=this._timeline[r];if(i.state===e)return i}}getNextState(e,n){const s=this._search(n);if(s!==-1)for(let r=s;r<this._timeline.length;r++){const i=this._timeline[r];if(i.state===e)return i}}}class X extends lt{constructor(){super(N(X.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=N(X.getDefaults(),arguments,["param","units","convert"]);for(U(J(e.param)&&(xs(e.param)||e.param instanceof X),"param must be an AudioParam");!xs(e.param);)e.param=e.param._param;this._swappable=J(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Nt(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,J(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(lt.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return J(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return J(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return J(this.maxValue)&&J(this.minValue)&&$n(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?TS(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?kS(e):e}setValueAtTime(e,n){const s=this.toSeconds(n),r=this._fromType(e);return U(isFinite(r)&&isFinite(s),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,s),this._events.add({time:s,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,s),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),s=this._events.getAfter(n),r=this._events.get(n);let i=this._initialValue;if(r===null)i=this._initialValue;else if(r.type==="setTargetAtTime"&&(s===null||s.type==="setValueAtTime")){const o=this._events.getBefore(r.time);let a;o===null?a=this._initialValue:a=o.value,r.type==="setTargetAtTime"&&(i=this._exponentialApproach(r.time,a,r.value,r.constant,n))}else if(s===null)i=r.value;else if(s.type==="linearRampToValueAtTime"||s.type==="exponentialRampToValueAtTime"){let o=r.value;if(r.type==="setTargetAtTime"){const a=this._events.getBefore(r.time);a===null?o=this._initialValue:o=a.value}s.type==="linearRampToValueAtTime"?i=this._linearInterpolate(r.time,o,s.time,s.value,n):i=this._exponentialInterpolate(r.time,o,s.time,s.value,n)}else i=r.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const s=this._fromType(e),r=this.toSeconds(n);return U(isFinite(s)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this._events.add({time:r,type:"linearRampToValueAtTime",value:s}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(s,r),this}exponentialRampToValueAtTime(e,n){let s=this._fromType(e);s=Rt(s,0)?this._minOutput:s,this._assertRange(s);const r=this.toSeconds(n);return U(isFinite(s)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:s}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(s,r),this}exponentialRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialRampToValueAtTime(e,s+this.toSeconds(n)),this}linearRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.linearRampToValueAtTime(e,s+this.toSeconds(n)),this}targetRampTo(e,n,s){return s=this.toSeconds(s),this.setRampPoint(s),this.exponentialApproachValueAtTime(e,s,n),this}exponentialApproachValueAtTime(e,n,s){n=this.toSeconds(n),s=this.toSeconds(s);const r=Math.log(s+1)/Math.log(200);return this.setTargetAtTime(e,n,r),this.cancelAndHoldAtTime(n+s*.9),this.linearRampToValueAtTime(e,n+s),this}setTargetAtTime(e,n,s){const r=this._fromType(e);U(isFinite(s)&&s>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(n);return this._assertRange(r),U(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:s,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,i,s),this._param.setTargetAtTime(r,i,s),this}setValueCurveAtTime(e,n,s,r=1){s=this.toSeconds(s),n=this.toSeconds(n);const i=this._fromType(e[0])*r;this.setValueAtTime(this._toType(i),n);const o=s/(e.length-1);for(let a=1;a<e.length;a++){const l=this._fromType(e[a])*r;this.linearRampToValueAtTime(this._toType(l),n+a*o)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return U(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),s=this._fromType(this.getValueAtTime(n));U(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+s);const r=this._events.get(n),i=this._events.getAfter(n);return r&&Rt(r.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(s),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(s),n)),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}rampTo(e,n=.1,s){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,s):this.linearRampTo(e,n,s),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const s=this._events.get(n);if(s&&s.type==="setTargetAtTime"){const r=this._events.getAfter(s.time),i=r?r.time:n+2,o=(i-n)/10;for(let a=n;a<i;a+=o)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,r=>{r.type==="cancelScheduledValues"?e.cancelScheduledValues(r.time):r.type==="setTargetAtTime"?e.setTargetAtTime(r.value,r.time,r.constant):e[r.type](r.value,r.time)}),this}setParam(e){U(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,s,r,i){return s+(n-s)*Math.exp(-(i-e)/r)}_linearInterpolate(e,n,s,r,i){return n+(r-n)*((i-e)/(s-e))}_exponentialInterpolate(e,n,s,r,i){return n*Math.pow(r/n,(i-e)/(s-e))}}class q extends lt{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return J(this.input)?xs(this.input)||this.input instanceof X?1:this.input.numberOfInputs:0}get numberOfOutputs(){return J(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return J(e)&&(e instanceof q||qn(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(s=>{s.channelCount=e.channelCount,s.channelCountMode=e.channelCountMode,s.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();U(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,s=0){return jt(this,e,n,s),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Ga("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,s=0){return lg(this,e,n,s),this}chain(...e){return mn(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),J(this.input)&&(this.input instanceof q?this.input.dispose():qn(this.input)&&this.input.disconnect()),J(this.output)&&(this.output instanceof q?this.output.dispose():qn(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function mn(...t){const e=t.shift();t.reduce((n,s)=>(n instanceof q?n.connect(s):qn(n)&&jt(n,s),s),e)}function jt(t,e,n=0,s=0){for(U(J(t),"Cannot connect from undefined node"),U(J(e),"Cannot connect to undefined node"),(e instanceof q||qn(e))&&U(e.numberOfInputs>0,"Cannot connect to node with no inputs"),U(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof q||e instanceof X;)J(e.input)&&(e=e.input);for(;t instanceof q;)J(t.output)&&(t=t.output);xs(e)?t.connect(e,n):t.connect(e,n,s)}function lg(t,e,n=0,s=0){if(J(e))for(;e instanceof q;)e=e.input;for(;!qn(t);)J(t.output)&&(t=t.output);xs(e)?t.disconnect(e,n):qn(e)?t.disconnect(e,n,s):t.disconnect()}class Z extends q{constructor(){super(N(Z.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=N(Z.getDefaults(),arguments,["gain","units"]);this.gain=new X({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),ee(this,"gain")}static getDefaults(){return Object.assign(q.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ur extends q{constructor(e){super(e),this.onended=re,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Z({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const s=this.toSeconds(n);return this._startTime!==-1&&s>=this._startTime&&(this._stopTime===-1||s<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(q.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:re})}_startGain(e,n=1){U(this._startTime===-1,"Source cannot be started more than once");const s=this.toSeconds(this._fadeIn);return this._startTime=e+s,this._startTime=Math.max(this._startTime,this.context.currentTime),s>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+s):this._gainNode.gain.exponentialApproachValueAtTime(n,e,s)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){U(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const s=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+s),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==re&&(this.onended(this),this.onended=re,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),U(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=re,this}}class ta extends ur{constructor(){super(N(ta.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=N(ta.getDefaults(),arguments,["offset"]);jt(this._source,this._gainNode),this.offset=new X({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(ur.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class ie extends q{constructor(){super(N(ie.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=N(ie.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new ta({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(q.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,s=0){return Za(this,e,n,s),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,s){return this._param.exponentialRampTo(e,n,s),this}linearRampTo(e,n,s){return this._param.linearRampTo(e,n,s),this}targetRampTo(e,n,s){return this._param.targetRampTo(e,n,s),this}exponentialApproachValueAtTime(e,n,s){return this._param.exponentialApproachValueAtTime(e,n,s),this}setTargetAtTime(e,n,s){return this._param.setTargetAtTime(e,n,s),this}setValueCurveAtTime(e,n,s,r){return this._param.setValueCurveAtTime(e,n,s,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,s){return this._param.rampTo(e,n,s),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Za(t,e,n,s){(e instanceof X||xs(e)||e instanceof ie&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof ie&&(e.overridden=!0)),jt(t,e,n,s)}class na extends X{constructor(){super(N(na.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Nt(1/0),this._multiplier=1;const e=N(na.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(X.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,s){n=this.toSeconds(n),this.setRampPoint(n);const r=this._fromType(e),i=this._events.get(n),o=Math.round(Math.max(1/s,1));for(let a=0;a<=o;a++){const l=s*a+n,u=this._exponentialApproach(i.time,i.value,r,s,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}setValueAtTime(e,n){const s=this.toSeconds(n);super.setValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}linearRampToValueAtTime(e,n){const s=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const r=this._events.get(s),i=this._events.previousEvent(r),o=this._getTicksUntilEvent(i,s);return r.ticks=Math.max(o,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const s=this._fromType(e),r=this._events.get(n),i=Math.round(Math.max((n-r.time)*10,1)),o=(n-r.time)/i;for(let a=0;a<=i;a++){const l=o*a+r.time,u=this._exponentialInterpolate(r.time,r.value,n,s,l);this.linearRampToValueAtTime(this._toType(u),l)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Ct(e.ticks)){const o=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(o,e.time)}const s=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(n));const i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(r=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(s+r)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),s=this._events.get(n);return Math.max(this._getTicksUntilEvent(s,n),0)}getDurationOfTicks(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(n);return this.getTimeOfTick(r+e)-s}getTimeOfTick(e){const n=this._events.get(e,"ticks"),s=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&s&&s.type==="linearRampToValueAtTime"&&n.value!==s.value){const r=this._fromType(this.getValueAtTime(n.time)),o=(this._fromType(this.getValueAtTime(s.time))-r)/(s.time-n.time),a=Math.sqrt(Math.pow(r,2)-2*o*(n.ticks-e)),l=(-r+a)/o,u=(-r-a)/o;return(l>0?l:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const s=this.toSeconds(n),r=this.toSeconds(e),i=this.getTicksAtTime(s);return this.getTicksAtTime(s+r)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class sa extends ie{constructor(){super(N(sa.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=N(sa.getDefaults(),arguments,["value"]);this.input=this._param=new na({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(ie.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class ra extends lt{constructor(){super(N(ra.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Jc,this._tickOffset=new Nt,this._ticksAtTime=new Nt,this._secondsAtTime=new Nt;const e=N(ra.getDefaults(),arguments,["frequency"]);this.frequency=new sa({context:this.context,units:e.units,value:e.frequency}),ee(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},lt.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const s=this.toSeconds(e);return this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),J(n)&&this.setTicksAtTime(n,s),this._ticksAtTime.cancel(s),this._secondsAtTime.cancel(s)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const s=this._state.get(n);s&&s.time>0&&(this._tickOffset.cancel(s.time),this._state.cancel(s.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),s=this._state.getLastState("stopped",n),r=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let o=r||s,a=r?r.ticks:0,l=null;return this._state.forEachBetween(o.time,n+this.sampleTime,u=>{let c=o.time;const h=this._tickOffset.get(u.time);h&&h.time>=o.time&&(a=h.ticks,c=h.time),o.state==="started"&&u.state!=="started"&&(a+=this.frequency.getTicksAtTime(u.time)-this.frequency.getTicksAtTime(c),u.time!==i.time&&(l={state:u.state,time:u.time,ticks:a})),o=u}),this._state.remove(i),l&&this._ticksAtTime.add(l),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),s=this.frequency.timeToTicks(e,n);this.setTicksAtTime(s,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);const r=this._secondsAtTime.get(e);let i=r||n,o=r?r.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,l=>{let u=i.time;const c=this._tickOffset.get(l.time);c&&c.time>=i.time&&(o=c.seconds,u=c.time),i.state==="started"&&l.state!=="started"&&(o+=l.time-u,l.time!==s.time&&(a={state:l.state,time:l.time,seconds:o})),i=l}),this._state.remove(s),a&&this._secondsAtTime.add(a),o}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const s=this._tickOffset.get(n),r=this._state.get(n),i=Math.max(s.time,r.time),o=this.frequency.getTicksAtTime(i)+e-s.ticks;return this.frequency.getTimeOfTick(o)}forEachTickBetween(e,n,s){let r=this._state.get(e);this._state.forEachBetween(e,n,o=>{r&&r.state==="started"&&o.state!=="started"&&this.forEachTickBetween(Math.max(r.time,e),o.time-this.sampleTime,s),r=o});let i=null;if(r&&r.state==="started"){const o=Math.max(r.time,e),a=this.frequency.getTicksAtTime(o),l=this.frequency.getTicksAtTime(r.time),u=a-l;let c=Math.ceil(u)-u;c=Rt(c,1)?0:c;let h=this.frequency.getTimeOfTick(a+c);for(;h<n;){try{s(h,Math.round(this.getTicksAtTime(h)))}catch(d){i=d;break}h+=this.frequency.getDurationOfTicks(1,h)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class ui extends lt{constructor(){super(N(ui.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=re,this._lastUpdate=0,this._state=new Jc("stopped"),this._boundLoop=this._loop.bind(this);const e=N(ui.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new ra({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,ee(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(lt.getDefaults(),{callback:re,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Km(this.context);const s=this.toSeconds(e);return this.log("start",s),this._state.getValueAtTime(s)!=="started"&&(this._state.setStateAtTime("started",s),this._tickSource.start(s,n),s<this._lastUpdate&&this.emit("start",s,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const s=this.toSeconds(n),r=this.getTicksAtTime(s);return this._tickSource.getTimeOfTick(r+e,s)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,s=>{switch(s.state){case"started":const r=this._tickSource.getTicksAtTime(s.time);this.emit("start",s.time,r);break;case"stopped":s.time!==0&&this.emit("stop",s.time);break;case"paused":this.emit("pause",s.time);break}}),this._tickSource.forEachTickBetween(e,n,(s,r)=>{this.callback(s,r)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}bi.mixin(ui);let OS=class Du extends q{constructor(){super(N(Du.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const e=N(Du.getDefaults(),arguments,["delayTime","maxDelay"]),n=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(n,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(n),this.delayTime=new X({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),ee(this,"delayTime")}static getDefaults(){return Object.assign(q.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}};class eh extends wn{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=N(eh.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const s=e.urls[n];this.add(n,s,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:re,onload:re,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return U(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,s=re,r=re){return pn(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new he(this.baseUrl+n,s,r))):this._buffers.set(e.toString(),new he(n,s,r)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class ia extends dt{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return cs(super._frequencyToUnits(e))}_ticksToUnits(e){return cs(super._ticksToUnits(e))}_beatsToUnits(e){return cs(super._beatsToUnits(e))}_secondsToUnits(e){return cs(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return ag(this.toMidi())}transpose(e){return new ia(this.context,this.toMidi()+e)}}class $s extends qr{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class DS extends lt{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Nt,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Qa(t=>{t.draw=new DS({context:t})});Xa(t=>{t.draw.dispose()});class MS extends wn{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){U(J(e.time),"Events must have a time property"),U(J(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new IS(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const s of n)if(s.event===e){this._removeNode(s),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let s,r=null;if(n>0)if(e.left.right===null)s=e.left,s.right=e.right,r=s;else{for(s=e.left.right;s.right!==null;)s=s.right;s.parent&&(s.parent.right=s.left,r=s.parent,s.left=e.left,s.right=e.right)}else if(e.right.left===null)s=e.right,s.left=e.left,r=s;else{for(s=e.right.left;s.left!==null;)s=s.left;s.parent&&(s.parent.left=s.right,r=s.parent,s.left=e.left,s.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=s:e.parent.right=s:this._setRoot(s),r&&this._rebalance(r)}e.dispose()}_rotateLeft(e){const n=e.parent,s=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rotateRight(e){const n=e.parent,s=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),n!==null?s?n.left=r:n.right=r:this._setRoot(r)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let s=n[0];for(let r=1;r<n.length;r++)n[r].low>s.low&&(s=n[r]);return s.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(s=>n.push(s)),n.forEach(s=>{s.event&&e(s.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const s=[];this._root.search(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}forEachFrom(e,n){if(this._root!==null){const s=[];this._root.searchAfter(e,s),s.forEach(r=>{r.event&&n(r.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class IS{constructor(e,n,s){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=s,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Ss extends q{constructor(){super(N(Ss.getDefaults(),arguments,["volume"])),this.name="Volume";const e=N(Ss.getDefaults(),arguments,["volume"]);this.input=this.output=new Z({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,ee(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(q.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class oa extends q{constructor(){super(N(oa.getDefaults(),arguments)),this.name="Destination",this.input=new Ss({context:this.context}),this.output=new Z({context:this.context}),this.volume=this.input.volume;const e=N(oa.getDefaults(),arguments);mn(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(q.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),mn(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Qa(t=>{t.destination=new oa({context:t})});Xa(t=>{t.destination.dispose()});class RS extends wn{constructor(e){super(),this.name="TimelineValue",this._timeline=new Nt({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class Yt extends q{constructor(){super(Object.assign(N(Yt.getDefaults(),arguments,["context"])))}connect(e,n=0,s=0){return Za(this,e,n,s),this}}class Hn extends Yt{constructor(){super(Object.assign(N(Hn.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=N(Hn.getDefaults(),arguments,["mapping","length"]);pt(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):rS(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(ie.getDefaults(),{length:1024})}setMap(e,n=1024){const s=new Float32Array(n);for(let r=0,i=n;r<i;r++){const o=r/(i-1)*2-1;s[r]=e(o,r)}return this.curve=s,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(s=>s.includes(e));U(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class aa extends Yt{constructor(){super(Object.assign(N(aa.getDefaults(),arguments,["value"]))),this.name="Pow";const e=N(aa.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new Hn({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Yt.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Gn{constructor(e,n){this.id=Gn._eventId++,this._remainderTime=0;const s=Object.assign(Gn.getDefaults(),n);this.transport=e,this.callback=s.callback,this._once=s.once,this.time=Math.floor(s.time),this._remainderTime=s.time-this.time}static getDefaults(){return{callback:re,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Gn._eventId=0;class th extends Gn{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const s=Object.assign(th.getDefaults(),n);this.duration=s.duration,this._interval=s.interval,this._nextTick=s.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Gn.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return ea(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new $s(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){ea(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new $s(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);lr(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class ci extends lt{constructor(){super(N(ci.getDefaults(),arguments)),this.name="Transport",this._loop=new RS(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Nt,this._repeatedEvents=new MS,this._syncedSignals=[],this._swingAmount=0;const e=N(ci.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new ui({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),ee(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(lt.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const s=n%(this._swingTicks*2)/(this._swingTicks*2),r=Math.sin(s*Math.PI)*this._swingAmount;e+=new $s(this.context,this._swingTicks*2/3).toSeconds()*r}Pd(!0),this._timeline.forEachAtTime(n,s=>s.invoke(e)),Pd(!1)}schedule(e,n){const s=new Gn(this,{callback:e,time:new qr(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}scheduleRepeat(e,n,s,r=1/0){const i=new th(this,{callback:e,duration:new Pt(this.context,r).toTicks(),interval:new Pt(this.context,n).toTicks(),time:new qr(this.context,s).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){const s=new Gn(this,{callback:e,once:!0,time:new qr(this.context,n).toTicks()});return this._addEvent(s,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,s=>this.clear(s.id)),this._repeatedEvents.forEachFrom(n,s=>this.clear(s.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new $s(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let s;return J(n)&&(s=this.toTicks(n)),this._clock.start(e,s),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){pt(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Pt(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Pt(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new $s(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new $s(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),s=this._clock.frequency.timeToTicks(e,n);this.ticks=s}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const s=this._clock.getTicksAtTime(n),r=this._clock.frequency.getDurationOfTicks(Math.ceil(s)-s,n),i=n+r;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),s=this.getTicksAtTime(n),r=e-s%e;return this._clock.nextTickTime(r,n)}}syncSignal(e,n){const s=this.now();let r=this.bpm,i=1/(60/r.getValueAtTime(s)/this.PPQ),o=[];if(e.units==="time"){const l=.015625/i,u=new Z(l),c=new aa(-1),h=new Z(l);r.chain(u,c,h),r=h,i=1/i,o=[u,c,h]}n||(e.getValueAtTime(s)!==0?n=e.getValueAtTime(s)/i:n=0);const a=new Z(n);return r.connect(a),a.connect(e._param),o.push(a),this._syncedSignals.push({initial:e.value,nodes:o,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const s=this._syncedSignals[n];s.signal===e&&(s.nodes.forEach(r=>r.dispose()),s.signal.value=s.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Yc(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}bi.mixin(ci);Qa(t=>{t.transport=new ci({context:t})});Xa(t=>{t.transport.dispose()});class gt extends q{constructor(e){super(e),this.input=void 0,this._state=new Jc("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=re,this._syncedStop=re,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ss({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,ee(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(q.getDefaults(),{mute:!1,onstop:re,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,s){let r=Ct(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),!this._synced&&this._state.getValueAtTime(r)==="started")U(lr(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,n,s);else if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const i=this._state.get(r);i&&(i.offset=this.toSeconds(Ks(n,0)),i.duration=s?this.toSeconds(s):void 0);const o=this.context.transport.schedule(a=>{this._start(a,n,s)},r);this._scheduled.push(o),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else Km(this.context),this._start(r,n,s);return this}stop(e){let n=Ct(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||J(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const s=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(s)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,s){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,s)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(lr(n,0)){const s=this._state.get(n);if(s&&s.state==="started"&&s.time!==n){const r=n-this.toSeconds(s.time);let i;s.duration&&(i=this.toSeconds(s.duration)-r),this._start(e,this.toSeconds(s.offset)+r,i)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=re,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class hi extends ur{constructor(){super(N(hi.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=N(hi.getDefaults(),arguments,["url","onload"]);jt(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new X({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new he(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ur.getDefaults(),{url:new he,loop:!1,loopEnd:0,loopStart:0,onload:re,onerror:re,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,s,r=1){U(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,r),this.loop?n=Ks(n,this.loopStart):n=Ks(n,0);let o=Math.max(this.toSeconds(n),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,l=this.toSeconds(this.loopStart),u=a-l;Ou(o,a)&&(o=(o-l)%u+l),Rt(o,this.buffer.duration)&&(o=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,ea(o,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,o)),J(s)){let a=this.toSeconds(s);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Es(t,e){return ke(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,s=new Zc(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)})}class la extends ur{constructor(){super(N(la.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=N(la.getDefaults(),arguments,["frequency","type"]);jt(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new X({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new X({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),ee(this,["frequency","detune"])}static getDefaults(){return Object.assign(ur.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}let We=class Cn extends gt{constructor(){super(N(Cn.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=N(Cn.getDefaults(),arguments,["frequency","type"]);this.frequency=new ie({context:this.context,units:"frequency",value:e.frequency}),ee(this,"frequency"),this.detune=new ie({context:this.context,units:"cents",value:e.detune}),ee(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(gt.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),s=new la({context:this.context,onended:()=>this.onstop(this)});this._oscillator=s,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Cn._periodicWaveCache.find(n=>n.phase===this._phase&&mS(n.partials,this._partials));{const e=Cn._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const s=this._getCachedPeriodicWave();if(J(s)){const{partials:r,wave:i}=s;this._wave=i,this._partials=r,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[r,i]=this._getRealImaginary(e,this._phase),o=this.context.createPeriodicWave(r,i);this._wave=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Cn._periodicWaveCache.push({imag:i,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:r,type:this._type,wave:this._wave}),Cn._periodicWaveCache.length>100&&Cn._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){$n(e,0);let n=this._type;const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(s&&(n=s[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const r=new Float32Array(e);this._partials.forEach((i,o)=>r[o]=i),this._partials=Array.from(r),this.type=this._type}}_getRealImaginary(e,n){let r=2048;const i=new Float32Array(r),o=new Float32Array(r);let a=1;if(e==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,r=a,this._partials.length===0)return[i,o]}else{const l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);l?(a=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),e=l[1],a=Math.max(a,2),r=a):this._partialCount=0,this._partials=[]}for(let l=1;l<r;++l){const u=2/(l*Math.PI);let c;switch(e){case"sine":c=l<=a?1:0,this._partials[l-1]=c;break;case"square":c=l&1?2*u:0,this._partials[l-1]=c;break;case"sawtooth":c=u*(l&1?1:-1),this._partials[l-1]=c;break;case"triangle":l&1?c=2*(u*u)*(l-1>>1&1?-1:1):c=0,this._partials[l-1]=c;break;case"custom":c=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}c!==0?(i[l]=-c*Math.sin(n*l),o[l]=c*Math.cos(n*l)):(i[l]=0,o[l]=0)}return[i,o]}_inverseFFT(e,n,s){let r=0;const i=e.length;for(let o=0;o<i;o++)r+=e[o]*Math.cos(o*s)+n[o]*Math.sin(o*s);return r}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let s=0;const r=Math.PI*2,i=32;for(let o=0;o<i;o++)s=Math.max(this._inverseFFT(e,n,o/i*r),s);return _S(-this._inverseFFT(e,n,this._phase)/s,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return ke(this,void 0,void 0,function*(){return Es(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}};We._periodicWaveCache=[];class ug extends Yt{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Hn({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Qn extends ie{constructor(){super(Object.assign(N(Qn.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=N(Qn.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Z({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ie.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class di extends gt{constructor(){super(N(di.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new ug({context:this.context}),this._modulationNode=new Z({context:this.context});const e=N(di.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new We({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new We({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Qn({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),ee(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(We.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return ke(this,void 0,void 0,function*(){return Es(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class fi extends gt{constructor(){super(N(fi.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Z({context:this.context,gain:0});const e=N(fi.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new We({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new ie({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new We({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Qn({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Qn({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),ee(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(We.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return ke(this,void 0,void 0,function*(){return Es(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class cr extends gt{constructor(){super(N(cr.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Z({context:this.context,gain:0}),this._thresh=new Hn({context:this.context,mapping:n=>n<=0?-1:1});const e=N(cr.getDefaults(),arguments,["frequency","width"]);this.width=new ie({context:this.context,units:"audioRange",value:e.width}),this._triangle=new We({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),ee(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(gt.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return ke(this,void 0,void 0,function*(){return Es(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class pi extends gt{constructor(){super(N(pi.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=N(pi.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new ie({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ie({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,ee(this,["frequency","detune"])}static getDefaults(){return Object.assign(We.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,s=e/(this._oscillators.length-1);this._forEach((r,i)=>r.detune.value=n+s*i)}}get count(){return this._oscillators.length}set count(e){if($n(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const s=new We({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):re});this.type==="custom"&&(s.partials=this._partials),this.frequency.connect(s.frequency),this.detune.connect(s.detune),s.detune.overridden=!1,s.connect(this.output),this._oscillators[n]=s}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,s)=>n.phase=this._phase+s/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(e=1024){return ke(this,void 0,void 0,function*(){return Es(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class mi extends gt{constructor(){super(N(mi.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Qn({context:this.context,value:2});const e=N(mi.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new cr({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new We({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),ee(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(gt.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return ke(this,void 0,void 0,function*(){return Es(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const bd={am:di,fat:pi,fm:fi,oscillator:We,pulse:cr,pwm:mi};class gi extends gt{constructor(){super(N(gi.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=N(gi.getDefaults(),arguments,["frequency","type"]);this.frequency=new ie({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ie({context:this.context,units:"cents",value:e.detune}),ee(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(We.getDefaults(),fi.getDefaults(),di.getDefaults(),pi.getDefaults(),cr.getDefaults(),mi.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=bd[e],s=this.now();if(this._oscillator){const r=this._oscillator;r.stop(s),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(s)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof bd[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&fn(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&fn(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&pn(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(e=1024){return ke(this,void 0,void 0,function*(){return Es(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class nh extends ie{constructor(){super(Object.assign(N(nh.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new Z({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,mn(this._constantSource,this._sum)}static getDefaults(){return Object.assign(ie.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class ua extends Yt{constructor(){super(Object.assign(N(ua.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=N(ua.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Qn({context:this.context,value:e.max-e.min}),this._add=this.output=new nh({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Yt.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class sh extends Yt{constructor(){super(Object.assign(N(sh.getDefaults(),arguments))),this.name="Zero",this._gain=new Z({context:this.context}),this.output=this._gain,this.input=void 0,jt(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),lg(this.context.getConstant(0),this._gain),this}}class ca extends q{constructor(){super(N(ca.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=X.prototype._fromType,this._toType=X.prototype._toType,this._is=X.prototype._is,this._clampValue=X.prototype._clampValue;const e=N(ca.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new We(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Z({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new ie({context:this.context,units:"audioRange",value:0}),this._zeros=new sh({context:this.context}),this._a2g=new ug({context:this.context}),this._scaler=this.output=new ua({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),ee(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(We.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const n=this.min,s=this.max;this._units=e,this.min=n,this.max=s}get state(){return this._oscillator.state}connect(e,n,s){return(e instanceof X||e instanceof ie)&&(this.convert=e.convert,this.units=e.units),Za(this,e,n,s),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function cg(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){$n(i,t,e),n.set(this,i)}})}}function xn(t,e=1/0){const n=new WeakMap;return function(s,r){Reflect.defineProperty(s,r,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){$n(this.toSeconds(i),t,e),n.set(this,i)}})}}class _i extends gt{constructor(){super(N(_i.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=N(_i.getDefaults(),arguments,["url","onload"]);this._buffer=new he({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(gt.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:re,onerror:re,playbackRate:1,reverse:!1})}load(e){return ke(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=re){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,s){return super.start(e,n,s),this}_start(e,n,s){this._loop?n=Ks(n,this._loopStart):n=Ks(n,0);const r=this.toSeconds(n),i=s;s=Ks(s,Math.max(this._buffer.duration-r,0));let o=this.toSeconds(s);o=o/this._playbackRate,e=this.toSeconds(e);const a=new hi({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+o),this._state.setStateAtTime("stopped",e+o,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&Ct(i)?a.start(e,r):a.start(e,r,o-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(s=>s.stop(n))}restart(e,n,s){return super.restart(e,n,s),this}_restart(e,n,s){var r;(r=[...this._activeSources].pop())===null||r===void 0||r.stop(e),this._start(e,n,s)}seek(e,n){const s=this.toSeconds(n);if(this._state.getValueAtTime(s)==="started"){const r=this.toSeconds(e);this._stop(s),this._start(s,r)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&$n(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&$n(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),s=this._state.getNextState("stopped",n);s&&s.implicitEnd&&(this._state.cancel(s.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}qt([xn(0)],_i.prototype,"fadeIn",void 0);qt([xn(0)],_i.prototype,"fadeOut",void 0);class PS extends Yt{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Hn({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class gn extends q{constructor(){super(N(gn.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new ie({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=N(gn.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(q.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(pn(e))return e;{let s;for(s in ro)if(ro[s][n]===e)return s;return e}}_setCurve(e,n,s){if(pn(s)&&Reflect.has(ro,s)){const r=ro[s];fs(r)?e!=="_decayCurve"&&(this[e]=r[n]):this[e]=r}else if(pt(s)&&e!=="_decayCurve")this[e]=s;else throw new Error("Envelope: invalid curve: "+s)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let r=this.toSeconds(this.attack);const i=this.toSeconds(this.decay),o=this.getValueAtTime(e);if(o>0){const a=1/r;r=(1-o)/a}if(r<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,r,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,r,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let l=1;l<a.length;l++)if(a[l-1]<=o&&o<=a[l]){a=this._attackCurve.slice(l),a[0]=o;break}this._sig.setValueCurveAtTime(a,e,r,n)}if(i&&this.sustain<1){const a=n*this.sustain,l=e+r;this.log("decay",l),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+l):this._sig.exponentialApproachValueAtTime(a,l,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const s=this.toSeconds(this.release);s<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,s,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,s,e):(U(pt(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,s,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,s=1){return n=this.toSeconds(n),this.triggerAttack(n,s),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,s=0){return Za(this,e,n,s),this}asArray(e=1024){return ke(this,void 0,void 0,function*(){const n=e/this.context.sampleRate,s=new Zc(1,n,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=r+this.toSeconds(this.release),o=i*.1,a=i+o,l=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:s}));return l._sig.toDestination(),l.triggerAttackRelease(n*(r+o)/a,0),(yield s.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}qt([xn(0)],gn.prototype,"attack",void 0);qt([xn(0)],gn.prototype,"decay",void 0);qt([cg(0,1)],gn.prototype,"sustain",void 0);qt([xn(0)],gn.prototype,"release",void 0);const ro=(()=>{let e,n;const s=[];for(e=0;e<128;e++)s[e]=Math.sin(e/127*(Math.PI/2));const r=[],i=6.4;for(e=0;e<127;e++){n=e/127;const d=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;r[e]=d/10+n*.83}r[127]=1;const o=[],a=5;for(e=0;e<128;e++)o[e]=Math.ceil(e/127*a)/a;const l=[];for(e=0;e<128;e++)n=e/127,l[e]=.5*(1-Math.cos(Math.PI*n));const u=[];for(e=0;e<128;e++){n=e/127;const d=Math.pow(n,3)*4+.2,p=Math.cos(d*Math.PI*2*n);u[e]=Math.abs(p*(1-n))}function c(d){const p=new Array(d.length);for(let m=0;m<d.length;m++)p[m]=1-d[m];return p}function h(d){return d.slice(0).reverse()}return{bounce:{In:c(u),Out:u},cosine:{In:s,Out:h(s)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:c(r)},sine:{In:l,Out:c(l)},step:{In:o,Out:c(o)}}})();class _n extends q{constructor(){super(N(_n.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n);const e=N(_n.getDefaults(),arguments);this._volume=this.output=new Ss({context:this.context,volume:e.volume}),this.volume=this._volume.volume,ee(this,"volume")}static getDefaults(){return Object.assign(q.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const s=this["_original_"+e]=this[e];this[e]=(...r)=>{const i=r[n],o=this.context.transport.schedule(a=>{r[n]=a,s.apply(this,r)},i);this._scheduledEvents.push(o)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,s,r){const i=this.toSeconds(s),o=this.toSeconds(n);return this.triggerAttack(e,i,r),this.triggerRelease(i+o),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Xn extends _n{constructor(){super(N(Xn.getDefaults(),arguments));const e=N(Xn.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(_n.getDefaults(),{detune:0,onsilence:re,portamento:0})}triggerAttack(e,n,s=1){this.log("triggerAttack",e,n,s);const r=this.toSeconds(n);return this._triggerEnvelopeAttack(r,s),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const s=this.toSeconds(n),r=e instanceof dt?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(s)>.05){const i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,i,s)}else this.frequency.setValueAtTime(r,s);return this}}qt([xn(0)],Xn.prototype,"portamento",void 0);class rh extends gn{constructor(){super(N(rh.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Z({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class hr extends Xn{constructor(){super(N(hr.getDefaults(),arguments)),this.name="Synth";const e=N(hr.getDefaults(),arguments);this.oscillator=new gi(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new rh(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),ee(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Xn.getDefaults(),{envelope:Object.assign(Au(gn.getDefaults(),Object.keys(q.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Au(gi.getDefaults(),[...Object.keys(gt.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const s=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+s+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class vi extends q{constructor(){super(N(vi.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const e=N(vi.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new X({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new X({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new X({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new X({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(q.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){U(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let o=0;o<e;o++){const l=Math.pow(o/e,2)*19980+20;n[o]=l}const s=new Float32Array(e),r=new Float32Array(e),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(n,s,r),s}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class ha extends q{constructor(){super(N(ha.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new Z({context:this.context}),this.output=new Z({context:this.context}),this._filters=[];const e=N(ha.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new ie({context:this.context,units:"positive",value:e.Q}),this.frequency=new ie({context:this.context,units:"frequency",value:e.frequency}),this.detune=new ie({context:this.context,units:"cents",value:e.detune}),this.gain=new ie({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,ee(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(q.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){U(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(s=>s.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const n=fn(e)?e:parseInt(e,10),s=[-12,-24,-48,-96];let r=s.indexOf(n);U(r!==-1,`rolloff can only be ${s.join(", ")}`),r+=1,this._rolloff=n,this.input.disconnect(),this._filters.forEach(i=>i.disconnect()),this._filters=new Array(r);for(let i=0;i<r;i++){const o=new vi({context:this.context});o.type=this._type,this.frequency.connect(o.frequency),this.detune.connect(o.detune),this.Q.connect(o.Q),this.gain.connect(o.gain),this._filters[i]=o}this._internalChannels=this._filters,mn(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const n=new vi({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),s=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{n.getFrequencyResponse(e).forEach((i,o)=>s[o]*=i)}),n.dispose(),s}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),Yc(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class yi extends hr{constructor(){super(N(yi.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=N(yi.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,ee(this,["oscillator","envelope"])}static getDefaults(){return ps(Xn.getDefaults(),hr.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const s=this.toSeconds(n),r=this.toFrequency(e instanceof dt?e.toFrequency():e),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,s),this.oscillator.frequency.exponentialRampToValueAtTime(r,s+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}qt([cg(0)],yi.prototype,"octaves",void 0);qt([xn(0)],yi.prototype,"pitchDecay",void 0);const ih=new Set;function oh(t){ih.add(t)}function hg(t,e){const n=`registerProcessor("${t}", ${e})`;ih.add(n)}function bS(){return Array.from(ih).join(`
`)}class Mu extends q{constructor(e){super(e),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=re;const n=URL.createObjectURL(new Blob([bS()],{type:"text/javascript"})),s=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(n).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(s,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}const FS=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;oh(FS);const VS=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;oh(VS);const LS=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;oh(LS);const dg="feedback-comb-filter",jS=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;hg(dg,jS);class da extends Mu{constructor(){super(N(da.getDefaults(),arguments,["delayTime","resonance"])),this.name="FeedbackCombFilter";const e=N(da.getDefaults(),arguments,["delayTime","resonance"]);this.input=new Z({context:this.context}),this.output=new Z({context:this.context}),this.delayTime=new X({context:this.context,value:e.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new X({context:this.context,value:e.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),ee(this,["resonance","delayTime"])}_audioWorkletName(){return dg}static getDefaults(){return Object.assign(q.getDefaults(),{delayTime:.1,resonance:.5})}onReady(e){mn(this.input,e,this.output);const n=e.parameters.get("delayTime");this.delayTime.setParam(n);const s=e.parameters.get("feedback");this.resonance.setParam(s)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class fa extends q{constructor(){super(N(fa.getDefaults(),arguments,["frequency","type"])),this.name="OnePoleFilter";const e=N(fa.getDefaults(),arguments,["frequency","type"]);this._frequency=e.frequency,this._type=e.type,this.input=new Z({context:this.context}),this.output=new Z({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(q.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const e=this._filter,n=this.toFrequency(this._frequency),s=1/(2*Math.PI*n);if(this._type==="lowpass"){const r=1/(s*this.context.sampleRate),i=r-1;this._filter=this.context.createIIRFilter([r,0],[1,i])}else{const r=1/(s*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,r])}this.input.chain(this._filter,this.output),e&&this.context.setTimeout(()=>{this.disposed||(this.input.disconnect(e),e.disconnect())},this.blockTime)}get frequency(){return this._frequency}set frequency(e){this._frequency=e,this._createFilter()}get type(){return this._type}set type(e){this._type=e,this._createFilter()}getFrequencyResponse(e=128){const n=new Float32Array(e);for(let i=0;i<e;i++){const a=Math.pow(i/e,2)*19980+20;n[i]=a}const s=new Float32Array(e),r=new Float32Array(e);return this._filter.getFrequencyResponse(n,s,r),s}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class pa extends q{constructor(){super(N(pa.getDefaults(),arguments,["delayTime","resonance","dampening"])),this.name="LowpassCombFilter";const e=N(pa.getDefaults(),arguments,["delayTime","resonance","dampening"]);this._combFilter=this.output=new da({context:this.context,delayTime:e.delayTime,resonance:e.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new fa({context:this.context,frequency:e.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(q.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(e){this._lowpass.frequency=e}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}let zS=class Iu extends _n{constructor(){super(N(Iu.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=r=>this.releaseAll(r);const e=N(Iu.getDefaults(),arguments,["voice","options"]);U(!fn(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const n=e.voice.getDefaults();this.options=Object.assign(n,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const s=this._voices.indexOf(this._dummyVoice);this._voices.splice(s,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(_n.getDefaults(),{maxPolyphony:32,options:{},voice:hr})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const n=this._activeVoices.findIndex(s=>s.voice===e);this._activeVoices.splice(n,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return U(e instanceof Xn,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else Ga("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),n=this._voices.indexOf(e);this._voices.splice(n,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,n,s){e.forEach(r=>{const i=new ia(this.context,r).toMidi(),o=this._getNextAvailableVoice();o&&(o.triggerAttack(r,n,s),this._activeVoices.push({midi:i,voice:o,released:!1}),this.log("triggerAttack",r,n))})}_triggerRelease(e,n){e.forEach(s=>{const r=new ia(this.context,s).toMidi(),i=this._activeVoices.find(({midi:o,released:a})=>o===r&&!a);i&&(i.voice.triggerRelease(n),i.released=!0,this.log("triggerRelease",s,n))})}_scheduleEvent(e,n,s,r){U(!this.disposed,"Synth was already disposed"),s<=this.now()?e==="attack"?this._triggerAttack(n,s,r):this._triggerRelease(n,s):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,n,s,r)},s-this.now())}triggerAttack(e,n,s){Array.isArray(e)||(e=[e]);const r=this.toSeconds(n);return this._scheduleEvent("attack",e,r,s),this}triggerRelease(e,n){Array.isArray(e)||(e=[e]);const s=this.toSeconds(n);return this._scheduleEvent("release",e,s),this}triggerAttackRelease(e,n,s,r){const i=this.toSeconds(s);if(this.triggerAttack(e,i,r),pt(n)){U(pt(e),"If the duration is an array, the notes must also be an array"),e=e;for(let o=0;o<e.length;o++){const a=n[Math.min(o,n.length-1)],l=this.toSeconds(a);U(l>0,"The duration must be greater than 0"),this.triggerRelease(e[o],i+l)}}else{const o=this.toSeconds(n);U(o>0,"The duration must be greater than 0"),this.triggerRelease(e,i+o)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const n=Au(e,["onsilence","context"]);return this.options=ps(this.options,n),this._voices.forEach(s=>s.set(n)),this._dummyVoice.set(n),this}get(){return this._dummyVoice.get()}releaseAll(e){const n=this.toSeconds(e);return this._activeVoices.forEach(({voice:s})=>{s.triggerRelease(n)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}};class wi extends _n{constructor(){super(N(wi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=N(wi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(e.urls).forEach(s=>{const r=parseInt(s,10);if(U(so(s)||fn(r)&&isFinite(r),`url key is neither a note or midi pitch: ${s}`),so(s)){const i=new dt(this.context,s).toMidi();n[i]=e.urls[s]}else fn(r)&&isFinite(r)&&(n[r]=e.urls[r])}),this._buffers=new eh({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(_n.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:re,onerror:re,release:.1,urls:{}})}_findClosest(e){let s=0;for(;s<96;){if(this._buffers.has(e+s))return-s;if(this._buffers.has(e-s))return s;s++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,s=1){return this.log("triggerAttack",e,n,s),Array.isArray(e)||(e=[e]),e.forEach(r=>{const i=og(new dt(this.context,r).toFrequency()),o=Math.round(i),a=i-o,l=this._findClosest(o),u=o-l,c=this._buffers.get(u),h=ig(l+a),d=new hi({url:c,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:h}).connect(this.output);d.start(n,0,c.duration/h,s),pt(this._activeSources.get(o))||this._activeSources.set(o,[]),this._activeSources.get(o).push(d),d.onended=()=>{if(this._activeSources&&this._activeSources.has(o)){const p=this._activeSources.get(o),m=p.indexOf(d);m!==-1&&p.splice(m,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(s=>{const r=new dt(this.context,s).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const i=this._activeSources.get(r);n=this.toSeconds(n),i.forEach(o=>{o.stop(n)}),this._activeSources.set(r,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(s=>{for(;s.length;)s.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,s,r=1){const i=this.toSeconds(s);return this.triggerAttack(e,i,r),pt(n)?(U(pt(e),"notes must be an array when duration is array"),e.forEach((o,a)=>{const l=n[Math.min(a,n.length-1)];this.triggerRelease(o,i+this.toSeconds(l))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,s){if(U(so(e)||isFinite(e),`note must be a pitch or midi: ${e}`),so(e)){const r=new dt(this.context,e).toMidi();this._buffers.add(r,n,s)}else this._buffers.add(e,n,s);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}qt([xn(0)],wi.prototype,"attack",void 0);qt([xn(0)],wi.prototype,"release",void 0);class xi extends q{constructor(){super(Object.assign(N(xi.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new PS({context:this.context}),this.a=new Z({context:this.context,gain:0}),this.b=new Z({context:this.context,gain:0}),this.output=new Z({context:this.context}),this._internalChannels=[this.a,this.b];const e=N(xi.getDefaults(),arguments,["fade"]);this.fade=new ie({context:this.context,units:"normalRange",value:e.fade}),ee(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",jt(this._split,this.a.gain,0),jt(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(q.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Yn extends q{constructor(e){super(e),this.name="Effect",this._dryWet=new xi({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Z({context:this.context}),this.effectReturn=new Z({context:this.context}),this.input=new Z({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],ee(this,"wet")}static getDefaults(){return Object.assign(q.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Fd extends Yn{constructor(e){super(e),this.name="LFOEffect",this._lfo=new ca({context:this.context,frequency:e.frequency,amplitude:e.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=e.type,ee(this,["frequency","depth"])}static getDefaults(){return Object.assign(Yn.getDefaults(),{frequency:1,type:"sine",depth:1})}start(e){return this._lfo.start(e),this}stop(e){return this._lfo.stop(e),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}let WS=class Ru extends Fd{constructor(){super(N(Ru.getDefaults(),arguments,["frequency","baseFrequency","octaves"])),this.name="AutoFilter";const e=N(Ru.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);this.filter=new ha(Object.assign(e.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=e.octaves,this.baseFrequency=e.baseFrequency}static getDefaults(){return Object.assign(Fd.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(e){this._lfo.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._lfo.max=this._lfo.min*Math.pow(2,e)}dispose(){return super.dispose(),this.filter.dispose(),this}};class ma extends q{constructor(){super(Object.assign(N(ma.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=N(ma.getDefaults(),arguments,["pan"]);this.pan=new X({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",ee(this,"pan")}static getDefaults(){return Object.assign(q.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const fg="bit-crusher",qS=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;hg(fg,qS);let BS=class Pu extends Yn{constructor(){super(N(Pu.getDefaults(),arguments,["bits"])),this.name="BitCrusher";const e=N(Pu.getDefaults(),arguments,["bits"]);this._bitCrusherWorklet=new ga({context:this.context,bits:e.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(Yn.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}};class ga extends Mu{constructor(){super(N(ga.getDefaults(),arguments)),this.name="BitCrusherWorklet";const e=N(ga.getDefaults(),arguments);this.input=new Z({context:this.context}),this.output=new Z({context:this.context}),this.bits=new X({context:this.context,value:e.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(Mu.getDefaults(),{bits:12})}_audioWorkletName(){return fg}onReady(e){mn(this.input,e,this.output);const n=e.parameters.get("bits");this.bits.setParam(n)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}let US=class bu extends Yn{constructor(){super(N(bu.getDefaults(),arguments,["order"])),this.name="Chebyshev";const e=N(bu.getDefaults(),arguments,["order"]);this._shaper=new Hn({context:this.context,length:4096}),this._order=e.order,this.connectEffect(this._shaper),this.order=e.order,this.oversample=e.oversample}static getDefaults(){return Object.assign(Yn.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(e,n,s){return s.has(n)||(n===0?s.set(n,0):n===1?s.set(n,e):s.set(n,2*e*this._getCoefficient(e,n-1,s)-this._getCoefficient(e,n-2,s))),s.get(n)}get order(){return this._order}set order(e){U(Number.isInteger(e),"'order' must be an integer"),this._order=e,this._shaper.setMap(n=>this._getCoefficient(n,e,new Map))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}};class _a extends q{constructor(){super(N(_a.getDefaults(),arguments,["channels"])),this.name="Split";const e=N(_a.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(q.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class va extends q{constructor(){super(N(va.getDefaults(),arguments,["channels"])),this.name="Merge";const e=N(va.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(q.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class Vd extends q{constructor(e){super(e),this.name="StereoEffect",this.input=new Z({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new xi({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new _a({context:this.context,channels:2}),this._merge=new va({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),ee(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),mn(...e),jt(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),mn(...e),jt(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(q.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class Ld extends Yn{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new Z({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,ee(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Yn.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class ya extends Ld{constructor(){super(N(ya.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";const e=N(ya.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new OS({context:this.context,delayTime:e.delayTime,maxDelay:e.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),ee(this,"delayTime")}static getDefaults(){return Object.assign(Ld.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}const jd=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],zd=[225,556,441,341];let $S=class Fu extends Vd{constructor(){super(N(Fu.getDefaults(),arguments,["roomSize","dampening"])),this.name="Freeverb",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];const e=N(Fu.getDefaults(),arguments,["roomSize","dampening"]);this.roomSize=new ie({context:this.context,value:e.roomSize,units:"normalRange"}),this._allpassFiltersL=zd.map(n=>{const s=this.context.createBiquadFilter();return s.type="allpass",s.frequency.value=n,s}),this._allpassFiltersR=zd.map(n=>{const s=this.context.createBiquadFilter();return s.type="allpass",s.frequency.value=n,s}),this._combFilters=jd.map((n,s)=>{const r=new pa({context:this.context,dampening:e.dampening,delayTime:n});return s<jd.length/2?this.connectEffectLeft(r,...this._allpassFiltersL):this.connectEffectRight(r,...this._allpassFiltersR),this.roomSize.connect(r.resonance),r}),ee(this,["roomSize"])}static getDefaults(){return Object.assign(Vd.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(e){this._combFilters.forEach(n=>n.dampening=e)}dispose(){return super.dispose(),this._allpassFiltersL.forEach(e=>e.disconnect()),this._allpassFiltersR.forEach(e=>e.disconnect()),this._combFilters.forEach(e=>e.dispose()),this.roomSize.dispose(),this}};class Ne extends q{constructor(){super(N(Ne.getDefaults(),arguments,["solo"])),this.name="Solo";const e=N(Ne.getDefaults(),arguments,["solo"]);this.input=this.output=new Z({context:this.context}),Ne._allSolos.has(this.context)||Ne._allSolos.set(this.context,new Set),Ne._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(q.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Ne._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ne._soloed.has(this.context)||Ne._soloed.set(this.context,new Set),Ne._soloed.get(this.context).add(this)}_removeSolo(){Ne._soloed.has(this.context)&&Ne._soloed.get(this.context).delete(this)}_isSoloed(){return Ne._soloed.has(this.context)&&Ne._soloed.get(this.context).has(this)}_noSolos(){return!Ne._soloed.has(this.context)||Ne._soloed.has(this.context)&&Ne._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ne._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ne._allSolos=new Map;Ne._soloed=new Map;class wa extends q{constructor(){super(N(wa.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=N(wa.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new ma({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ss({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,ee(this,["pan","volume"])}static getDefaults(){return Object.assign(q.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Ht extends q{constructor(){super(N(Ht.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=N(Ht.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Ne({solo:e.solo,context:this.context}),this._panVol=this.output=new wa({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),ee(this,["pan","volume"])}static getDefaults(){return Object.assign(q.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Ht.buses.has(e)||Ht.buses.set(e,new Z({context:this.context})),Ht.buses.get(e)}send(e,n=0){const s=this._getBus(e),r=new Z({context:this.context,units:"decibels",gain:n});return this.connect(r),r.connect(s),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Ht.buses=new Map;class HS extends q{constructor(){super(...arguments),this.name="Listener",this.positionX=new X({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new X({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new X({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new X({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new X({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new X({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new X({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new X({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new X({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(q.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Qa(t=>{t.listener=new HS({context:t})});Xa(t=>{t.listener.dispose()});let Wd=class wo extends q{constructor(){super(N(wo.getDefaults(),arguments)),this.name="Recorder";const e=N(wo.getDefaults(),arguments);this.input=new Z({context:this.context}),U(wo.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:e.mimeType})}static getDefaults(){return q.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return ln!==null&&Reflect.has(ln,"MediaRecorder")}get state(){return this._recorder.state==="inactive"?"stopped":this._recorder.state==="paused"?"paused":"started"}start(){return ke(this,void 0,void 0,function*(){U(this.state!=="started","Recorder is already started");const e=new Promise(n=>{const s=()=>{this._recorder.removeEventListener("start",s,!1),n()};this._recorder.addEventListener("start",s,!1)});return this._recorder.start(),yield e})}stop(){return ke(this,void 0,void 0,function*(){U(this.state!=="stopped","Recorder is not started");const e=new Promise(n=>{const s=r=>{this._recorder.removeEventListener("dataavailable",s,!1),n(r.data)};this._recorder.addEventListener("dataavailable",s,!1)});return this._recorder.stop(),yield e})}pause(){return U(this.state==="started","Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}};class xa extends q{constructor(){super(N(xa.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const e=N(xa.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new X({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:e.threshold}),this.attack=new X({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:e.attack}),this.release=new X({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:e.release}),this.knee=new X({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:e.knee}),this.ratio=new X({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:e.ratio}),ee(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(q.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}Tt().transport;Tt().destination;Tt().destination;function pg(){return Tt().destination}Tt().listener;Tt().draw;Tt();function mg(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=mg(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Vi(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=mg(t))&&(s&&(s+=" "),s+=e);return s}var gg={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},qd=Rn.createContext&&Rn.createContext(gg),GS=["attr","size","title"];function QS(t,e){if(t==null)return{};var n=XS(t,e),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)s=i[r],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function XS(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Sa.apply(this,arguments)}function Bd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,s)}return n}function Ta(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bd(Object(n),!0).forEach(function(s){YS(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bd(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function YS(t,e,n){return e=ZS(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZS(t){var e=KS(t,"string");return typeof e=="symbol"?e:e+""}function KS(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _g(t){return t&&t.map((e,n)=>Rn.createElement(e.tag,Ta({key:n},e.attr),_g(e.child)))}function vg(t){return e=>Rn.createElement(JS,Sa({attr:Ta({},t.attr)},e),_g(t.child))}function JS(t){var e=n=>{var{attr:s,size:r,title:i}=t,o=QS(t,GS),a=r||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Rn.createElement("svg",Sa({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:l,style:Ta(Ta({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Rn.createElement("title",null,i),t.children)};return qd!==void 0?Rn.createElement(qd.Consumer,null,n=>e(n)):e(gg)}function eT(t){return vg({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"},child:[]}]})(t)}function tT(t){return vg({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(t)}function Ka({children:t,expanded:e,toggleExpanded:n}){return A.jsxs("div",{className:"flex items-center align-items-center my-5",onClick:n,children:[e?A.jsx(eT,{}):A.jsx(tT,{}),t]})}function nT({children:t}){const[e,n]=V.useState(!1),s=()=>{n(r=>!r)};return A.jsxs(V.Fragment,{children:[A.jsx(Ka,{expanded:e,toggleExpanded:s,children:"Effects"}),A.jsx("div",{className:Vi("grid grid-cols-1 gap-x-2 gap-y-3 md:grid-cols-2 my-5 border-2 rounded border-pink-500 dark:border-sky-300 p-5",!e&&"hidden"),children:t})]})}function ve({handleChange:t,inputName:e,labelText:n,max:s,min:r,step:i,value:o}){const a=V.useId();return A.jsxs("div",{className:"flex space-x-2",children:[A.jsx("label",{htmlFor:a,className:n?"w-18 md:w-24 basis-1/4":"basis-2/8",children:n||e.charAt(0).toUpperCase()}),A.jsx("input",{className:"w-36 md:w-48 basis-5/8",id:a,max:s,min:r,name:e,onChange:t,step:i,type:"range",value:o}),A.jsx("div",{className:"w-6 md:w-8 basis-1/8",children:o})]})}function ka({handleChange:t,value:e,options:n}){const s=V.useId();return A.jsx("div",{className:"flex flex-wrap items-center space-x-2",children:n.map(r=>A.jsxs("div",{className:"flex space-x-2",children:[A.jsx("input",{checked:e===r,id:`option-${r}-${s}`,name:`option-${s}`,onChange:t,type:"radio",value:r}),A.jsx("label",{htmlFor:`option-${r}-${s}`,children:r.charAt(0).toUpperCase()+r.slice(1)})]},r))})}function Ud({filter:t}){const[e,n]=V.useState(300),[s,r]=V.useState(1),[i,o]=V.useState(4),[a,l]=V.useState(0),[u,c]=V.useState("highpass"),[h,d]=V.useState("sine");return t.current.set({baseFrequency:e,depth:s,frequency:i,wet:a,filter:{type:u},type:h}),A.jsxs("div",{className:"place-items-center border-2 rounded border-pink-500 dark:border-sky-300 p-5",children:[A.jsx("div",{className:"col-span-full mb-1",children:"Filter"}),A.jsx(ve,{inputName:"baseFrequency",min:30,max:7e3,value:e,labelText:"Base Freq",step:1,handleChange:p=>n(parseFloat(p.target.value))}),A.jsx(ve,{inputName:"frequency",min:0,max:10,value:i,labelText:"Speed",step:.01,handleChange:p=>o(parseFloat(p.target.value))}),A.jsx(ve,{inputName:"depth",min:0,max:1,value:s,labelText:"Depth",step:.01,handleChange:p=>r(parseFloat(p.target.value))}),A.jsx(ve,{inputName:"wet",min:0,max:1,value:a,labelText:"Dry / Wet",step:.01,handleChange:p=>l(parseFloat(p.target.value))}),A.jsxs("div",{className:"mt-3",children:[A.jsx(ka,{handleChange:p=>c(p.target.value),value:u,options:["highpass","lowpass"]}),A.jsx(ka,{handleChange:p=>d(p.target.value),value:h,options:["sine","square","triangle","sawtooth"]})]})]})}function sT({bitCrusher:t}){const[e,n]=V.useState(5),[s,r]=V.useState(0);return t.current.set({bits:e,wet:s}),A.jsxs("div",{className:"place-items-center border-2 rounded border-pink-500 dark:border-sky-300 p-5",children:[A.jsx("div",{className:"col-span-full mb-1",children:"Bitcrusher"}),A.jsx(ve,{inputName:"bits",min:2,max:8,value:e,labelText:"Bits",handleChange:i=>n(parseFloat(i.target.value))}),A.jsx(ve,{inputName:"wet",min:0,max:1,value:s,step:.01,labelText:"Dry / Wet",handleChange:i=>r(parseFloat(i.target.value))})]})}function rT({chebyshev:t}){const[e,n]=V.useState(1),[s,r]=V.useState(0);return t.current.set({order:e,wet:s}),A.jsxs("div",{className:"place-items-center border-2 rounded border-pink-500 dark:border-sky-300 p-5",children:[A.jsx("div",{className:"col-span-full mb-1",children:"Chebyshev"}),A.jsx(ve,{handleChange:i=>n(parseInt(i.target.value)),inputName:"order",labelText:"Order",max:100,min:1,value:e}),A.jsx(ve,{handleChange:i=>r(parseFloat(i.target.value)),inputName:"wet",labelText:"Dry / Wet",max:1,min:0,step:.01,value:s})]})}function iT({delay:t}){const[e,n]=V.useState(1),[s,r]=V.useState(.95),[i,o]=V.useState(0);return t.current.set({delayTime:e,feedback:s,wet:i}),A.jsxs("div",{className:"place-items-center border-2 rounded border-pink-500 dark:border-sky-300 p-5",children:[A.jsx("div",{className:"col-span-full mb-1",children:"Delay"}),A.jsx(ve,{inputName:"time",min:0,max:10,value:e,labelText:"Time",step:.01,handleChange:a=>n(parseFloat(a.target.value))}),A.jsx(ve,{inputName:"feedback",min:0,max:1,value:s,labelText:"Feedback",step:.01,handleChange:a=>r(parseFloat(a.target.value))}),A.jsx(ve,{inputName:"wet",min:0,max:1,value:i,step:.01,labelText:"Dry / Wet",handleChange:a=>o(parseFloat(a.target.value))})]})}function oT({bus:t}){const[e,n]=V.useState(-10);return t.current.volume.value=e,A.jsx("div",{className:"col-start-1 md:col-start-1 md:col-end-3 place-items-center border-2 rounded border-pink-500 dark:border-sky-300 p-5",children:A.jsx(ve,{inputName:"bus",labelText:"Effects Send",min:-80,max:0,value:e,handleChange:s=>n(parseFloat(s.target.value))})})}function aT({freeverb:t}){const[e,n]=V.useState(.95),[s,r]=V.useState(0);return t.current.set({roomSize:e,wet:s}),A.jsxs("div",{className:"place-items-center border-2 rounded border-pink-500 dark:border-sky-300 p-5",children:[A.jsx("div",{className:"col-span-full mb-1",children:"Reverb"}),A.jsx(ve,{handleChange:i=>n(parseFloat(i.target.value)),inputName:"roomSize",labelText:"Size",max:1,min:0,step:.01,value:e}),A.jsx(ve,{handleChange:i=>r(parseFloat(i.target.value)),inputName:"wet",labelText:"Dry / Wet",max:1,min:0,step:.01,value:s})]})}function lT({className:t,handleFormSubmit:e}){return A.jsxs("form",{className:"col-span-6 "+t,onSubmit:e,children:[A.jsx("input",{className:"w-20 mr-2 rounded-md border-0 px-1 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",max:"20000",min:"0.01",name:"minFreq",step:"0.01"}),A.jsx("input",{className:"w-20 mr-2 rounded-md border-0 px-1 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",max:"20000",min:"0.01",name:"maxFreq",step:"0.01"}),A.jsx("input",{className:"rounded-md bg-sky-500 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",type:"submit",value:"freq!"})]})}function uT({handleClick:t,isActive:e,children:n}){return A.jsx("button",{onClick:t,className:Vi("rounded-md bg-sky-500 px-3 py-2 text-sm text-white shadow-sm hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",e&&"bg-violet-500"),children:n})}const yg=V.createContext(null);function cT({children:t}){const[e,n]=V.useState(!1),s=async()=>{if(!e)try{await SS()}catch{n(!1)}finally{n(!0)}};return A.jsx(yg.Provider,{value:{handleBrowserAudioStart:s},children:t})}function wg(){const t=V.useContext(yg);if(!t)throw new Error("useAudioContext must be used within an AudioContextProvider component");return t}function hT(t,e){const n=V.useCallback(s=>{e.some(i=>s.key===i)&&(s.preventDefault(),t(s.key))},[t,e]);V.useEffect(()=>(document.addEventListener("keydown",n),()=>{document.removeEventListener("keydown",n)}),[n])}function dT({channel:t,maxFreq:e,minFreq:n,oscillator:s,playPauseKey:r}){const[i,o]=V.useState(n),[a,l]=V.useState("sine"),[u,c]=V.useState(-5),[h,d]=V.useState(0),[p,m]=V.useState(!1),{handleBrowserAudioStart:_}=wg(),w=()=>{_(),p?(s==null||s.stop(),m(!1)):(s==null||s.start(),m(!0))};return hT(()=>{w()},[r]),i<n?o(n):i>e&&o(e),t==null||t.volume.setTargetAtTime(u,0,.01),t==null||t.pan.setTargetAtTime(h,0,.01),s.frequency.setValueAtTime(i,.1),s.type=a,A.jsxs("div",{children:[A.jsx(ve,{inputName:"frequency",labelText:"Freq (Hz)",min:n,max:e,step:.01,value:i,handleChange:f=>o(parseFloat(f.target.value))}),A.jsx(ve,{inputName:"volume",labelText:"Volume",min:-80,max:0,value:u,handleChange:f=>c(parseFloat(f.target.value))}),A.jsx(ve,{inputName:"pan",labelText:"Pan",min:-1,max:1,value:h,step:.01,handleChange:f=>d(parseFloat(f.target.value))}),A.jsx(ka,{handleChange:f=>l(f.target.value),value:a,options:["sine","square","triangle","sawtooth"]}),A.jsx("div",{className:"text-center mt-2",children:A.jsx(uT,{handleClick:w,isActive:p,children:p?"Stop":"Start"})})]})}function fT(t,e){t.forEach(n=>{n.connect(e)})}function pT(t=6){const[e,n]=V.useState([]);return V.useEffect(()=>{const s=[];for(let r=0;r<t;r++){const i=new We(440,"sine"),o=new Ht(-5,0);i.connect(o),s.push({oscillator:i,channel:o})}return n(s),()=>{s.forEach(({oscillator:r,channel:i})=>{r.dispose(),i.dispose()}),n([])}},[t]),[e,n]}function mT({bus:t,oscillatorCount:e=6}){const[n,s]=V.useState(440),[r,i]=V.useState(454),[o]=V.useState(["q","w","a","s","z","x"]),[a,l]=V.useState(!0),[u,c]=pT(e);fT(u.map(_=>_.channel),t.current);const h=()=>{const _=new We(n,"sine"),w=new Ht(-5,0);return _.connect(w),w.connect(t.current),{oscillator:_,channel:w}},d=()=>{c(_=>[..._,h()])},p=_=>{_.preventDefault();const w=_.currentTarget,f=new FormData(w),g=Number(f.get("minFreq")),v=Number(f.get("maxFreq"));g&&v&&(g>v?(s(g),i(g+10)):(s(g),i(v)))},m=()=>{l(_=>!_)};return A.jsxs(V.Fragment,{children:[A.jsx(Ka,{expanded:a,toggleExpanded:m,children:"Oscillators"}),A.jsxs("div",{className:Vi("border-2 rounded border-pink-500 dark:border-sky-300 p-5 mb-3",!a&&"hidden"),children:[A.jsxs("div",{className:"flex items-start justify-between",children:[A.jsx(lT,{handleFormSubmit:p}),A.jsx("button",{onClick:d,children:"+"})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 mt-8 mb-3 place-items-center",children:u.map((_,w)=>A.jsx(dT,{playPauseKey:o[w],minFreq:n,maxFreq:r,oscillator:_.oscillator,channel:_.channel},w))})]})]})}function gT({polySynth:t}){const[e,n]=V.useState(666),[s,r]=V.useState("sine"),[i,o]=V.useState(-5),[a,l]=V.useState(.5),[u,c]=V.useState(.7),[h,d]=V.useState(1),[p,m]=V.useState(1),{handleBrowserAudioStart:_}=wg();t.volume.setTargetAtTime(i,0,.01);const w=()=>{_(),t.triggerAttackRelease(e,p)};return t.set({oscillator:{type:s},envelope:{attack:a,attackCurve:"linear",decay:u,decayCurve:"linear",release:p,releaseCurve:"linear",sustain:h}}),A.jsxs("div",{children:[A.jsx(ve,{inputName:"volume",labelText:"Volume",min:-80,max:0,value:i,handleChange:f=>o(parseFloat(f.target.value))}),A.jsx(ve,{inputName:"frequency",labelText:"Freq (Hz)",min:30,max:7e3,value:e,handleChange:f=>n(parseFloat(f.target.value))}),A.jsx(ve,{inputName:"attack",labelText:"Attack",min:0,max:2,step:.01,value:a,handleChange:f=>l(parseFloat(f.target.value))}),A.jsx(ve,{inputName:"decay",labelText:"Decay",min:0,max:1,step:.01,value:u,handleChange:f=>c(parseFloat(f.target.value))}),A.jsx(ve,{inputName:"sustain",labelText:"Sustain",min:0,max:1,step:.01,value:h,handleChange:f=>d(parseFloat(f.target.value))}),A.jsx(ve,{inputName:"release",labelText:"Release",min:0,max:60,step:.01,value:p,handleChange:f=>m(parseFloat(f.target.value))}),A.jsx(ka,{handleChange:f=>r(f.target.value),value:s,options:["sine","square","triangle","sawtooth"]}),A.jsx("div",{className:"text-center",children:A.jsx("button",{onClick:w,children:"Play Note"})})]})}function _T({polysynths:t}){const[e,n]=V.useState(!1),s=()=>{n(r=>!r)};return A.jsxs(V.Fragment,{children:[A.jsx(Ka,{expanded:e,toggleExpanded:s,children:"PolySynth"}),A.jsx("div",{className:Vi("grid grid-cols-1 md:grid-cols-2 gap-12 my-5 place-items-center border-2 rounded border-pink-500 dark:border-sky-300 p-5",!e&&"hidden"),children:t.map((r,i)=>A.jsx(gT,{polySynth:r},i))})]})}function vT({recorder:t}){const[e,n]=V.useState(!1),[s,r]=V.useState(!0),[i,o]=V.useState(""),a=()=>{r(u=>!u)},l=async()=>{var u,c;if(e){const h=await((u=t==null?void 0:t.current)==null?void 0:u.stop());h&&o(URL.createObjectURL(h)),n(!1)}else(c=t==null?void 0:t.current)==null||c.start(),n(!0)};return A.jsxs(V.Fragment,{children:[A.jsx(Ka,{expanded:s,toggleExpanded:a,children:"Recording"}),A.jsx("div",{className:Vi("my-5 border-2 rounded border-pink-500 dark:border-sky-300 p-5",!s&&"hidden"),children:A.jsxs("div",{children:[A.jsxs("div",{className:"flex items-center align-items-center",children:[A.jsx("button",{onClick:()=>void l(),className:"mr-3 border-2 rounded border-pink-500 dark:border-sky-300 px-3",children:e?"Stop":"Start"}),i&&!e&&A.jsxs(V.Fragment,{children:[A.jsx("audio",{preload:"none",src:i,className:"mr-3"}),A.jsx("a",{download:`tone-drone-recording${Date.now().toString()}`,href:i,className:"mr-3 border-2 rounded border-pink-500 dark:border-sky-300 px-3",children:"Download"})]})]}),i&&!e&&A.jsx("div",{className:"text-sm mt-2",children:"Note: If you start a new recording, you will lose the current one. Please download it first."})]})})]})}function yT(t){const e=V.useRef(new Ht({volume:-10,channelCount:2})),n=V.useCallback(()=>{e.current.chain(...t,pg())},[t]);return V.useEffect(()=>{n()},[n]),e}function $d(){const t=V.useRef(new WS({baseFrequency:300,octaves:1,frequency:4,type:"sine",depth:1,wet:1}).start());return V.useEffect(()=>{t.current.set({filter:{type:"highpass"}})},[]),t}function wT(){return V.useRef(new BS({bits:5}))}function xT(){return V.useRef(new US({order:1,wet:0}))}function ST(){return V.useRef(new ya({delayTime:1,feedback:.95,maxDelay:10,wet:0}))}function TT(){return V.useRef(new $S({dampening:1e3,roomSize:.95,wet:0}))}function kT(){const t=V.useRef(null);return V.useEffect(()=>(MediaRecorder.isTypeSupported("audio/webm")?t.current=new Wd({mimeType:"audio/webm"}):MediaRecorder.isTypeSupported("audio/mp4")?t.current=new Wd({mimeType:"audio/mp4"}):console.error("no suitable mimetype found for this device"),()=>{t.current.dispose()}),[]),t}function CT(t=2){const[e,n]=V.useState([]);return V.useEffect(()=>{const s=[];for(let r=0;r<t;r++){const i=new zS;s.push(i)}return n(s),()=>{s.forEach(r=>{r.dispose()}),n([])}},[t]),e}function NT(){const t=kT(),e=$d(),n=wT(),s=xT(),r=ST(),i=TT(),o=$d(),a=new xa(-30,3),l=[e.current,n.current,s.current,r.current,i.current,o.current,a],u=yT(l);V.useEffect(()=>{t.current&&pg().connect(t.current)},[t]);const c=CT(2);return c.forEach(h=>{h.connect(u.current)}),A.jsx("div",{className:"dark:text-sky-300",children:A.jsxs("div",{className:"border-2 rounded border-pink-500 dark:border-sky-300 pt-2 px-3",children:[A.jsx(vT,{recorder:t}),A.jsxs(nT,{children:[A.jsx(Ud,{filter:e}),A.jsx(sT,{bitCrusher:n}),A.jsx(rT,{chebyshev:s}),A.jsx(iT,{delay:r}),A.jsx(aT,{freeverb:i}),A.jsx(Ud,{filter:o}),A.jsx(oT,{bus:u})]}),A.jsx(_T,{polysynths:c}),A.jsx(mT,{bus:u})]})})}function ET(){const[t,e]=V.useState(()=>{const s=localStorage.getItem("dark");return s?JSON.parse(s):!1});return V.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("dark","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("dark","false"))},[t]),[t,()=>{e(s=>!s)}]}function AT(){const[t,e]=ET();return A.jsxs("button",{className:"border-2 rounded-md border-pink-500 dark:border-sky-300 px-2 py-1",onClick:e,children:["Theme: ",t?"Dark":"Light"]})}function OT(){return A.jsx(cT,{children:A.jsxs("div",{className:"text-pink-900 dark:text-sky-300",children:[A.jsx("div",{className:"flex space-x-2 my-5 ml-5",children:A.jsx(AT,{})}),A.jsx("div",{className:"m-4",children:A.jsx(NT,{})})]})})}El.createRoot(document.getElementById("root")).render(A.jsx(Rn.StrictMode,{children:A.jsx(OT,{})}));
