(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();var po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uo(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var Sh={exports:{}},Or={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function kb(){if(Lg)return Or;Lg=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(i,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:l,type:i,key:f,ref:o!==void 0?o:null,props:c}}return Or.Fragment=t,Or.jsx=a,Or.jsxs=a,Or}var Fg;function Rb(){return Fg||(Fg=1,Sh.exports=kb()),Sh.exports}var M=Rb(),Th={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function qb(){if(Hg)return Se;Hg=1;var l=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function T(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function x(C,H,te){this.props=C,this.context=H,this.refs=E,this.updater=te||S}x.prototype.isReactComponent={},x.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")},x.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function O(){}O.prototype=x.prototype;function B(C,H,te){this.props=C,this.context=H,this.refs=E,this.updater=te||S}var k=B.prototype=new O;k.constructor=B,A(k,x.prototype),k.isPureReactComponent=!0;var w=Array.isArray;function j(){}var R={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function W(C,H,te){var re=te.ref;return{$$typeof:l,type:C,key:H,ref:re!==void 0?re:null,props:te}}function $(C,H){return W(C.type,H,C.props)}function Z(C){return typeof C=="object"&&C!==null&&C.$$typeof===l}function G(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(te){return H[te]})}var se=/\/+/g;function ae(C,H){return typeof C=="object"&&C!==null&&C.key!=null?G(""+C.key):H.toString(36)}function ce(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(j,j):(C.status="pending",C.then(function(H){C.status==="pending"&&(C.status="fulfilled",C.value=H)},function(H){C.status==="pending"&&(C.status="rejected",C.reason=H)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function q(C,H,te,re,ie){var ue=typeof C;(ue==="undefined"||ue==="boolean")&&(C=null);var he=!1;if(C===null)he=!0;else switch(ue){case"bigint":case"string":case"number":he=!0;break;case"object":switch(C.$$typeof){case l:case t:he=!0;break;case y:return he=C._init,q(he(C._payload),H,te,re,ie)}}if(he)return ie=ie(C),he=re===""?"."+ae(C,0):re,w(ie)?(te="",he!=null&&(te=he.replace(se,"$&/")+"/"),q(ie,H,te,"",function(Le){return Le})):ie!=null&&(Z(ie)&&(ie=$(ie,te+(ie.key==null||C&&C.key===ie.key?"":(""+ie.key).replace(se,"$&/")+"/")+he)),H.push(ie)),1;he=0;var le=re===""?".":re+":";if(w(C))for(var de=0;de<C.length;de++)re=C[de],ue=le+ae(re,de),he+=q(re,H,te,ue,ie);else if(de=T(C),typeof de=="function")for(C=de.call(C),de=0;!(re=C.next()).done;)re=re.value,ue=le+ae(re,de++),he+=q(re,H,te,ue,ie);else if(ue==="object"){if(typeof C.then=="function")return q(ce(C),H,te,re,ie);throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return he}function I(C,H,te){if(C==null)return C;var re=[],ie=0;return q(C,re,"","",function(ue){return H.call(te,ue,ie++)}),re}function Q(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(te){(C._status===0||C._status===-1)&&(C._status=1,C._result=te)},function(te){(C._status===0||C._status===-1)&&(C._status=2,C._result=te)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var J=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},ne={map:I,forEach:function(C,H,te){I(C,function(){H.apply(this,arguments)},te)},count:function(C){var H=0;return I(C,function(){H++}),H},toArray:function(C){return I(C,function(H){return H})||[]},only:function(C){if(!Z(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Se.Activity=_,Se.Children=ne,Se.Component=x,Se.Fragment=a,Se.Profiler=o,Se.PureComponent=B,Se.StrictMode=i,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Se.__COMPILER_RUNTIME={__proto__:null,c:function(C){return R.H.useMemoCache(C)}},Se.cache=function(C){return function(){return C.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(C,H,te){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var re=A({},C.props),ie=C.key;if(H!=null)for(ue in H.key!==void 0&&(ie=""+H.key),H)!z.call(H,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&H.ref===void 0||(re[ue]=H[ue]);var ue=arguments.length-2;if(ue===1)re.children=te;else if(1<ue){for(var he=Array(ue),le=0;le<ue;le++)he[le]=arguments[le+2];re.children=he}return W(C.type,ie,re)},Se.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Se.createElement=function(C,H,te){var re,ie={},ue=null;if(H!=null)for(re in H.key!==void 0&&(ue=""+H.key),H)z.call(H,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ie[re]=H[re]);var he=arguments.length-2;if(he===1)ie.children=te;else if(1<he){for(var le=Array(he),de=0;de<he;de++)le[de]=arguments[de+2];ie.children=le}if(C&&C.defaultProps)for(re in he=C.defaultProps,he)ie[re]===void 0&&(ie[re]=he[re]);return W(C,ue,ie)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(C){return{$$typeof:d,render:C}},Se.isValidElement=Z,Se.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:Q}},Se.memo=function(C,H){return{$$typeof:m,type:C,compare:H===void 0?null:H}},Se.startTransition=function(C){var H=R.T,te={};R.T=te;try{var re=C(),ie=R.S;ie!==null&&ie(te,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(j,J)}catch(ue){J(ue)}finally{H!==null&&te.types!==null&&(H.types=te.types),R.T=H}},Se.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Se.use=function(C){return R.H.use(C)},Se.useActionState=function(C,H,te){return R.H.useActionState(C,H,te)},Se.useCallback=function(C,H){return R.H.useCallback(C,H)},Se.useContext=function(C){return R.H.useContext(C)},Se.useDebugValue=function(){},Se.useDeferredValue=function(C,H){return R.H.useDeferredValue(C,H)},Se.useEffect=function(C,H){return R.H.useEffect(C,H)},Se.useEffectEvent=function(C){return R.H.useEffectEvent(C)},Se.useId=function(){return R.H.useId()},Se.useImperativeHandle=function(C,H,te){return R.H.useImperativeHandle(C,H,te)},Se.useInsertionEffect=function(C,H){return R.H.useInsertionEffect(C,H)},Se.useLayoutEffect=function(C,H){return R.H.useLayoutEffect(C,H)},Se.useMemo=function(C,H){return R.H.useMemo(C,H)},Se.useOptimistic=function(C,H){return R.H.useOptimistic(C,H)},Se.useReducer=function(C,H,te){return R.H.useReducer(C,H,te)},Se.useRef=function(C){return R.H.useRef(C)},Se.useState=function(C){return R.H.useState(C)},Se.useSyncExternalStore=function(C,H,te){return R.H.useSyncExternalStore(C,H,te)},Se.useTransition=function(){return R.H.useTransition()},Se.version="19.2.0",Se}var Gg;function Mi(){return Gg||(Gg=1,Th.exports=qb()),Th.exports}var V=Mi();const Ys=Uo(V);var xh={exports:{}},Mr={},Ah={exports:{}},wh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function jb(){return Yg||(Yg=1,(function(l){function t(q,I){var Q=q.length;q.push(I);e:for(;0<Q;){var J=Q-1>>>1,ne=q[J];if(0<o(ne,I))q[J]=I,q[Q]=ne,Q=J;else break e}}function a(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var I=q[0],Q=q.pop();if(Q!==I){q[0]=Q;e:for(var J=0,ne=q.length,C=ne>>>1;J<C;){var H=2*(J+1)-1,te=q[H],re=H+1,ie=q[re];if(0>o(te,Q))re<ne&&0>o(ie,te)?(q[J]=ie,q[re]=Q,J=re):(q[J]=te,q[H]=Q,J=H);else if(re<ne&&0>o(ie,Q))q[J]=ie,q[re]=Q,J=re;else break e}}return I}function o(q,I){var Q=q.sortIndex-I.sortIndex;return Q!==0?Q:q.id-I.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var f=Date,d=f.now();l.unstable_now=function(){return f.now()-d}}var p=[],m=[],y=1,_=null,b=3,T=!1,S=!1,A=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function k(q){for(var I=a(m);I!==null;){if(I.callback===null)i(m);else if(I.startTime<=q)i(m),I.sortIndex=I.expirationTime,t(p,I);else break;I=a(m)}}function w(q){if(A=!1,k(q),!S)if(a(p)!==null)S=!0,j||(j=!0,G());else{var I=a(m);I!==null&&ce(w,I.startTime-q)}}var j=!1,R=-1,z=5,W=-1;function $(){return E?!0:!(l.unstable_now()-W<z)}function Z(){if(E=!1,j){var q=l.unstable_now();W=q;var I=!0;try{e:{S=!1,A&&(A=!1,O(R),R=-1),T=!0;var Q=b;try{t:{for(k(q),_=a(p);_!==null&&!(_.expirationTime>q&&$());){var J=_.callback;if(typeof J=="function"){_.callback=null,b=_.priorityLevel;var ne=J(_.expirationTime<=q);if(q=l.unstable_now(),typeof ne=="function"){_.callback=ne,k(q),I=!0;break t}_===a(p)&&i(p),k(q)}else i(p);_=a(p)}if(_!==null)I=!0;else{var C=a(m);C!==null&&ce(w,C.startTime-q),I=!1}}break e}finally{_=null,b=Q,T=!1}I=void 0}}finally{I?G():j=!1}}}var G;if(typeof B=="function")G=function(){B(Z)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ae=se.port2;se.port1.onmessage=Z,G=function(){ae.postMessage(null)}}else G=function(){x(Z,0)};function ce(q,I){R=x(function(){q(l.unstable_now())},I)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(q){q.callback=null},l.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<q?Math.floor(1e3/q):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_next=function(q){switch(b){case 1:case 2:case 3:var I=3;break;default:I=b}var Q=b;b=I;try{return q()}finally{b=Q}},l.unstable_requestPaint=function(){E=!0},l.unstable_runWithPriority=function(q,I){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=b;b=q;try{return I()}finally{b=Q}},l.unstable_scheduleCallback=function(q,I,Q){var J=l.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?J+Q:J):Q=J,q){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=Q+ne,q={id:y++,callback:I,priorityLevel:q,startTime:Q,expirationTime:ne,sortIndex:-1},Q>J?(q.sortIndex=Q,t(m,q),a(p)===null&&q===a(m)&&(A?(O(R),R=-1):A=!0,ce(w,Q-J))):(q.sortIndex=ne,t(p,q),S||T||(S=!0,j||(j=!0,G()))),q},l.unstable_shouldYield=$,l.unstable_wrapCallback=function(q){var I=b;return function(){var Q=b;b=I;try{return q.apply(this,arguments)}finally{b=Q}}}})(wh)),wh}var Ig;function zb(){return Ig||(Ig=1,Ah.exports=jb()),Ah.exports}var Ch={exports:{}},qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function Vb(){if(Xg)return qt;Xg=1;var l=Mi();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:m,implementation:y}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,qt.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(p,m,null,y)},qt.flushSync=function(p){var m=f.T,y=i.p;try{if(f.T=null,i.p=2,p)return p()}finally{f.T=m,i.p=y,i.d.f()}},qt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},qt.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},qt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,_=d(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:T}):y==="script"&&i.d.X(p,{crossOrigin:_,integrity:b,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},qt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},qt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=d(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},qt.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=d(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},qt.requestFormReset=function(p){i.d.r(p)},qt.unstable_batchedUpdates=function(p,m){return p(m)},qt.useFormState=function(p,m,y){return f.H.useFormState(p,m,y)},qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},qt.version="19.2.0",qt}var Qg;function Ub(){if(Qg)return Ch.exports;Qg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),Ch.exports=Vb(),Ch.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zg;function Bb(){if(Zg)return Mr;Zg=1;var l=zb(),t=Mi(),a=Ub();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(i(188))}function m(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(i(188));return n!==e?null:e}for(var s=e,r=n;;){var u=s.return;if(u===null)break;var h=u.alternate;if(h===null){if(r=u.return,r!==null){s=r;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===s)return p(u),e;if(h===r)return p(u),n;h=h.sibling}throw Error(i(188))}if(s.return!==r.return)s=u,r=h;else{for(var g=!1,v=u.child;v;){if(v===s){g=!0,s=u,r=h;break}if(v===r){g=!0,r=u,s=h;break}v=v.sibling}if(!g){for(v=h.child;v;){if(v===s){g=!0,s=h,r=u;break}if(v===r){g=!0,r=h,s=u;break}v=v.sibling}if(!g)throw Error(i(189))}}if(s.alternate!==r)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),B=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function ae(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case x:return"Profiler";case E:return"StrictMode";case w:return"Suspense";case j:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case B:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case k:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case z:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}var ce=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},J=[],ne=-1;function C(e){return{current:e}}function H(e){0>ne||(e.current=J[ne],J[ne]=null,ne--)}function te(e,n){ne++,J[ne]=e.current,e.current=n}var re=C(null),ie=C(null),ue=C(null),he=C(null);function le(e,n){switch(te(ue,n),te(ie,e),te(re,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ug(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ug(n),e=cg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(re),te(re,e)}function de(){H(re),H(ie),H(ue)}function Le(e){e.memoizedState!==null&&te(he,e);var n=re.current,s=cg(n,e.type);n!==s&&(te(ie,e),te(re,s))}function ft(e){ie.current===e&&(H(re),H(ie)),he.current===e&&(H(he),wr._currentValue=Q)}var At,Ua;function cn(e){if(At===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);At=n&&n[1]||"",Ua=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+At+e+Ua}var oe=!1;function ve(e,n){if(!e||oe)return"";oe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(X){var Y=X}Reflect.construct(e,[],ee)}else{try{ee.call()}catch(X){Y=X}e.call(ee.prototype)}}else{try{throw Error()}catch(X){Y=X}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=r.DetermineComponentFrameRoot(),g=h[0],v=h[1];if(g&&v){var N=g.split(`
`),F=v.split(`
`);for(u=r=0;r<N.length&&!N[r].includes("DetermineComponentFrameRoot");)r++;for(;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;if(r===N.length||u===F.length)for(r=N.length-1,u=F.length-1;1<=r&&0<=u&&N[r]!==F[u];)u--;for(;1<=r&&0<=u;r--,u--)if(N[r]!==F[u]){if(r!==1||u!==1)do if(r--,u--,0>u||N[r]!==F[u]){var K=`
`+N[r].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=r&&0<=u);break}}}finally{oe=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?cn(s):""}function ot(e,n){switch(e.tag){case 26:case 27:case 5:return cn(e.type);case 16:return cn("Lazy");case 13:return e.child!==n&&n!==null?cn("Suspense Fallback"):cn("Suspense");case 19:return cn("SuspenseList");case 0:case 15:return ve(e.type,!1);case 11:return ve(e.type.render,!1);case 1:return ve(e.type,!0);case 31:return cn("Activity");default:return""}}function Qe(e){try{var n="",s=null;do n+=ot(e,s),s=e,e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Me=Object.prototype.hasOwnProperty,Ze=l.unstable_scheduleCallback,Rt=l.unstable_cancelCallback,jn=l.unstable_shouldYield,$s=l.unstable_requestPaint,wt=l.unstable_now,ou=l.unstable_getCurrentPriorityLevel,Wr=l.unstable_ImmediatePriority,Hf=l.unstable_UserBlockingPriority,Kr=l.unstable_NormalPriority,d_=l.unstable_LowPriority,Gf=l.unstable_IdlePriority,p_=l.log,m_=l.unstable_setDisableYieldValue,Vi=null,Kt=null;function ys(e){if(typeof p_=="function"&&m_(e),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Vi,e)}catch{}}var Jt=Math.clz32?Math.clz32:__,g_=Math.log,y_=Math.LN2;function __(e){return e>>>=0,e===0?32:31-(g_(e)/y_|0)|0}var Jr=256,Pr=262144,$r=4194304;function ea(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function el(e,n,s){var r=e.pendingLanes;if(r===0)return 0;var u=0,h=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var v=r&134217727;return v!==0?(r=v&~h,r!==0?u=ea(r):(g&=v,g!==0?u=ea(g):s||(s=v&~e,s!==0&&(u=ea(s))))):(v=r&~h,v!==0?u=ea(v):g!==0?u=ea(g):s||(s=r&~e,s!==0&&(u=ea(s)))),u===0?0:n!==0&&n!==u&&(n&h)===0&&(h=u&-u,s=n&-n,h>=s||h===32&&(s&4194048)!==0)?n:u}function Ui(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function v_(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yf(){var e=$r;return $r<<=1,($r&62914560)===0&&($r=4194304),e}function uu(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Bi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function b_(e,n,s,r,u,h){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var v=e.entanglements,N=e.expirationTimes,F=e.hiddenUpdates;for(s=g&~s;0<s;){var K=31-Jt(s),ee=1<<K;v[K]=0,N[K]=-1;var Y=F[K];if(Y!==null)for(F[K]=null,K=0;K<Y.length;K++){var X=Y[K];X!==null&&(X.lane&=-536870913)}s&=~ee}r!==0&&If(e,r,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(g&~n))}function If(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var r=31-Jt(n);e.entangledLanes|=n,e.entanglements[r]=e.entanglements[r]|1073741824|s&261930}function Xf(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var r=31-Jt(s),u=1<<r;u&n|e[r]&n&&(e[r]|=n),s&=~u}}function Qf(e,n){var s=n&-n;return s=(s&42)!==0?1:cu(s),(s&(e.suspendedLanes|n))!==0?0:s}function cu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function hu(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zf(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:Rg(e.type))}function Wf(e,n){var s=I.p;try{return I.p=e,n()}finally{I.p=s}}var _s=Math.random().toString(36).slice(2),Ct="__reactFiber$"+_s,Ft="__reactProps$"+_s,Ba="__reactContainer$"+_s,fu="__reactEvents$"+_s,S_="__reactListeners$"+_s,T_="__reactHandles$"+_s,Kf="__reactResources$"+_s,Li="__reactMarker$"+_s;function du(e){delete e[Ct],delete e[Ft],delete e[fu],delete e[S_],delete e[T_]}function La(e){var n=e[Ct];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Ba]||s[Ct]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=yg(e);e!==null;){if(s=e[Ct])return s;e=yg(e)}return n}e=s,s=e.parentNode}return null}function Fa(e){if(e=e[Ct]||e[Ba]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Fi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function Ha(e){var n=e[Kf];return n||(n=e[Kf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function bt(e){e[Li]=!0}var Jf=new Set,Pf={};function ta(e,n){Ga(e,n),Ga(e+"Capture",n)}function Ga(e,n){for(Pf[e]=n,e=0;e<n.length;e++)Jf.add(n[e])}var x_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$f={},ed={};function A_(e){return Me.call(ed,e)?!0:Me.call($f,e)?!1:x_.test(e)?ed[e]=!0:($f[e]=!0,!1)}function tl(e,n,s){if(A_(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function nl(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function In(e,n,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+r)}}function hn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function td(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function w_(e,n,s){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,h=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(g){s=""+g,h.call(this,g)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function pu(e){if(!e._valueTracker){var n=td(e)?"checked":"value";e._valueTracker=w_(e,n,""+e[n])}}function nd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),r="";return e&&(r=td(e)?e.checked?"true":"false":e.value),e=r,e!==s?(n.setValue(e),!0):!1}function sl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var C_=/[\n"\\]/g;function fn(e){return e.replace(C_,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mu(e,n,s,r,u,h,g,v){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+hn(n)):e.value!==""+hn(n)&&(e.value=""+hn(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?gu(e,g,hn(n)):s!=null?gu(e,g,hn(s)):r!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+hn(v):e.removeAttribute("name")}function sd(e,n,s,r,u,h,g,v){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){pu(e);return}s=s!=null?""+hn(s):"",n=n!=null?""+hn(n):s,v||n===e.value||(e.value=n),e.defaultValue=n}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=v?e.checked:!!r,e.defaultChecked=!!r,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),pu(e)}function gu(e,n,s){n==="number"&&sl(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ya(e,n,s,r){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&r&&(e[s].defaultSelected=!0)}else{for(s=""+hn(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function ad(e,n,s){if(n!=null&&(n=""+hn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+hn(s):""}function id(e,n,s,r){if(n==null){if(r!=null){if(s!=null)throw Error(i(92));if(ce(r)){if(1<r.length)throw Error(i(93));r=r[0]}s=r}s==null&&(s=""),n=s}s=hn(n),e.defaultValue=s,r=e.textContent,r===s&&r!==""&&r!==null&&(e.value=r),pu(e)}function Ia(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var E_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rd(e,n,s){var r=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?r?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":r?e.setProperty(n,s):typeof s!="number"||s===0||E_.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function ld(e,n,s){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,s!=null){for(var r in s)!s.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in n)r=n[u],n.hasOwnProperty(u)&&s[u]!==r&&rd(e,u,r)}else for(var h in n)n.hasOwnProperty(h)&&rd(e,h,n[h])}function yu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),O_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(e){return O_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xn(){}var _u=null;function vu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xa=null,Qa=null;function od(e){var n=Fa(e);if(n&&(e=n.stateNode)){var s=e[Ft]||null;e:switch(e=n.stateNode,n.type){case"input":if(mu(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var r=s[n];if(r!==e&&r.form===e.form){var u=r[Ft]||null;if(!u)throw Error(i(90));mu(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<s.length;n++)r=s[n],r.form===e.form&&nd(r)}break e;case"textarea":ad(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ya(e,!!s.multiple,n,!1)}}}var bu=!1;function ud(e,n,s){if(bu)return e(n,s);bu=!0;try{var r=e(n);return r}finally{if(bu=!1,(Xa!==null||Qa!==null)&&(Il(),Xa&&(n=Xa,e=Qa,Qa=Xa=null,od(n),e)))for(n=0;n<e.length;n++)od(e[n])}}function Hi(e,n){var s=e.stateNode;if(s===null)return null;var r=s[Ft]||null;if(r===null)return null;s=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(i(231,n,typeof s));return s}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Su=!1;if(Qn)try{var Gi={};Object.defineProperty(Gi,"passive",{get:function(){Su=!0}}),window.addEventListener("test",Gi,Gi),window.removeEventListener("test",Gi,Gi)}catch{Su=!1}var vs=null,Tu=null,il=null;function cd(){if(il)return il;var e,n=Tu,s=n.length,r,u="value"in vs?vs.value:vs.textContent,h=u.length;for(e=0;e<s&&n[e]===u[e];e++);var g=s-e;for(r=1;r<=g&&n[s-r]===u[h-r];r++);return il=u.slice(e,1<r?1-r:void 0)}function rl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ll(){return!0}function hd(){return!1}function Ht(e){function n(s,r,u,h,g){this._reactName=s,this._targetInst=u,this.type=r,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(s=e[v],this[v]=s?s(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ll:hd,this.isPropagationStopped=hd,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),n}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ol=Ht(na),Yi=_({},na,{view:0,detail:0}),M_=Ht(Yi),xu,Au,Ii,ul=_({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(xu=e.screenX-Ii.screenX,Au=e.screenY-Ii.screenY):Au=xu=0,Ii=e),xu)},movementY:function(e){return"movementY"in e?e.movementY:Au}}),fd=Ht(ul),D_=_({},ul,{dataTransfer:0}),k_=Ht(D_),R_=_({},Yi,{relatedTarget:0}),wu=Ht(R_),q_=_({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),j_=Ht(q_),z_=_({},na,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),V_=Ht(z_),U_=_({},na,{data:0}),dd=Ht(U_),B_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=F_[e])?!!n[e]:!1}function Cu(){return H_}var G_=_({},Yi,{key:function(e){if(e.key){var n=B_[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?L_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cu,charCode:function(e){return e.type==="keypress"?rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Y_=Ht(G_),I_=_({},ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pd=Ht(I_),X_=_({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cu}),Q_=Ht(X_),Z_=_({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),W_=Ht(Z_),K_=_({},ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J_=Ht(K_),P_=_({},na,{newState:0,oldState:0}),$_=Ht(P_),ev=[9,13,27,32],Eu=Qn&&"CompositionEvent"in window,Xi=null;Qn&&"documentMode"in document&&(Xi=document.documentMode);var tv=Qn&&"TextEvent"in window&&!Xi,md=Qn&&(!Eu||Xi&&8<Xi&&11>=Xi),gd=" ",yd=!1;function _d(e,n){switch(e){case"keyup":return ev.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Za=!1;function nv(e,n){switch(e){case"compositionend":return vd(n);case"keypress":return n.which!==32?null:(yd=!0,gd);case"textInput":return e=n.data,e===gd&&yd?null:e;default:return null}}function sv(e,n){if(Za)return e==="compositionend"||!Eu&&_d(e,n)?(e=cd(),il=Tu=vs=null,Za=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return md&&n.locale!=="ko"?null:n.data;default:return null}}var av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bd(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!av[e.type]:n==="textarea"}function Sd(e,n,s,r){Xa?Qa?Qa.push(r):Qa=[r]:Xa=r,n=Pl(n,"onChange"),0<n.length&&(s=new ol("onChange","change",null,s,r),e.push({event:s,listeners:n}))}var Qi=null,Zi=null;function iv(e){sg(e,0)}function cl(e){var n=Fi(e);if(nd(n))return e}function Td(e,n){if(e==="change")return n}var xd=!1;if(Qn){var Nu;if(Qn){var Ou="oninput"in document;if(!Ou){var Ad=document.createElement("div");Ad.setAttribute("oninput","return;"),Ou=typeof Ad.oninput=="function"}Nu=Ou}else Nu=!1;xd=Nu&&(!document.documentMode||9<document.documentMode)}function wd(){Qi&&(Qi.detachEvent("onpropertychange",Cd),Zi=Qi=null)}function Cd(e){if(e.propertyName==="value"&&cl(Zi)){var n=[];Sd(n,Zi,e,vu(e)),ud(iv,n)}}function rv(e,n,s){e==="focusin"?(wd(),Qi=n,Zi=s,Qi.attachEvent("onpropertychange",Cd)):e==="focusout"&&wd()}function lv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(Zi)}function ov(e,n){if(e==="click")return cl(n)}function uv(e,n){if(e==="input"||e==="change")return cl(n)}function cv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Pt=typeof Object.is=="function"?Object.is:cv;function Wi(e,n){if(Pt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),r=Object.keys(n);if(s.length!==r.length)return!1;for(r=0;r<s.length;r++){var u=s[r];if(!Me.call(n,u)||!Pt(e[u],n[u]))return!1}return!0}function Ed(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nd(e,n){var s=Ed(e);e=0;for(var r;s;){if(s.nodeType===3){if(r=e+s.textContent.length,e<=n&&r>=n)return{node:s,offset:n-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Ed(s)}}function Od(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Od(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Md(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=sl(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=sl(e.document)}return n}function Mu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var hv=Qn&&"documentMode"in document&&11>=document.documentMode,Wa=null,Du=null,Ki=null,ku=!1;function Dd(e,n,s){var r=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ku||Wa==null||Wa!==sl(r)||(r=Wa,"selectionStart"in r&&Mu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ki&&Wi(Ki,r)||(Ki=r,r=Pl(Du,"onSelect"),0<r.length&&(n=new ol("onSelect","select",null,n,s),e.push({event:n,listeners:r}),n.target=Wa)))}function sa(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ka={animationend:sa("Animation","AnimationEnd"),animationiteration:sa("Animation","AnimationIteration"),animationstart:sa("Animation","AnimationStart"),transitionrun:sa("Transition","TransitionRun"),transitionstart:sa("Transition","TransitionStart"),transitioncancel:sa("Transition","TransitionCancel"),transitionend:sa("Transition","TransitionEnd")},Ru={},kd={};Qn&&(kd=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function aa(e){if(Ru[e])return Ru[e];if(!Ka[e])return e;var n=Ka[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in kd)return Ru[e]=n[s];return e}var Rd=aa("animationend"),qd=aa("animationiteration"),jd=aa("animationstart"),fv=aa("transitionrun"),dv=aa("transitionstart"),pv=aa("transitioncancel"),zd=aa("transitionend"),Vd=new Map,qu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qu.push("scrollEnd");function An(e,n){Vd.set(e,n),ta(n,[e])}var hl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},dn=[],Ja=0,ju=0;function fl(){for(var e=Ja,n=ju=Ja=0;n<e;){var s=dn[n];dn[n++]=null;var r=dn[n];dn[n++]=null;var u=dn[n];dn[n++]=null;var h=dn[n];if(dn[n++]=null,r!==null&&u!==null){var g=r.pending;g===null?u.next=u:(u.next=g.next,g.next=u),r.pending=u}h!==0&&Ud(s,u,h)}}function dl(e,n,s,r){dn[Ja++]=e,dn[Ja++]=n,dn[Ja++]=s,dn[Ja++]=r,ju|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function zu(e,n,s,r){return dl(e,n,s,r),pl(e)}function ia(e,n){return dl(e,null,null,n),pl(e)}function Ud(e,n,s){e.lanes|=s;var r=e.alternate;r!==null&&(r.lanes|=s);for(var u=!1,h=e.return;h!==null;)h.childLanes|=s,r=h.alternate,r!==null&&(r.childLanes|=s),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,u&&n!==null&&(u=31-Jt(s),e=h.hiddenUpdates,r=e[u],r===null?e[u]=[n]:r.push(n),n.lane=s|536870912),h):null}function pl(e){if(50<_r)throw _r=0,Ic=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Pa={};function mv(e,n,s,r){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,n,s,r){return new mv(e,n,s,r)}function Vu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zn(e,n){var s=e.alternate;return s===null?(s=$t(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Bd(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ml(e,n,s,r,u,h){var g=0;if(r=e,typeof e=="function")Vu(e)&&(g=1);else if(typeof e=="string")g=bb(e,s,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=$t(31,s,n,u),e.elementType=W,e.lanes=h,e;case A:return ra(s.children,u,h,n);case E:g=8,u|=24;break;case x:return e=$t(12,s,n,u|2),e.elementType=x,e.lanes=h,e;case w:return e=$t(13,s,n,u),e.elementType=w,e.lanes=h,e;case j:return e=$t(19,s,n,u),e.elementType=j,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:g=10;break e;case O:g=9;break e;case k:g=11;break e;case R:g=14;break e;case z:g=16,r=null;break e}g=29,s=Error(i(130,e===null?"null":typeof e,"")),r=null}return n=$t(g,s,n,u),n.elementType=e,n.type=r,n.lanes=h,n}function ra(e,n,s,r){return e=$t(7,e,r,n),e.lanes=s,e}function Uu(e,n,s){return e=$t(6,e,null,n),e.lanes=s,e}function Ld(e){var n=$t(18,null,null,0);return n.stateNode=e,n}function Bu(e,n,s){return n=$t(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Fd=new WeakMap;function pn(e,n){if(typeof e=="object"&&e!==null){var s=Fd.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Qe(n)},Fd.set(e,n),n)}return{value:e,source:n,stack:Qe(n)}}var $a=[],ei=0,gl=null,Ji=0,mn=[],gn=0,bs=null,zn=1,Vn="";function Wn(e,n){$a[ei++]=Ji,$a[ei++]=gl,gl=e,Ji=n}function Hd(e,n,s){mn[gn++]=zn,mn[gn++]=Vn,mn[gn++]=bs,bs=e;var r=zn;e=Vn;var u=32-Jt(r)-1;r&=~(1<<u),s+=1;var h=32-Jt(n)+u;if(30<h){var g=u-u%5;h=(r&(1<<g)-1).toString(32),r>>=g,u-=g,zn=1<<32-Jt(n)+u|s<<u|r,Vn=h+e}else zn=1<<h|s<<u|r,Vn=e}function Lu(e){e.return!==null&&(Wn(e,1),Hd(e,1,0))}function Fu(e){for(;e===gl;)gl=$a[--ei],$a[ei]=null,Ji=$a[--ei],$a[ei]=null;for(;e===bs;)bs=mn[--gn],mn[gn]=null,Vn=mn[--gn],mn[gn]=null,zn=mn[--gn],mn[gn]=null}function Gd(e,n){mn[gn++]=zn,mn[gn++]=Vn,mn[gn++]=bs,zn=n.id,Vn=n.overflow,bs=e}var Et=null,Je=null,De=!1,Ss=null,yn=!1,Hu=Error(i(519));function Ts(e){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pi(pn(n,e)),Hu}function Yd(e){var n=e.stateNode,s=e.type,r=e.memoizedProps;switch(n[Ct]=e,n[Ft]=r,s){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(s=0;s<br.length;s++)Ce(br[s],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Ce("invalid",n),sd(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ce("invalid",n);break;case"textarea":Ce("invalid",n),id(n,r.value,r.defaultValue,r.children)}s=r.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||r.suppressHydrationWarning===!0||lg(n.textContent,s)?(r.popover!=null&&(Ce("beforetoggle",n),Ce("toggle",n)),r.onScroll!=null&&Ce("scroll",n),r.onScrollEnd!=null&&Ce("scrollend",n),r.onClick!=null&&(n.onclick=Xn),n=!0):n=!1,n||Ts(e,!0)}function Id(e){for(Et=e.return;Et;)switch(Et.tag){case 5:case 31:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:Et=Et.return}}function ti(e){if(e!==Et)return!1;if(!De)return Id(e),De=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||rh(e.type,e.memoizedProps)),s=!s),s&&Je&&Ts(e),Id(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Je=gg(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Je=gg(e)}else n===27?(n=Je,zs(e.type)?(e=hh,hh=null,Je=e):Je=n):Je=Et?vn(e.stateNode.nextSibling):null;return!0}function la(){Je=Et=null,De=!1}function Gu(){var e=Ss;return e!==null&&(Xt===null?Xt=e:Xt.push.apply(Xt,e),Ss=null),e}function Pi(e){Ss===null?Ss=[e]:Ss.push(e)}var Yu=C(null),oa=null,Kn=null;function xs(e,n,s){te(Yu,n._currentValue),n._currentValue=s}function Jn(e){e._currentValue=Yu.current,H(Yu)}function Iu(e,n,s){for(;e!==null;){var r=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),e===s)break;e=e.return}}function Xu(e,n,s,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var g=u.child;h=h.firstContext;e:for(;h!==null;){var v=h;h=u;for(var N=0;N<n.length;N++)if(v.context===n[N]){h.lanes|=s,v=h.alternate,v!==null&&(v.lanes|=s),Iu(h.return,s,e),r||(g=null);break e}h=v.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(i(341));g.lanes|=s,h=g.alternate,h!==null&&(h.lanes|=s),Iu(g,s,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function ni(e,n,s,r){e=null;for(var u=n,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(i(387));if(g=g.memoizedProps,g!==null){var v=u.type;Pt(u.pendingProps.value,g.value)||(e!==null?e.push(v):e=[v])}}else if(u===he.current){if(g=u.alternate,g===null)throw Error(i(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(wr):e=[wr])}u=u.return}e!==null&&Xu(n,e,s,r),n.flags|=262144}function yl(e){for(e=e.firstContext;e!==null;){if(!Pt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ua(e){oa=e,Kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nt(e){return Xd(oa,e)}function _l(e,n){return oa===null&&ua(e),Xd(e,n)}function Xd(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Kn===null){if(e===null)throw Error(i(308));Kn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Kn=Kn.next=n;return s}var gv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,r){e.push(r)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},yv=l.unstable_scheduleCallback,_v=l.unstable_NormalPriority,dt={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qu(){return{controller:new gv,data:new Map,refCount:0}}function $i(e){e.refCount--,e.refCount===0&&yv(_v,function(){e.controller.abort()})}var er=null,Zu=0,si=0,ai=null;function vv(e,n){if(er===null){var s=er=[];Zu=0,si=Jc(),ai={status:"pending",value:void 0,then:function(r){s.push(r)}}}return Zu++,n.then(Qd,Qd),n}function Qd(){if(--Zu===0&&er!==null){ai!==null&&(ai.status="fulfilled");var e=er;er=null,si=0,ai=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function bv(e,n){var s=[],r={status:"pending",value:null,reason:null,then:function(u){s.push(u)}};return e.then(function(){r.status="fulfilled",r.value=n;for(var u=0;u<s.length;u++)(0,s[u])(n)},function(u){for(r.status="rejected",r.reason=u,u=0;u<s.length;u++)(0,s[u])(void 0)}),r}var Zd=q.S;q.S=function(e,n){Dm=wt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&vv(e,n),Zd!==null&&Zd(e,n)};var ca=C(null);function Wu(){var e=ca.current;return e!==null?e:Ie.pooledCache}function vl(e,n){n===null?te(ca,ca.current):te(ca,n.pool)}function Wd(){var e=Wu();return e===null?null:{parent:dt._currentValue,pool:e}}var ii=Error(i(460)),Ku=Error(i(474)),bl=Error(i(542)),Sl={then:function(){}};function Kd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jd(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Xn,Xn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$d(e),e;default:if(typeof n.status=="string")n.then(Xn,Xn);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(r){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=r}},function(r){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$d(e),e}throw fa=n,ii}}function ha(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(fa=s,ii):s}}var fa=null;function Pd(){if(fa===null)throw Error(i(459));var e=fa;return fa=null,e}function $d(e){if(e===ii||e===bl)throw Error(i(483))}var ri=null,tr=0;function Tl(e){var n=tr;return tr+=1,ri===null&&(ri=[]),Jd(ri,e,n)}function nr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xl(e,n){throw n.$$typeof===b?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ep(e){function n(U,D){if(e){var L=U.deletions;L===null?(U.deletions=[D],U.flags|=16):L.push(D)}}function s(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function r(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function u(U,D){return U=Zn(U,D),U.index=0,U.sibling=null,U}function h(U,D,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<D?(U.flags|=67108866,D):L):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function v(U,D,L,P){return D===null||D.tag!==6?(D=Uu(L,U.mode,P),D.return=U,D):(D=u(D,L),D.return=U,D)}function N(U,D,L,P){var ge=L.type;return ge===A?K(U,D,L.props.children,P,L.key):D!==null&&(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===z&&ha(ge)===D.type)?(D=u(D,L.props),nr(D,L),D.return=U,D):(D=ml(L.type,L.key,L.props,null,U.mode,P),nr(D,L),D.return=U,D)}function F(U,D,L,P){return D===null||D.tag!==4||D.stateNode.containerInfo!==L.containerInfo||D.stateNode.implementation!==L.implementation?(D=Bu(L,U.mode,P),D.return=U,D):(D=u(D,L.children||[]),D.return=U,D)}function K(U,D,L,P,ge){return D===null||D.tag!==7?(D=ra(L,U.mode,P,ge),D.return=U,D):(D=u(D,L),D.return=U,D)}function ee(U,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Uu(""+D,U.mode,L),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case T:return L=ml(D.type,D.key,D.props,null,U.mode,L),nr(L,D),L.return=U,L;case S:return D=Bu(D,U.mode,L),D.return=U,D;case z:return D=ha(D),ee(U,D,L)}if(ce(D)||G(D))return D=ra(D,U.mode,L,null),D.return=U,D;if(typeof D.then=="function")return ee(U,Tl(D),L);if(D.$$typeof===B)return ee(U,_l(U,D),L);xl(U,D)}return null}function Y(U,D,L,P){var ge=D!==null?D.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ge!==null?null:v(U,D,""+L,P);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return L.key===ge?N(U,D,L,P):null;case S:return L.key===ge?F(U,D,L,P):null;case z:return L=ha(L),Y(U,D,L,P)}if(ce(L)||G(L))return ge!==null?null:K(U,D,L,P,null);if(typeof L.then=="function")return Y(U,D,Tl(L),P);if(L.$$typeof===B)return Y(U,D,_l(U,L),P);xl(U,L)}return null}function X(U,D,L,P,ge){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return U=U.get(L)||null,v(D,U,""+P,ge);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case T:return U=U.get(P.key===null?L:P.key)||null,N(D,U,P,ge);case S:return U=U.get(P.key===null?L:P.key)||null,F(D,U,P,ge);case z:return P=ha(P),X(U,D,L,P,ge)}if(ce(P)||G(P))return U=U.get(L)||null,K(D,U,P,ge,null);if(typeof P.then=="function")return X(U,D,L,Tl(P),ge);if(P.$$typeof===B)return X(U,D,L,_l(D,P),ge);xl(D,P)}return null}function fe(U,D,L,P){for(var ge=null,ke=null,pe=D,xe=D=0,Ne=null;pe!==null&&xe<L.length;xe++){pe.index>xe?(Ne=pe,pe=null):Ne=pe.sibling;var Re=Y(U,pe,L[xe],P);if(Re===null){pe===null&&(pe=Ne);break}e&&pe&&Re.alternate===null&&n(U,pe),D=h(Re,D,xe),ke===null?ge=Re:ke.sibling=Re,ke=Re,pe=Ne}if(xe===L.length)return s(U,pe),De&&Wn(U,xe),ge;if(pe===null){for(;xe<L.length;xe++)pe=ee(U,L[xe],P),pe!==null&&(D=h(pe,D,xe),ke===null?ge=pe:ke.sibling=pe,ke=pe);return De&&Wn(U,xe),ge}for(pe=r(pe);xe<L.length;xe++)Ne=X(pe,U,xe,L[xe],P),Ne!==null&&(e&&Ne.alternate!==null&&pe.delete(Ne.key===null?xe:Ne.key),D=h(Ne,D,xe),ke===null?ge=Ne:ke.sibling=Ne,ke=Ne);return e&&pe.forEach(function(Fs){return n(U,Fs)}),De&&Wn(U,xe),ge}function be(U,D,L,P){if(L==null)throw Error(i(151));for(var ge=null,ke=null,pe=D,xe=D=0,Ne=null,Re=L.next();pe!==null&&!Re.done;xe++,Re=L.next()){pe.index>xe?(Ne=pe,pe=null):Ne=pe.sibling;var Fs=Y(U,pe,Re.value,P);if(Fs===null){pe===null&&(pe=Ne);break}e&&pe&&Fs.alternate===null&&n(U,pe),D=h(Fs,D,xe),ke===null?ge=Fs:ke.sibling=Fs,ke=Fs,pe=Ne}if(Re.done)return s(U,pe),De&&Wn(U,xe),ge;if(pe===null){for(;!Re.done;xe++,Re=L.next())Re=ee(U,Re.value,P),Re!==null&&(D=h(Re,D,xe),ke===null?ge=Re:ke.sibling=Re,ke=Re);return De&&Wn(U,xe),ge}for(pe=r(pe);!Re.done;xe++,Re=L.next())Re=X(pe,U,xe,Re.value,P),Re!==null&&(e&&Re.alternate!==null&&pe.delete(Re.key===null?xe:Re.key),D=h(Re,D,xe),ke===null?ge=Re:ke.sibling=Re,ke=Re);return e&&pe.forEach(function(Db){return n(U,Db)}),De&&Wn(U,xe),ge}function Ge(U,D,L,P){if(typeof L=="object"&&L!==null&&L.type===A&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case T:e:{for(var ge=L.key;D!==null;){if(D.key===ge){if(ge=L.type,ge===A){if(D.tag===7){s(U,D.sibling),P=u(D,L.props.children),P.return=U,U=P;break e}}else if(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===z&&ha(ge)===D.type){s(U,D.sibling),P=u(D,L.props),nr(P,L),P.return=U,U=P;break e}s(U,D);break}else n(U,D);D=D.sibling}L.type===A?(P=ra(L.props.children,U.mode,P,L.key),P.return=U,U=P):(P=ml(L.type,L.key,L.props,null,U.mode,P),nr(P,L),P.return=U,U=P)}return g(U);case S:e:{for(ge=L.key;D!==null;){if(D.key===ge)if(D.tag===4&&D.stateNode.containerInfo===L.containerInfo&&D.stateNode.implementation===L.implementation){s(U,D.sibling),P=u(D,L.children||[]),P.return=U,U=P;break e}else{s(U,D);break}else n(U,D);D=D.sibling}P=Bu(L,U.mode,P),P.return=U,U=P}return g(U);case z:return L=ha(L),Ge(U,D,L,P)}if(ce(L))return fe(U,D,L,P);if(G(L)){if(ge=G(L),typeof ge!="function")throw Error(i(150));return L=ge.call(L),be(U,D,L,P)}if(typeof L.then=="function")return Ge(U,D,Tl(L),P);if(L.$$typeof===B)return Ge(U,D,_l(U,L),P);xl(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,D!==null&&D.tag===6?(s(U,D.sibling),P=u(D,L),P.return=U,U=P):(s(U,D),P=Uu(L,U.mode,P),P.return=U,U=P),g(U)):s(U,D)}return function(U,D,L,P){try{tr=0;var ge=Ge(U,D,L,P);return ri=null,ge}catch(pe){if(pe===ii||pe===bl)throw pe;var ke=$t(29,pe,null,U.mode);return ke.lanes=P,ke.return=U,ke}finally{}}}var da=ep(!0),tp=ep(!1),As=!1;function Ju(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(e,n,s){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(qe&2)!==0){var u=r.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),r.pending=n,n=pl(e),Ud(e,null,s),n}return dl(e,r,n,s),pl(e)}function sr(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,Xf(e,s)}}function $u(e,n){var s=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,s===r)){var u=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?u=h=g:h=h.next=g,s=s.next}while(s!==null);h===null?u=h=n:h=h.next=n}else u=h=n;s={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:r.shared,callbacks:r.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var ec=!1;function ar(){if(ec){var e=ai;if(e!==null)throw e}}function ir(e,n,s,r){ec=!1;var u=e.updateQueue;As=!1;var h=u.firstBaseUpdate,g=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var N=v,F=N.next;N.next=null,g===null?h=F:g.next=F,g=N;var K=e.alternate;K!==null&&(K=K.updateQueue,v=K.lastBaseUpdate,v!==g&&(v===null?K.firstBaseUpdate=F:v.next=F,K.lastBaseUpdate=N))}if(h!==null){var ee=u.baseState;g=0,K=F=N=null,v=h;do{var Y=v.lane&-536870913,X=Y!==v.lane;if(X?(Ee&Y)===Y:(r&Y)===Y){Y!==0&&Y===si&&(ec=!0),K!==null&&(K=K.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var fe=e,be=v;Y=n;var Ge=s;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){ee=fe.call(Ge,ee,Y);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,Y=typeof fe=="function"?fe.call(Ge,ee,Y):fe,Y==null)break e;ee=_({},ee,Y);break e;case 2:As=!0}}Y=v.callback,Y!==null&&(e.flags|=64,X&&(e.flags|=8192),X=u.callbacks,X===null?u.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:v.tag,payload:v.payload,callback:v.callback,next:null},K===null?(F=K=X,N=ee):K=K.next=X,g|=Y;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;X=v,v=X.next,X.next=null,u.lastBaseUpdate=X,u.shared.pending=null}}while(!0);K===null&&(N=ee),u.baseState=N,u.firstBaseUpdate=F,u.lastBaseUpdate=K,h===null&&(u.shared.lanes=0),Ds|=g,e.lanes=g,e.memoizedState=ee}}function np(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function sp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)np(s[e],n)}var li=C(null),Al=C(0);function ap(e,n){e=rs,te(Al,e),te(li,n),rs=e|n.baseLanes}function tc(){te(Al,rs),te(li,li.current)}function nc(){rs=Al.current,H(li),H(Al)}var en=C(null),_n=null;function Es(e){var n=e.alternate;te(ut,ut.current&1),te(en,e),_n===null&&(n===null||li.current!==null||n.memoizedState!==null)&&(_n=e)}function sc(e){te(ut,ut.current),te(en,e),_n===null&&(_n=e)}function ip(e){e.tag===22?(te(ut,ut.current),te(en,e),_n===null&&(_n=e)):Ns()}function Ns(){te(ut,ut.current),te(en,en.current)}function tn(e){H(en),_n===e&&(_n=null),H(ut)}var ut=C(0);function wl(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||uh(s)||ch(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pn=0,Te=null,Fe=null,pt=null,Cl=!1,oi=!1,pa=!1,El=0,rr=0,ui=null,Sv=0;function at(){throw Error(i(321))}function ac(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Pt(e[s],n[s]))return!1;return!0}function ic(e,n,s,r,u,h){return Pn=h,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?Hp:bc,pa=!1,h=s(r,u),pa=!1,oi&&(h=lp(n,s,r,u)),rp(e),h}function rp(e){q.H=ur;var n=Fe!==null&&Fe.next!==null;if(Pn=0,pt=Fe=Te=null,Cl=!1,rr=0,ui=null,n)throw Error(i(300));e===null||mt||(e=e.dependencies,e!==null&&yl(e)&&(mt=!0))}function lp(e,n,s,r){Te=e;var u=0;do{if(oi&&(ui=null),rr=0,oi=!1,25<=u)throw Error(i(301));if(u+=1,pt=Fe=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}q.H=Gp,h=n(s,r)}while(oi);return h}function Tv(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?lr(n):n,e=e.useState()[0],(Fe!==null?Fe.memoizedState:null)!==e&&(Te.flags|=1024),n}function rc(){var e=El!==0;return El=0,e}function lc(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function oc(e){if(Cl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Cl=!1}Pn=0,pt=Fe=Te=null,oi=!1,rr=El=0,ui=null}function zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Te.memoizedState=pt=e:pt=pt.next=e,pt}function ct(){if(Fe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var n=pt===null?Te.memoizedState:pt.next;if(n!==null)pt=n,Fe=e;else{if(e===null)throw Te.alternate===null?Error(i(467)):Error(i(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},pt===null?Te.memoizedState=pt=e:pt=pt.next=e}return pt}function Nl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lr(e){var n=rr;return rr+=1,ui===null&&(ui=[]),e=Jd(ui,e,n),n=Te,(pt===null?n.memoizedState:pt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Hp:bc),e}function Ol(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return lr(e);if(e.$$typeof===B)return Nt(e)}throw Error(i(438,String(e)))}function uc(e){var n=null,s=Te.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var r=Te.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Nl(),Te.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),r=0;r<e;r++)s[r]=$;return n.index++,s}function $n(e,n){return typeof n=="function"?n(e):n}function Ml(e){var n=ct();return cc(n,Fe,e)}function cc(e,n,s){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=s;var u=e.baseQueue,h=r.pending;if(h!==null){if(u!==null){var g=u.next;u.next=h.next,h.next=g}n.baseQueue=u=h,r.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{n=u.next;var v=g=null,N=null,F=n,K=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Ee&ee)===ee:(Pn&ee)===ee){var Y=F.revertLane;if(Y===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===si&&(K=!0);else if((Pn&Y)===Y){F=F.next,Y===si&&(K=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(v=N=ee,g=h):N=N.next=ee,Te.lanes|=Y,Ds|=Y;ee=F.action,pa&&s(h,ee),h=F.hasEagerState?F.eagerState:s(h,ee)}else Y={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(v=N=Y,g=h):N=N.next=Y,Te.lanes|=ee,Ds|=ee;F=F.next}while(F!==null&&F!==n);if(N===null?g=h:N.next=v,!Pt(h,e.memoizedState)&&(mt=!0,K&&(s=ai,s!==null)))throw s;e.memoizedState=h,e.baseState=g,e.baseQueue=N,r.lastRenderedState=h}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function hc(e){var n=ct(),s=n.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=e;var r=s.dispatch,u=s.pending,h=n.memoizedState;if(u!==null){s.pending=null;var g=u=u.next;do h=e(h,g.action),g=g.next;while(g!==u);Pt(h,n.memoizedState)||(mt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),s.lastRenderedState=h}return[h,r]}function op(e,n,s){var r=Te,u=ct(),h=De;if(h){if(s===void 0)throw Error(i(407));s=s()}else s=n();var g=!Pt((Fe||u).memoizedState,s);if(g&&(u.memoizedState=s,mt=!0),u=u.queue,pc(hp.bind(null,r,u,e),[e]),u.getSnapshot!==n||g||pt!==null&&pt.memoizedState.tag&1){if(r.flags|=2048,ci(9,{destroy:void 0},cp.bind(null,r,u,s,n),null),Ie===null)throw Error(i(349));h||(Pn&127)!==0||up(r,n,s)}return s}function up(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Te.updateQueue,n===null?(n=Nl(),Te.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function cp(e,n,s,r){n.value=s,n.getSnapshot=r,fp(n)&&dp(e)}function hp(e,n,s){return s(function(){fp(n)&&dp(e)})}function fp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Pt(e,s)}catch{return!0}}function dp(e){var n=ia(e,2);n!==null&&Qt(n,e,2)}function fc(e){var n=zt();if(typeof e=="function"){var s=e;if(e=s(),pa){ys(!0);try{s()}finally{ys(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:e},n}function pp(e,n,s,r){return e.baseState=s,cc(e,Fe,typeof r=="function"?r:$n)}function xv(e,n,s,r,u){if(Rl(e))throw Error(i(485));if(e=n.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};q.T!==null?s(!0):h.isTransition=!1,r(h),s=n.pending,s===null?(h.next=n.pending=h,mp(n,h)):(h.next=s.next,n.pending=s.next=h)}}function mp(e,n){var s=n.action,r=n.payload,u=e.state;if(n.isTransition){var h=q.T,g={};q.T=g;try{var v=s(u,r),N=q.S;N!==null&&N(g,v),gp(e,n,v)}catch(F){dc(e,n,F)}finally{h!==null&&g.types!==null&&(h.types=g.types),q.T=h}}else try{h=s(u,r),gp(e,n,h)}catch(F){dc(e,n,F)}}function gp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(r){yp(e,n,r)},function(r){return dc(e,n,r)}):yp(e,n,s)}function yp(e,n,s){n.status="fulfilled",n.value=s,_p(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,mp(e,s)))}function dc(e,n,s){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=s,_p(n),n=n.next;while(n!==r)}e.action=null}function _p(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function vp(e,n){return n}function bp(e,n){if(De){var s=Ie.formState;if(s!==null){e:{var r=Te;if(De){if(Je){t:{for(var u=Je,h=yn;u.nodeType!==8;){if(!h){u=null;break t}if(u=vn(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){Je=vn(u.nextSibling),r=u.data==="F!";break e}}Ts(r)}r=!1}r&&(n=s[0])}}return s=zt(),s.memoizedState=s.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:n},s.queue=r,s=Bp.bind(null,Te,r),r.dispatch=s,r=fc(!1),h=vc.bind(null,Te,!1,r.queue),r=zt(),u={state:n,dispatch:null,action:e,pending:null},r.queue=u,s=xv.bind(null,Te,u,h,s),u.dispatch=s,r.memoizedState=e,[n,s,!1]}function Sp(e){var n=ct();return Tp(n,Fe,e)}function Tp(e,n,s){if(n=cc(e,n,vp)[0],e=Ml($n)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=lr(n)}catch(g){throw g===ii?bl:g}else r=n;n=ct();var u=n.queue,h=u.dispatch;return s!==n.memoizedState&&(Te.flags|=2048,ci(9,{destroy:void 0},Av.bind(null,u,s),null)),[r,h,e]}function Av(e,n){e.action=n}function xp(e){var n=ct(),s=Fe;if(s!==null)return Tp(n,s,e);ct(),n=n.memoizedState,s=ct();var r=s.queue.dispatch;return s.memoizedState=e,[n,r,!1]}function ci(e,n,s,r){return e={tag:e,create:s,deps:r,inst:n,next:null},n=Te.updateQueue,n===null&&(n=Nl(),Te.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(r=s.next,s.next=e,e.next=r,n.lastEffect=e),e}function Ap(){return ct().memoizedState}function Dl(e,n,s,r){var u=zt();Te.flags|=e,u.memoizedState=ci(1|n,{destroy:void 0},s,r===void 0?null:r)}function kl(e,n,s,r){var u=ct();r=r===void 0?null:r;var h=u.memoizedState.inst;Fe!==null&&r!==null&&ac(r,Fe.memoizedState.deps)?u.memoizedState=ci(n,h,s,r):(Te.flags|=e,u.memoizedState=ci(1|n,h,s,r))}function wp(e,n){Dl(8390656,8,e,n)}function pc(e,n){kl(2048,8,e,n)}function wv(e){Te.flags|=4;var n=Te.updateQueue;if(n===null)n=Nl(),Te.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Cp(e){var n=ct().memoizedState;return wv({ref:n,nextImpl:e}),function(){if((qe&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function Ep(e,n){return kl(4,2,e,n)}function Np(e,n){return kl(4,4,e,n)}function Op(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Mp(e,n,s){s=s!=null?s.concat([e]):null,kl(4,4,Op.bind(null,n,e),s)}function mc(){}function Dp(e,n){var s=ct();n=n===void 0?null:n;var r=s.memoizedState;return n!==null&&ac(n,r[1])?r[0]:(s.memoizedState=[e,n],e)}function kp(e,n){var s=ct();n=n===void 0?null:n;var r=s.memoizedState;if(n!==null&&ac(n,r[1]))return r[0];if(r=e(),pa){ys(!0);try{e()}finally{ys(!1)}}return s.memoizedState=[r,n],r}function gc(e,n,s){return s===void 0||(Pn&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Rm(),Te.lanes|=e,Ds|=e,s)}function Rp(e,n,s,r){return Pt(s,n)?s:li.current!==null?(e=gc(e,s,r),Pt(e,n)||(mt=!0),e):(Pn&42)===0||(Pn&1073741824)!==0&&(Ee&261930)===0?(mt=!0,e.memoizedState=s):(e=Rm(),Te.lanes|=e,Ds|=e,n)}function qp(e,n,s,r,u){var h=I.p;I.p=h!==0&&8>h?h:8;var g=q.T,v={};q.T=v,vc(e,!1,n,s);try{var N=u(),F=q.S;if(F!==null&&F(v,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=bv(N,r);or(e,n,K,an(e))}else or(e,n,r,an(e))}catch(ee){or(e,n,{then:function(){},status:"rejected",reason:ee},an())}finally{I.p=h,g!==null&&v.types!==null&&(g.types=v.types),q.T=g}}function Cv(){}function yc(e,n,s,r){if(e.tag!==5)throw Error(i(476));var u=jp(e).queue;qp(e,u,n,Q,s===null?Cv:function(){return zp(e),s(r)})}function jp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:Q},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function zp(e){var n=jp(e);n.next===null&&(n=e.alternate.memoizedState),or(e,n.next.queue,{},an())}function _c(){return Nt(wr)}function Vp(){return ct().memoizedState}function Up(){return ct().memoizedState}function Ev(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=an();e=ws(s);var r=Cs(n,e,s);r!==null&&(Qt(r,n,s),sr(r,n,s)),n={cache:Qu()},e.payload=n;return}n=n.return}}function Nv(e,n,s){var r=an();s={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Rl(e)?Lp(n,s):(s=zu(e,n,s,r),s!==null&&(Qt(s,e,r),Fp(s,n,r)))}function Bp(e,n,s){var r=an();or(e,n,s,r)}function or(e,n,s,r){var u={lane:r,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Rl(e))Lp(n,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,v=h(g,s);if(u.hasEagerState=!0,u.eagerState=v,Pt(v,g))return dl(e,n,u,0),Ie===null&&fl(),!1}catch{}finally{}if(s=zu(e,n,u,r),s!==null)return Qt(s,e,r),Fp(s,n,r),!0}return!1}function vc(e,n,s,r){if(r={lane:2,revertLane:Jc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Rl(e)){if(n)throw Error(i(479))}else n=zu(e,s,r,2),n!==null&&Qt(n,e,2)}function Rl(e){var n=e.alternate;return e===Te||n!==null&&n===Te}function Lp(e,n){oi=Cl=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Fp(e,n,s){if((s&4194048)!==0){var r=n.lanes;r&=e.pendingLanes,s|=r,n.lanes=s,Xf(e,s)}}var ur={readContext:Nt,use:Ol,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};ur.useEffectEvent=at;var Hp={readContext:Nt,use:Ol,useCallback:function(e,n){return zt().memoizedState=[e,n===void 0?null:n],e},useContext:Nt,useEffect:wp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Dl(4194308,4,Op.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Dl(4194308,4,e,n)},useInsertionEffect:function(e,n){Dl(4,2,e,n)},useMemo:function(e,n){var s=zt();n=n===void 0?null:n;var r=e();if(pa){ys(!0);try{e()}finally{ys(!1)}}return s.memoizedState=[r,n],r},useReducer:function(e,n,s){var r=zt();if(s!==void 0){var u=s(n);if(pa){ys(!0);try{s(n)}finally{ys(!1)}}}else u=n;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=Nv.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var n=zt();return e={current:e},n.memoizedState=e},useState:function(e){e=fc(e);var n=e.queue,s=Bp.bind(null,Te,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:mc,useDeferredValue:function(e,n){var s=zt();return gc(s,e,n)},useTransition:function(){var e=fc(!1);return e=qp.bind(null,Te,e.queue,!0,!1),zt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var r=Te,u=zt();if(De){if(s===void 0)throw Error(i(407));s=s()}else{if(s=n(),Ie===null)throw Error(i(349));(Ee&127)!==0||up(r,n,s)}u.memoizedState=s;var h={value:s,getSnapshot:n};return u.queue=h,wp(hp.bind(null,r,h,e),[e]),r.flags|=2048,ci(9,{destroy:void 0},cp.bind(null,r,h,s,n),null),s},useId:function(){var e=zt(),n=Ie.identifierPrefix;if(De){var s=Vn,r=zn;s=(r&~(1<<32-Jt(r)-1)).toString(32)+s,n="_"+n+"R_"+s,s=El++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Sv++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:_c,useFormState:bp,useActionState:bp,useOptimistic:function(e){var n=zt();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=vc.bind(null,Te,!0,s),s.dispatch=n,[e,n]},useMemoCache:uc,useCacheRefresh:function(){return zt().memoizedState=Ev.bind(null,Te)},useEffectEvent:function(e){var n=zt(),s={impl:e};return n.memoizedState=s,function(){if((qe&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}},bc={readContext:Nt,use:Ol,useCallback:Dp,useContext:Nt,useEffect:pc,useImperativeHandle:Mp,useInsertionEffect:Ep,useLayoutEffect:Np,useMemo:kp,useReducer:Ml,useRef:Ap,useState:function(){return Ml($n)},useDebugValue:mc,useDeferredValue:function(e,n){var s=ct();return Rp(s,Fe.memoizedState,e,n)},useTransition:function(){var e=Ml($n)[0],n=ct().memoizedState;return[typeof e=="boolean"?e:lr(e),n]},useSyncExternalStore:op,useId:Vp,useHostTransitionStatus:_c,useFormState:Sp,useActionState:Sp,useOptimistic:function(e,n){var s=ct();return pp(s,Fe,e,n)},useMemoCache:uc,useCacheRefresh:Up};bc.useEffectEvent=Cp;var Gp={readContext:Nt,use:Ol,useCallback:Dp,useContext:Nt,useEffect:pc,useImperativeHandle:Mp,useInsertionEffect:Ep,useLayoutEffect:Np,useMemo:kp,useReducer:hc,useRef:Ap,useState:function(){return hc($n)},useDebugValue:mc,useDeferredValue:function(e,n){var s=ct();return Fe===null?gc(s,e,n):Rp(s,Fe.memoizedState,e,n)},useTransition:function(){var e=hc($n)[0],n=ct().memoizedState;return[typeof e=="boolean"?e:lr(e),n]},useSyncExternalStore:op,useId:Vp,useHostTransitionStatus:_c,useFormState:xp,useActionState:xp,useOptimistic:function(e,n){var s=ct();return Fe!==null?pp(s,Fe,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:uc,useCacheRefresh:Up};Gp.useEffectEvent=Cp;function Sc(e,n,s,r){n=e.memoizedState,s=s(r,n),s=s==null?n:_({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Tc={enqueueSetState:function(e,n,s){e=e._reactInternals;var r=an(),u=ws(r);u.payload=n,s!=null&&(u.callback=s),n=Cs(e,u,r),n!==null&&(Qt(n,e,r),sr(n,e,r))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var r=an(),u=ws(r);u.tag=1,u.payload=n,s!=null&&(u.callback=s),n=Cs(e,u,r),n!==null&&(Qt(n,e,r),sr(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=an(),r=ws(s);r.tag=2,n!=null&&(r.callback=n),n=Cs(e,r,s),n!==null&&(Qt(n,e,s),sr(n,e,s))}};function Yp(e,n,s,r,u,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,h,g):n.prototype&&n.prototype.isPureReactComponent?!Wi(s,r)||!Wi(u,h):!0}function Ip(e,n,s,r){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,r),n.state!==e&&Tc.enqueueReplaceState(n,n.state,null)}function ma(e,n){var s=n;if("ref"in n){s={};for(var r in n)r!=="ref"&&(s[r]=n[r])}if(e=e.defaultProps){s===n&&(s=_({},s));for(var u in e)s[u]===void 0&&(s[u]=e[u])}return s}function Xp(e){hl(e)}function Qp(e){console.error(e)}function Zp(e){hl(e)}function ql(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function Wp(e,n,s){try{var r=e.onCaughtError;r(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function xc(e,n,s){return s=ws(s),s.tag=3,s.payload={element:null},s.callback=function(){ql(e,n)},s}function Kp(e){return e=ws(e),e.tag=3,e}function Jp(e,n,s,r){var u=s.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;e.payload=function(){return u(h)},e.callback=function(){Wp(n,s,r)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Wp(n,s,r),typeof u!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})})}function Ov(e,n,s,r,u){if(s.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=s.alternate,n!==null&&ni(n,s,u,!0),s=en.current,s!==null){switch(s.tag){case 31:case 13:return _n===null?Xl():s.alternate===null&&it===0&&(it=3),s.flags&=-257,s.flags|=65536,s.lanes=u,r===Sl?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([r]):n.add(r),Zc(e,r,u)),!1;case 22:return s.flags|=65536,r===Sl?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([r]):s.add(r)),Zc(e,r,u)),!1}throw Error(i(435,s.tag))}return Zc(e,r,u),Xl(),!1}if(De)return n=en.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,r!==Hu&&(e=Error(i(422),{cause:r}),Pi(pn(e,s)))):(r!==Hu&&(n=Error(i(423),{cause:r}),Pi(pn(n,s))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=pn(r,s),u=xc(e.stateNode,r,u),$u(e,u),it!==4&&(it=2)),!1;var h=Error(i(520),{cause:r});if(h=pn(h,s),yr===null?yr=[h]:yr.push(h),it!==4&&(it=2),n===null)return!0;r=pn(r,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=u&-u,s.lanes|=e,e=xc(s.stateNode,r,e),$u(s,e),!1;case 1:if(n=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ks===null||!ks.has(h))))return s.flags|=65536,u&=-u,s.lanes|=u,u=Kp(u),Jp(u,e,s,r),$u(s,u),!1}s=s.return}while(s!==null);return!1}var Ac=Error(i(461)),mt=!1;function Ot(e,n,s,r){n.child=e===null?tp(n,null,s,r):da(n,e.child,s,r)}function Pp(e,n,s,r,u){s=s.render;var h=n.ref;if("ref"in r){var g={};for(var v in r)v!=="ref"&&(g[v]=r[v])}else g=r;return ua(n),r=ic(e,n,s,g,h,u),v=rc(),e!==null&&!mt?(lc(e,n,u),es(e,n,u)):(De&&v&&Lu(n),n.flags|=1,Ot(e,n,r,u),n.child)}function $p(e,n,s,r,u){if(e===null){var h=s.type;return typeof h=="function"&&!Vu(h)&&h.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=h,em(e,n,h,r,u)):(e=ml(s.type,null,r,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!kc(e,u)){var g=h.memoizedProps;if(s=s.compare,s=s!==null?s:Wi,s(g,r)&&e.ref===n.ref)return es(e,n,u)}return n.flags|=1,e=Zn(h,r),e.ref=n.ref,e.return=n,n.child=e}function em(e,n,s,r,u){if(e!==null){var h=e.memoizedProps;if(Wi(h,r)&&e.ref===n.ref)if(mt=!1,n.pendingProps=r=h,kc(e,u))(e.flags&131072)!==0&&(mt=!0);else return n.lanes=e.lanes,es(e,n,u)}return wc(e,n,s,r,u)}function tm(e,n,s,r){var u=r.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|s:s,e!==null){for(r=n.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;r=u&~h}else r=0,n.child=null;return nm(e,n,h,s,r)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&vl(n,h!==null?h.cachePool:null),h!==null?ap(n,h):tc(),ip(n);else return r=n.lanes=536870912,nm(e,n,h!==null?h.baseLanes|s:s,s,r)}else h!==null?(vl(n,h.cachePool),ap(n,h),Ns(),n.memoizedState=null):(e!==null&&vl(n,null),tc(),Ns());return Ot(e,n,u,s),n.child}function cr(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function nm(e,n,s,r,u){var h=Wu();return h=h===null?null:{parent:dt._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},e!==null&&vl(n,null),tc(),ip(n),e!==null&&ni(e,n,r,!0),n.childLanes=u,null}function jl(e,n){return n=Vl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function sm(e,n,s){return da(n,e.child,null,s),e=jl(n,n.pendingProps),e.flags|=2,tn(n),n.memoizedState=null,e}function Mv(e,n,s){var r=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(De){if(r.mode==="hidden")return e=jl(n,r),n.lanes=536870912,cr(null,e);if(sc(n),(e=Je)?(e=mg(e,yn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:zn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},s=Ld(e),s.return=n,n.child=s,Et=n,Je=null)):e=null,e===null)throw Ts(n);return n.lanes=536870912,null}return jl(n,r)}var h=e.memoizedState;if(h!==null){var g=h.dehydrated;if(sc(n),u)if(n.flags&256)n.flags&=-257,n=sm(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(i(558));else if(mt||ni(e,n,s,!1),u=(s&e.childLanes)!==0,mt||u){if(r=Ie,r!==null&&(g=Qf(r,s),g!==0&&g!==h.retryLane))throw h.retryLane=g,ia(e,g),Qt(r,e,g),Ac;Xl(),n=sm(e,n,s)}else e=h.treeContext,Je=vn(g.nextSibling),Et=n,De=!0,Ss=null,yn=!1,e!==null&&Gd(n,e),n=jl(n,r),n.flags|=4096;return n}return e=Zn(e.child,{mode:r.mode,children:r.children}),e.ref=n.ref,n.child=e,e.return=n,e}function zl(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function wc(e,n,s,r,u){return ua(n),s=ic(e,n,s,r,void 0,u),r=rc(),e!==null&&!mt?(lc(e,n,u),es(e,n,u)):(De&&r&&Lu(n),n.flags|=1,Ot(e,n,s,u),n.child)}function am(e,n,s,r,u,h){return ua(n),n.updateQueue=null,s=lp(n,r,s,u),rp(e),r=rc(),e!==null&&!mt?(lc(e,n,h),es(e,n,h)):(De&&r&&Lu(n),n.flags|=1,Ot(e,n,s,h),n.child)}function im(e,n,s,r,u){if(ua(n),n.stateNode===null){var h=Pa,g=s.contextType;typeof g=="object"&&g!==null&&(h=Nt(g)),h=new s(r,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Tc,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=r,h.state=n.memoizedState,h.refs={},Ju(n),g=s.contextType,h.context=typeof g=="object"&&g!==null?Nt(g):Pa,h.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Sc(n,s,g,r),h.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Tc.enqueueReplaceState(h,h.state,null),ir(n,r,h,u),ar(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(e===null){h=n.stateNode;var v=n.memoizedProps,N=ma(s,v);h.props=N;var F=h.context,K=s.contextType;g=Pa,typeof K=="object"&&K!==null&&(g=Nt(K));var ee=s.getDerivedStateFromProps;K=typeof ee=="function"||typeof h.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,K||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(v||F!==g)&&Ip(n,h,r,g),As=!1;var Y=n.memoizedState;h.state=Y,ir(n,r,h,u),ar(),F=n.memoizedState,v||Y!==F||As?(typeof ee=="function"&&(Sc(n,s,ee,r),F=n.memoizedState),(N=As||Yp(n,s,N,r,Y,F,g))?(K||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=F),h.props=r,h.state=F,h.context=g,r=N):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{h=n.stateNode,Pu(e,n),g=n.memoizedProps,K=ma(s,g),h.props=K,ee=n.pendingProps,Y=h.context,F=s.contextType,N=Pa,typeof F=="object"&&F!==null&&(N=Nt(F)),v=s.getDerivedStateFromProps,(F=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==ee||Y!==N)&&Ip(n,h,r,N),As=!1,Y=n.memoizedState,h.state=Y,ir(n,r,h,u),ar();var X=n.memoizedState;g!==ee||Y!==X||As||e!==null&&e.dependencies!==null&&yl(e.dependencies)?(typeof v=="function"&&(Sc(n,s,v,r),X=n.memoizedState),(K=As||Yp(n,s,K,r,Y,X,N)||e!==null&&e.dependencies!==null&&yl(e.dependencies))?(F||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,X,N),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,X,N)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=X),h.props=r,h.state=X,h.context=N,r=K):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),r=!1)}return h=r,zl(e,n),r=(n.flags&128)!==0,h||r?(h=n.stateNode,s=r&&typeof s.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&r?(n.child=da(n,e.child,null,u),n.child=da(n,null,s,u)):Ot(e,n,s,u),n.memoizedState=h.state,e=n.child):e=es(e,n,u),e}function rm(e,n,s,r){return la(),n.flags|=256,Ot(e,n,s,r),n.child}var Cc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ec(e){return{baseLanes:e,cachePool:Wd()}}function Nc(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=sn),e}function lm(e,n,s){var r=n.pendingProps,u=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(ut.current&2)!==0),g&&(u=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(De){if(u?Es(n):Ns(),(e=Je)?(e=mg(e,yn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:zn,overflow:Vn}:null,retryLane:536870912,hydrationErrors:null},s=Ld(e),s.return=n,n.child=s,Et=n,Je=null)):e=null,e===null)throw Ts(n);return ch(e)?n.lanes=32:n.lanes=536870912,null}var v=r.children;return r=r.fallback,u?(Ns(),u=n.mode,v=Vl({mode:"hidden",children:v},u),r=ra(r,u,s,null),v.return=n,r.return=n,v.sibling=r,n.child=v,r=n.child,r.memoizedState=Ec(s),r.childLanes=Nc(e,g,s),n.memoizedState=Cc,cr(null,r)):(Es(n),Oc(n,v))}var N=e.memoizedState;if(N!==null&&(v=N.dehydrated,v!==null)){if(h)n.flags&256?(Es(n),n.flags&=-257,n=Mc(e,n,s)):n.memoizedState!==null?(Ns(),n.child=e.child,n.flags|=128,n=null):(Ns(),v=r.fallback,u=n.mode,r=Vl({mode:"visible",children:r.children},u),v=ra(v,u,s,null),v.flags|=2,r.return=n,v.return=n,r.sibling=v,n.child=r,da(n,e.child,null,s),r=n.child,r.memoizedState=Ec(s),r.childLanes=Nc(e,g,s),n.memoizedState=Cc,n=cr(null,r));else if(Es(n),ch(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var F=g.dgst;g=F,r=Error(i(419)),r.stack="",r.digest=g,Pi({value:r,source:null,stack:null}),n=Mc(e,n,s)}else if(mt||ni(e,n,s,!1),g=(s&e.childLanes)!==0,mt||g){if(g=Ie,g!==null&&(r=Qf(g,s),r!==0&&r!==N.retryLane))throw N.retryLane=r,ia(e,r),Qt(g,e,r),Ac;uh(v)||Xl(),n=Mc(e,n,s)}else uh(v)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,Je=vn(v.nextSibling),Et=n,De=!0,Ss=null,yn=!1,e!==null&&Gd(n,e),n=Oc(n,r.children),n.flags|=4096);return n}return u?(Ns(),v=r.fallback,u=n.mode,N=e.child,F=N.sibling,r=Zn(N,{mode:"hidden",children:r.children}),r.subtreeFlags=N.subtreeFlags&65011712,F!==null?v=Zn(F,v):(v=ra(v,u,s,null),v.flags|=2),v.return=n,r.return=n,r.sibling=v,n.child=r,cr(null,r),r=n.child,v=e.child.memoizedState,v===null?v=Ec(s):(u=v.cachePool,u!==null?(N=dt._currentValue,u=u.parent!==N?{parent:N,pool:N}:u):u=Wd(),v={baseLanes:v.baseLanes|s,cachePool:u}),r.memoizedState=v,r.childLanes=Nc(e,g,s),n.memoizedState=Cc,cr(e.child,r)):(Es(n),s=e.child,e=s.sibling,s=Zn(s,{mode:"visible",children:r.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Oc(e,n){return n=Vl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Vl(e,n){return e=$t(22,e,null,n),e.lanes=0,e}function Mc(e,n,s){return da(n,e.child,null,s),e=Oc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function om(e,n,s){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n),Iu(e.return,n,s)}function Dc(e,n,s,r,u,h){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:s,tailMode:u,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=r,g.tail=s,g.tailMode=u,g.treeForkCount=h)}function um(e,n,s){var r=n.pendingProps,u=r.revealOrder,h=r.tail;r=r.children;var g=ut.current,v=(g&2)!==0;if(v?(g=g&1|2,n.flags|=128):g&=1,te(ut,g),Ot(e,n,r,s),r=De?Ji:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&om(e,s,n);else if(e.tag===19)om(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&wl(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),Dc(n,!1,u,s,h,r);break;case"backwards":case"unstable_legacy-backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&wl(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}Dc(n,!0,s,null,h,r);break;case"together":Dc(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function es(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ds|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ni(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,s=Zn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Zn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function kc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&yl(e)))}function Dv(e,n,s){switch(n.tag){case 3:le(n,n.stateNode.containerInfo),xs(n,dt,e.memoizedState.cache),la();break;case 27:case 5:Le(n);break;case 4:le(n,n.stateNode.containerInfo);break;case 10:xs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,sc(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(Es(n),n.flags|=128,null):(s&n.child.childLanes)!==0?lm(e,n,s):(Es(n),e=es(e,n,s),e!==null?e.sibling:null);Es(n);break;case 19:var u=(e.flags&128)!==0;if(r=(s&n.childLanes)!==0,r||(ni(e,n,s,!1),r=(s&n.childLanes)!==0),u){if(r)return um(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),te(ut,ut.current),r)break;return null;case 22:return n.lanes=0,tm(e,n,s,n.pendingProps);case 24:xs(n,dt,e.memoizedState.cache)}return es(e,n,s)}function cm(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)mt=!0;else{if(!kc(e,s)&&(n.flags&128)===0)return mt=!1,Dv(e,n,s);mt=(e.flags&131072)!==0}else mt=!1,De&&(n.flags&1048576)!==0&&Hd(n,Ji,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(e=ha(n.elementType),n.type=e,typeof e=="function")Vu(e)?(r=ma(e,r),n.tag=1,n=im(null,n,e,r,s)):(n.tag=0,n=wc(null,n,e,r,s));else{if(e!=null){var u=e.$$typeof;if(u===k){n.tag=11,n=Pp(null,n,e,r,s);break e}else if(u===R){n.tag=14,n=$p(null,n,e,r,s);break e}}throw n=ae(e)||e,Error(i(306,n,""))}}return n;case 0:return wc(e,n,n.type,n.pendingProps,s);case 1:return r=n.type,u=ma(r,n.pendingProps),im(e,n,r,u,s);case 3:e:{if(le(n,n.stateNode.containerInfo),e===null)throw Error(i(387));r=n.pendingProps;var h=n.memoizedState;u=h.element,Pu(e,n),ir(n,r,null,s);var g=n.memoizedState;if(r=g.cache,xs(n,dt,r),r!==h.cache&&Xu(n,[dt],s,!0),ar(),r=g.element,h.isDehydrated)if(h={element:r,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=rm(e,n,r,s);break e}else if(r!==u){u=pn(Error(i(424)),n),Pi(u),n=rm(e,n,r,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Je=vn(e.firstChild),Et=n,De=!0,Ss=null,yn=!0,s=tp(n,null,r,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(la(),r===u){n=es(e,n,s);break e}Ot(e,n,r,s)}n=n.child}return n;case 26:return zl(e,n),e===null?(s=Sg(n.type,null,n.pendingProps,null))?n.memoizedState=s:De||(s=n.type,e=n.pendingProps,r=$l(ue.current).createElement(s),r[Ct]=n,r[Ft]=e,Mt(r,s,e),bt(r),n.stateNode=r):n.memoizedState=Sg(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Le(n),e===null&&De&&(r=n.stateNode=_g(n.type,n.pendingProps,ue.current),Et=n,yn=!0,u=Je,zs(n.type)?(hh=u,Je=vn(r.firstChild)):Je=u),Ot(e,n,n.pendingProps.children,s),zl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&De&&((u=r=Je)&&(r=lb(r,n.type,n.pendingProps,yn),r!==null?(n.stateNode=r,Et=n,Je=vn(r.firstChild),yn=!1,u=!0):u=!1),u||Ts(n)),Le(n),u=n.type,h=n.pendingProps,g=e!==null?e.memoizedProps:null,r=h.children,rh(u,h)?r=null:g!==null&&rh(u,g)&&(n.flags|=32),n.memoizedState!==null&&(u=ic(e,n,Tv,null,null,s),wr._currentValue=u),zl(e,n),Ot(e,n,r,s),n.child;case 6:return e===null&&De&&((e=s=Je)&&(s=ob(s,n.pendingProps,yn),s!==null?(n.stateNode=s,Et=n,Je=null,e=!0):e=!1),e||Ts(n)),null;case 13:return lm(e,n,s);case 4:return le(n,n.stateNode.containerInfo),r=n.pendingProps,e===null?n.child=da(n,null,r,s):Ot(e,n,r,s),n.child;case 11:return Pp(e,n,n.type,n.pendingProps,s);case 7:return Ot(e,n,n.pendingProps,s),n.child;case 8:return Ot(e,n,n.pendingProps.children,s),n.child;case 12:return Ot(e,n,n.pendingProps.children,s),n.child;case 10:return r=n.pendingProps,xs(n,n.type,r.value),Ot(e,n,r.children,s),n.child;case 9:return u=n.type._context,r=n.pendingProps.children,ua(n),u=Nt(u),r=r(u),n.flags|=1,Ot(e,n,r,s),n.child;case 14:return $p(e,n,n.type,n.pendingProps,s);case 15:return em(e,n,n.type,n.pendingProps,s);case 19:return um(e,n,s);case 31:return Mv(e,n,s);case 22:return tm(e,n,s,n.pendingProps);case 24:return ua(n),r=Nt(dt),e===null?(u=Wu(),u===null&&(u=Ie,h=Qu(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=s),u=h),n.memoizedState={parent:r,cache:u},Ju(n),xs(n,dt,u)):((e.lanes&s)!==0&&(Pu(e,n),ir(n,null,null,s),ar()),u=e.memoizedState,h=n.memoizedState,u.parent!==r?(u={parent:r,cache:r},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),xs(n,dt,r)):(r=h.cache,xs(n,dt,r),r!==u.cache&&Xu(n,[dt],s,!0))),Ot(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function ts(e){e.flags|=4}function Rc(e,n,s,r,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Vm())e.flags|=8192;else throw fa=Sl,Ku}else e.flags&=-16777217}function hm(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cg(n))if(Vm())e.flags|=8192;else throw fa=Sl,Ku}function Ul(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Yf():536870912,e.lanes|=n,pi|=n)}function hr(e,n){if(!De)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,r=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=s,n}function kv(e,n,s){var r=n.pendingProps;switch(Fu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(n),null;case 1:return Pe(n),null;case 3:return s=n.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Jn(dt),de(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ti(n)?ts(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gu())),Pe(n),null;case 26:var u=n.type,h=n.memoizedState;return e===null?(ts(n),h!==null?(Pe(n),hm(n,h)):(Pe(n),Rc(n,u,null,r,s))):h?h!==e.memoizedState?(ts(n),Pe(n),hm(n,h)):(Pe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==r&&ts(n),Pe(n),Rc(n,u,e,r,s)),null;case 27:if(ft(n),s=ue.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&ts(n);else{if(!r){if(n.stateNode===null)throw Error(i(166));return Pe(n),null}e=re.current,ti(n)?Yd(n):(e=_g(u,r,s),n.stateNode=e,ts(n))}return Pe(n),null;case 5:if(ft(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==r&&ts(n);else{if(!r){if(n.stateNode===null)throw Error(i(166));return Pe(n),null}if(h=re.current,ti(n))Yd(n);else{var g=$l(ue.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof r.is=="string"?g.createElement("select",{is:r.is}):g.createElement("select"),r.multiple?h.multiple=!0:r.size&&(h.size=r.size);break;default:h=typeof r.is=="string"?g.createElement(u,{is:r.is}):g.createElement(u)}}h[Ct]=n,h[Ft]=r;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;e:switch(Mt(h,u,r),u){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ts(n)}}return Pe(n),Rc(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==r&&ts(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(i(166));if(e=ue.current,ti(n)){if(e=n.stateNode,s=n.memoizedProps,r=null,u=Et,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[Ct]=n,e=!!(e.nodeValue===s||r!==null&&r.suppressHydrationWarning===!0||lg(e.nodeValue,s)),e||Ts(n,!0)}else e=$l(e).createTextNode(r),e[Ct]=n,n.stateNode=e}return Pe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(r=ti(n),s!==null){if(e===null){if(!r)throw Error(i(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[Ct]=n}else la(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),e=!1}else s=Gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(tn(n),n):(tn(n),null);if((n.flags&128)!==0)throw Error(i(558))}return Pe(n),null;case 13:if(r=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ti(n),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[Ct]=n}else la(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),u=!1}else u=Gu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(tn(n),n):(tn(n),null)}return tn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=r!==null,e=e!==null&&e.memoizedState!==null,s&&(r=n.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool),h=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(h=r.memoizedState.cachePool.pool),h!==u&&(r.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Ul(n,n.updateQueue),Pe(n),null);case 4:return de(),e===null&&th(n.stateNode.containerInfo),Pe(n),null;case 10:return Jn(n.type),Pe(n),null;case 19:if(H(ut),r=n.memoizedState,r===null)return Pe(n),null;if(u=(n.flags&128)!==0,h=r.rendering,h===null)if(u)hr(r,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=wl(e),h!==null){for(n.flags|=128,hr(r,!1),e=h.updateQueue,n.updateQueue=e,Ul(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Bd(s,e),s=s.sibling;return te(ut,ut.current&1|2),De&&Wn(n,r.treeForkCount),n.child}e=e.sibling}r.tail!==null&&wt()>Gl&&(n.flags|=128,u=!0,hr(r,!1),n.lanes=4194304)}else{if(!u)if(e=wl(h),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,Ul(n,e),hr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!h.alternate&&!De)return Pe(n),null}else 2*wt()-r.renderingStartTime>Gl&&s!==536870912&&(n.flags|=128,u=!0,hr(r,!1),n.lanes=4194304);r.isBackwards?(h.sibling=n.child,n.child=h):(e=r.last,e!==null?e.sibling=h:n.child=h,r.last=h)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=wt(),e.sibling=null,s=ut.current,te(ut,u?s&1|2:s&1),De&&Wn(n,r.treeForkCount),e):(Pe(n),null);case 22:case 23:return tn(n),nc(),r=n.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(s&536870912)!==0&&(n.flags&128)===0&&(Pe(n),n.subtreeFlags&6&&(n.flags|=8192)):Pe(n),s=n.updateQueue,s!==null&&Ul(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==s&&(n.flags|=2048),e!==null&&H(ca),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Jn(dt),Pe(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function Rv(e,n){switch(Fu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Jn(dt),de(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ft(n),null;case 31:if(n.memoizedState!==null){if(tn(n),n.alternate===null)throw Error(i(340));la()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(tn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));la()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(ut),null;case 4:return de(),null;case 10:return Jn(n.type),null;case 22:case 23:return tn(n),nc(),e!==null&&H(ca),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Jn(dt),null;case 25:return null;default:return null}}function fm(e,n){switch(Fu(n),n.tag){case 3:Jn(dt),de();break;case 26:case 27:case 5:ft(n);break;case 4:de();break;case 31:n.memoizedState!==null&&tn(n);break;case 13:tn(n);break;case 19:H(ut);break;case 10:Jn(n.type);break;case 22:case 23:tn(n),nc(),e!==null&&H(ca);break;case 24:Jn(dt)}}function fr(e,n){try{var s=n.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var u=r.next;s=u;do{if((s.tag&e)===e){r=void 0;var h=s.create,g=s.inst;r=h(),g.destroy=r}s=s.next}while(s!==u)}}catch(v){Be(n,n.return,v)}}function Os(e,n,s){try{var r=n.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var h=u.next;r=h;do{if((r.tag&e)===e){var g=r.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,u=n;var N=s,F=v;try{F()}catch(K){Be(u,N,K)}}}r=r.next}while(r!==h)}}catch(K){Be(n,n.return,K)}}function dm(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{sp(n,s)}catch(r){Be(e,e.return,r)}}}function pm(e,n,s){s.props=ma(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(r){Be(e,n,r)}}function dr(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof s=="function"?e.refCleanup=s(r):s.current=r}}catch(u){Be(e,n,u)}}function Un(e,n){var s=e.ref,r=e.refCleanup;if(s!==null)if(typeof r=="function")try{r()}catch(u){Be(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(u){Be(e,n,u)}else s.current=null}function mm(e){var n=e.type,s=e.memoizedProps,r=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break e;case"img":s.src?r.src=s.src:s.srcSet&&(r.srcset=s.srcSet)}}catch(u){Be(e,e.return,u)}}function qc(e,n,s){try{var r=e.stateNode;tb(r,e.type,s,n),r[Ft]=n}catch(u){Be(e,e.return,u)}}function gm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zs(e.type)||e.tag===4}function jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zc(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Xn));else if(r!==4&&(r===27&&zs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(zc(e,n,s),e=e.sibling;e!==null;)zc(e,n,s),e=e.sibling}function Bl(e,n,s){var r=e.tag;if(r===5||r===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(r!==4&&(r===27&&zs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Bl(e,n,s),e=e.sibling;e!==null;)Bl(e,n,s),e=e.sibling}function ym(e){var n=e.stateNode,s=e.memoizedProps;try{for(var r=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);Mt(n,r,s),n[Ct]=e,n[Ft]=s}catch(h){Be(e,e.return,h)}}var ns=!1,gt=!1,Vc=!1,_m=typeof WeakSet=="function"?WeakSet:Set,St=null;function qv(e,n){if(e=e.containerInfo,ah=ro,e=Md(e),Mu(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var r=s.getSelection&&s.getSelection();if(r&&r.rangeCount!==0){s=r.anchorNode;var u=r.anchorOffset,h=r.focusNode;r=r.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var g=0,v=-1,N=-1,F=0,K=0,ee=e,Y=null;t:for(;;){for(var X;ee!==s||u!==0&&ee.nodeType!==3||(v=g+u),ee!==h||r!==0&&ee.nodeType!==3||(N=g+r),ee.nodeType===3&&(g+=ee.nodeValue.length),(X=ee.firstChild)!==null;)Y=ee,ee=X;for(;;){if(ee===e)break t;if(Y===s&&++F===u&&(v=g),Y===h&&++K===r&&(N=g),(X=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=X}s=v===-1||N===-1?null:{start:v,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(ih={focusedElem:e,selectionRange:s},ro=!1,St=n;St!==null;)if(n=St,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,St=e;else for(;St!==null;){switch(n=St,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)u=e[s],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,s=n,u=h.memoizedProps,h=h.memoizedState,r=s.stateNode;try{var fe=ma(s.type,u);e=r.getSnapshotBeforeUpdate(fe,h),r.__reactInternalSnapshotBeforeUpdate=e}catch(be){Be(s,s.return,be)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)oh(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":oh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,St=e;break}St=n.return}}function vm(e,n,s){var r=s.flags;switch(s.tag){case 0:case 11:case 15:as(e,s),r&4&&fr(5,s);break;case 1:if(as(e,s),r&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Be(s,s.return,g)}else{var u=ma(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Be(s,s.return,g)}}r&64&&dm(s),r&512&&dr(s,s.return);break;case 3:if(as(e,s),r&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{sp(e,n)}catch(g){Be(s,s.return,g)}}break;case 27:n===null&&r&4&&ym(s);case 26:case 5:as(e,s),n===null&&r&4&&mm(s),r&512&&dr(s,s.return);break;case 12:as(e,s);break;case 31:as(e,s),r&4&&Tm(e,s);break;case 13:as(e,s),r&4&&xm(e,s),r&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Gv.bind(null,s),ub(e,s))));break;case 22:if(r=s.memoizedState!==null||ns,!r){n=n!==null&&n.memoizedState!==null||gt,u=ns;var h=gt;ns=r,(gt=n)&&!h?is(e,s,(s.subtreeFlags&8772)!==0):as(e,s),ns=u,gt=h}break;case 30:break;default:as(e,s)}}function bm(e){var n=e.alternate;n!==null&&(e.alternate=null,bm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&du(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tt=null,Gt=!1;function ss(e,n,s){for(s=s.child;s!==null;)Sm(e,n,s),s=s.sibling}function Sm(e,n,s){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Vi,s)}catch{}switch(s.tag){case 26:gt||Un(s,n),ss(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:gt||Un(s,n);var r=tt,u=Gt;zs(s.type)&&(tt=s.stateNode,Gt=!1),ss(e,n,s),Tr(s.stateNode),tt=r,Gt=u;break;case 5:gt||Un(s,n);case 6:if(r=tt,u=Gt,tt=null,ss(e,n,s),tt=r,Gt=u,tt!==null)if(Gt)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(s.stateNode)}catch(h){Be(s,n,h)}else try{tt.removeChild(s.stateNode)}catch(h){Be(s,n,h)}break;case 18:tt!==null&&(Gt?(e=tt,dg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ti(e)):dg(tt,s.stateNode));break;case 4:r=tt,u=Gt,tt=s.stateNode.containerInfo,Gt=!0,ss(e,n,s),tt=r,Gt=u;break;case 0:case 11:case 14:case 15:Os(2,s,n),gt||Os(4,s,n),ss(e,n,s);break;case 1:gt||(Un(s,n),r=s.stateNode,typeof r.componentWillUnmount=="function"&&pm(s,n,r)),ss(e,n,s);break;case 21:ss(e,n,s);break;case 22:gt=(r=gt)||s.memoizedState!==null,ss(e,n,s),gt=r;break;default:ss(e,n,s)}}function Tm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ti(e)}catch(s){Be(n,n.return,s)}}}function xm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ti(e)}catch(s){Be(n,n.return,s)}}function jv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new _m),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new _m),n;default:throw Error(i(435,e.tag))}}function Ll(e,n){var s=jv(e);n.forEach(function(r){if(!s.has(r)){s.add(r);var u=Yv.bind(null,e,r);r.then(u,u)}})}function Yt(e,n){var s=n.deletions;if(s!==null)for(var r=0;r<s.length;r++){var u=s[r],h=e,g=n,v=g;e:for(;v!==null;){switch(v.tag){case 27:if(zs(v.type)){tt=v.stateNode,Gt=!1;break e}break;case 5:tt=v.stateNode,Gt=!1;break e;case 3:case 4:tt=v.stateNode.containerInfo,Gt=!0;break e}v=v.return}if(tt===null)throw Error(i(160));Sm(h,g,u),tt=null,Gt=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Am(n,e),n=n.sibling}var wn=null;function Am(e,n){var s=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yt(n,e),It(e),r&4&&(Os(3,e,e.return),fr(3,e),Os(5,e,e.return));break;case 1:Yt(n,e),It(e),r&512&&(gt||s===null||Un(s,s.return)),r&64&&ns&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?r:s.concat(r))));break;case 26:var u=wn;if(Yt(n,e),It(e),r&512&&(gt||s===null||Un(s,s.return)),r&4){var h=s!==null?s.memoizedState:null;if(r=e.memoizedState,s===null)if(r===null)if(e.stateNode===null){e:{r=e.type,s=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":h=u.getElementsByTagName("title")[0],(!h||h[Li]||h[Ct]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(r),u.head.insertBefore(h,u.querySelector("head > title"))),Mt(h,r,s),h[Ct]=e,bt(h),r=h;break e;case"link":var g=Ag("link","href",u).get(r+(s.href||""));if(g){for(var v=0;v<g.length;v++)if(h=g[v],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(v,1);break t}}h=u.createElement(r),Mt(h,r,s),u.head.appendChild(h);break;case"meta":if(g=Ag("meta","content",u).get(r+(s.content||""))){for(v=0;v<g.length;v++)if(h=g[v],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(v,1);break t}}h=u.createElement(r),Mt(h,r,s),u.head.appendChild(h);break;default:throw Error(i(468,r))}h[Ct]=e,bt(h),r=h}e.stateNode=r}else wg(u,e.type,e.stateNode);else e.stateNode=xg(u,r,e.memoizedProps);else h!==r?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,r===null?wg(u,e.type,e.stateNode):xg(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&qc(e,e.memoizedProps,s.memoizedProps)}break;case 27:Yt(n,e),It(e),r&512&&(gt||s===null||Un(s,s.return)),s!==null&&r&4&&qc(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Yt(n,e),It(e),r&512&&(gt||s===null||Un(s,s.return)),e.flags&32){u=e.stateNode;try{Ia(u,"")}catch(fe){Be(e,e.return,fe)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,qc(e,u,s!==null?s.memoizedProps:u)),r&1024&&(Vc=!0);break;case 6:if(Yt(n,e),It(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,s=e.stateNode;try{s.nodeValue=r}catch(fe){Be(e,e.return,fe)}}break;case 3:if(no=null,u=wn,wn=eo(n.containerInfo),Yt(n,e),wn=u,It(e),r&4&&s!==null&&s.memoizedState.isDehydrated)try{Ti(n.containerInfo)}catch(fe){Be(e,e.return,fe)}Vc&&(Vc=!1,wm(e));break;case 4:r=wn,wn=eo(e.stateNode.containerInfo),Yt(n,e),It(e),wn=r;break;case 12:Yt(n,e),It(e);break;case 31:Yt(n,e),It(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ll(e,r)));break;case 13:Yt(n,e),It(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Hl=wt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ll(e,r)));break;case 22:u=e.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,F=ns,K=gt;if(ns=F||u,gt=K||N,Yt(n,e),gt=K,ns=F,It(e),r&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(s===null||N||ns||gt||ga(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(h=N.stateNode,u)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=N.stateNode;var ee=N.memoizedProps.style,Y=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;v.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(fe){Be(N,N.return,fe)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=u?"":N.memoizedProps}catch(fe){Be(N,N.return,fe)}}}else if(n.tag===18){if(s===null){N=n;try{var X=N.stateNode;u?pg(X,!0):pg(N.stateNode,!1)}catch(fe){Be(N,N.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=e.updateQueue,r!==null&&(s=r.retryQueue,s!==null&&(r.retryQueue=null,Ll(e,s))));break;case 19:Yt(n,e),It(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Ll(e,r)));break;case 30:break;case 21:break;default:Yt(n,e),It(e)}}function It(e){var n=e.flags;if(n&2){try{for(var s,r=e.return;r!==null;){if(gm(r)){s=r;break}r=r.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var u=s.stateNode,h=jc(e);Bl(e,h,u);break;case 5:var g=s.stateNode;s.flags&32&&(Ia(g,""),s.flags&=-33);var v=jc(e);Bl(e,v,g);break;case 3:case 4:var N=s.stateNode.containerInfo,F=jc(e);zc(e,F,N);break;default:throw Error(i(161))}}catch(K){Be(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function wm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;wm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function as(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vm(e,n.alternate,n),n=n.sibling}function ga(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Os(4,n,n.return),ga(n);break;case 1:Un(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&pm(n,n.return,s),ga(n);break;case 27:Tr(n.stateNode);case 26:case 5:Un(n,n.return),ga(n);break;case 22:n.memoizedState===null&&ga(n);break;case 30:ga(n);break;default:ga(n)}e=e.sibling}}function is(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,u=e,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:is(u,h,s),fr(4,h);break;case 1:if(is(u,h,s),r=h,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(F){Be(r,r.return,F)}if(r=h,u=r.updateQueue,u!==null){var v=r.stateNode;try{var N=u.shared.hiddenCallbacks;if(N!==null)for(u.shared.hiddenCallbacks=null,u=0;u<N.length;u++)np(N[u],v)}catch(F){Be(r,r.return,F)}}s&&g&64&&dm(h),dr(h,h.return);break;case 27:ym(h);case 26:case 5:is(u,h,s),s&&r===null&&g&4&&mm(h),dr(h,h.return);break;case 12:is(u,h,s);break;case 31:is(u,h,s),s&&g&4&&Tm(u,h);break;case 13:is(u,h,s),s&&g&4&&xm(u,h);break;case 22:h.memoizedState===null&&is(u,h,s),dr(h,h.return);break;case 30:break;default:is(u,h,s)}n=n.sibling}}function Uc(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&$i(s))}function Bc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&$i(e))}function Cn(e,n,s,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cm(e,n,s,r),n=n.sibling}function Cm(e,n,s,r){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Cn(e,n,s,r),u&2048&&fr(9,n);break;case 1:Cn(e,n,s,r);break;case 3:Cn(e,n,s,r),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&$i(e)));break;case 12:if(u&2048){Cn(e,n,s,r),e=n.stateNode;try{var h=n.memoizedProps,g=h.id,v=h.onPostCommit;typeof v=="function"&&v(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Be(n,n.return,N)}}else Cn(e,n,s,r);break;case 31:Cn(e,n,s,r);break;case 13:Cn(e,n,s,r);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?Cn(e,n,s,r):pr(e,n):h._visibility&2?Cn(e,n,s,r):(h._visibility|=2,hi(e,n,s,r,(n.subtreeFlags&10256)!==0||!1)),u&2048&&Uc(g,n);break;case 24:Cn(e,n,s,r),u&2048&&Bc(n.alternate,n);break;default:Cn(e,n,s,r)}}function hi(e,n,s,r,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,g=n,v=s,N=r,F=g.flags;switch(g.tag){case 0:case 11:case 15:hi(h,g,v,N,u),fr(8,g);break;case 23:break;case 22:var K=g.stateNode;g.memoizedState!==null?K._visibility&2?hi(h,g,v,N,u):pr(h,g):(K._visibility|=2,hi(h,g,v,N,u)),u&&F&2048&&Uc(g.alternate,g);break;case 24:hi(h,g,v,N,u),u&&F&2048&&Bc(g.alternate,g);break;default:hi(h,g,v,N,u)}n=n.sibling}}function pr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,r=n,u=r.flags;switch(r.tag){case 22:pr(s,r),u&2048&&Uc(r.alternate,r);break;case 24:pr(s,r),u&2048&&Bc(r.alternate,r);break;default:pr(s,r)}n=n.sibling}}var mr=8192;function fi(e,n,s){if(e.subtreeFlags&mr)for(e=e.child;e!==null;)Em(e,n,s),e=e.sibling}function Em(e,n,s){switch(e.tag){case 26:fi(e,n,s),e.flags&mr&&e.memoizedState!==null&&Sb(s,wn,e.memoizedState,e.memoizedProps);break;case 5:fi(e,n,s);break;case 3:case 4:var r=wn;wn=eo(e.stateNode.containerInfo),fi(e,n,s),wn=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=mr,mr=16777216,fi(e,n,s),mr=r):fi(e,n,s));break;default:fi(e,n,s)}}function Nm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function gr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];St=r,Mm(r,e)}Nm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Om(e),e=e.sibling}function Om(e){switch(e.tag){case 0:case 11:case 15:gr(e),e.flags&2048&&Os(9,e,e.return);break;case 3:gr(e);break;case 12:gr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Fl(e)):gr(e);break;default:gr(e)}}function Fl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];St=r,Mm(r,e)}Nm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Os(8,n,n.return),Fl(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Fl(n));break;default:Fl(n)}e=e.sibling}}function Mm(e,n){for(;St!==null;){var s=St;switch(s.tag){case 0:case 11:case 15:Os(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var r=s.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:$i(s.memoizedState.cache)}if(r=s.child,r!==null)r.return=s,St=r;else e:for(s=e;St!==null;){r=St;var u=r.sibling,h=r.return;if(bm(r),r===s){St=null;break e}if(u!==null){u.return=h,St=u;break e}St=h}}}var zv={getCacheForType:function(e){var n=Nt(dt),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Nt(dt).controller.signal}},Vv=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ie=null,we=null,Ee=0,Ue=0,nn=null,Ms=!1,di=!1,Lc=!1,rs=0,it=0,Ds=0,ya=0,Fc=0,sn=0,pi=0,yr=null,Xt=null,Hc=!1,Hl=0,Dm=0,Gl=1/0,Yl=null,ks=null,_t=0,Rs=null,mi=null,ls=0,Gc=0,Yc=null,km=null,_r=0,Ic=null;function an(){return(qe&2)!==0&&Ee!==0?Ee&-Ee:q.T!==null?Jc():Zf()}function Rm(){if(sn===0)if((Ee&536870912)===0||De){var e=Pr;Pr<<=1,(Pr&3932160)===0&&(Pr=262144),sn=e}else sn=536870912;return e=en.current,e!==null&&(e.flags|=32),sn}function Qt(e,n,s){(e===Ie&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(gi(e,0),qs(e,Ee,sn,!1)),Bi(e,s),((qe&2)===0||e!==Ie)&&(e===Ie&&((qe&2)===0&&(ya|=s),it===4&&qs(e,Ee,sn,!1)),Bn(e))}function qm(e,n,s){if((qe&6)!==0)throw Error(i(327));var r=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Ui(e,n),u=r?Lv(e,n):Qc(e,n,!0),h=r;do{if(u===0){di&&!r&&qs(e,n,0,!1);break}else{if(s=e.current.alternate,h&&!Uv(s)){u=Qc(e,n,!1),h=!1;continue}if(u===2){if(h=n,e.errorRecoveryDisabledLanes&h)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var v=e;u=yr;var N=v.current.memoizedState.isDehydrated;if(N&&(gi(v,g).flags|=256),g=Qc(v,g,!1),g!==2){if(Lc&&!N){v.errorRecoveryDisabledLanes|=h,ya|=h,u=4;break e}h=Xt,Xt=u,h!==null&&(Xt===null?Xt=h:Xt.push.apply(Xt,h))}u=g}if(h=!1,u!==2)continue}}if(u===1){gi(e,0),qs(e,n,0,!0);break}e:{switch(r=e,h=u,h){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:qs(r,n,sn,!Ms);break e;case 2:Xt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(u=Hl+300-wt(),10<u)){if(qs(r,n,sn,!Ms),el(r,0,!0)!==0)break e;ls=n,r.timeoutHandle=hg(jm.bind(null,r,s,Xt,Yl,Hc,n,sn,ya,pi,Ms,h,"Throttled",-0,0),u);break e}jm(r,s,Xt,Yl,Hc,n,sn,ya,pi,Ms,h,null,-0,0)}}break}while(!0);Bn(e)}function jm(e,n,s,r,u,h,g,v,N,F,K,ee,Y,X){if(e.timeoutHandle=-1,ee=n.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},Em(n,h,ee);var fe=(h&62914560)===h?Hl-wt():(h&4194048)===h?Dm-wt():0;if(fe=Tb(ee,fe),fe!==null){ls=h,e.cancelPendingCommit=fe(Gm.bind(null,e,n,h,s,r,u,g,v,N,K,ee,null,Y,X)),qs(e,h,g,!F);return}}Gm(e,n,h,s,r,u,g,v,N)}function Uv(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var r=0;r<s.length;r++){var u=s[r],h=u.getSnapshot;u=u.value;try{if(!Pt(h(),u))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(e,n,s,r){n&=~Fc,n&=~ya,e.suspendedLanes|=n,e.pingedLanes&=~n,r&&(e.warmLanes|=n),r=e.expirationTimes;for(var u=n;0<u;){var h=31-Jt(u),g=1<<h;r[h]=-1,u&=~g}s!==0&&If(e,s,n)}function Il(){return(qe&6)===0?(vr(0),!1):!0}function Xc(){if(we!==null){if(Ue===0)var e=we.return;else e=we,Kn=oa=null,oc(e),ri=null,tr=0,e=we;for(;e!==null;)fm(e.alternate,e),e=e.return;we=null}}function gi(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,ab(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ls=0,Xc(),Ie=e,we=s=Zn(e.current,null),Ee=n,Ue=0,nn=null,Ms=!1,di=Ui(e,n),Lc=!1,pi=sn=Fc=ya=Ds=it=0,Xt=yr=null,Hc=!1,(n&8)!==0&&(n|=n&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=n;0<r;){var u=31-Jt(r),h=1<<u;n|=e[u],r&=~h}return rs=n,fl(),s}function zm(e,n){Te=null,q.H=ur,n===ii||n===bl?(n=Pd(),Ue=3):n===Ku?(n=Pd(),Ue=4):Ue=n===Ac?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,nn=n,we===null&&(it=1,ql(e,pn(n,e.current)))}function Vm(){var e=en.current;return e===null?!0:(Ee&4194048)===Ee?_n===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===_n:!1}function Um(){var e=q.H;return q.H=ur,e===null?ur:e}function Bm(){var e=q.A;return q.A=zv,e}function Xl(){it=4,Ms||(Ee&4194048)!==Ee&&en.current!==null||(di=!0),(Ds&134217727)===0&&(ya&134217727)===0||Ie===null||qs(Ie,Ee,sn,!1)}function Qc(e,n,s){var r=qe;qe|=2;var u=Um(),h=Bm();(Ie!==e||Ee!==n)&&(Yl=null,gi(e,n)),n=!1;var g=it;e:do try{if(Ue!==0&&we!==null){var v=we,N=nn;switch(Ue){case 8:Xc(),g=6;break e;case 3:case 2:case 9:case 6:en.current===null&&(n=!0);var F=Ue;if(Ue=0,nn=null,yi(e,v,N,F),s&&di){g=0;break e}break;default:F=Ue,Ue=0,nn=null,yi(e,v,N,F)}}Bv(),g=it;break}catch(K){zm(e,K)}while(!0);return n&&e.shellSuspendCounter++,Kn=oa=null,qe=r,q.H=u,q.A=h,we===null&&(Ie=null,Ee=0,fl()),g}function Bv(){for(;we!==null;)Lm(we)}function Lv(e,n){var s=qe;qe|=2;var r=Um(),u=Bm();Ie!==e||Ee!==n?(Yl=null,Gl=wt()+500,gi(e,n)):di=Ui(e,n);e:do try{if(Ue!==0&&we!==null){n=we;var h=nn;t:switch(Ue){case 1:Ue=0,nn=null,yi(e,n,h,1);break;case 2:case 9:if(Kd(h)){Ue=0,nn=null,Fm(n);break}n=function(){Ue!==2&&Ue!==9||Ie!==e||(Ue=7),Bn(e)},h.then(n,n);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:Kd(h)?(Ue=0,nn=null,Fm(n)):(Ue=0,nn=null,yi(e,n,h,7));break;case 5:var g=null;switch(we.tag){case 26:g=we.memoizedState;case 5:case 27:var v=we;if(g?Cg(g):v.stateNode.complete){Ue=0,nn=null;var N=v.sibling;if(N!==null)we=N;else{var F=v.return;F!==null?(we=F,Ql(F)):we=null}break t}}Ue=0,nn=null,yi(e,n,h,5);break;case 6:Ue=0,nn=null,yi(e,n,h,6);break;case 8:Xc(),it=6;break e;default:throw Error(i(462))}}Fv();break}catch(K){zm(e,K)}while(!0);return Kn=oa=null,q.H=r,q.A=u,qe=s,we!==null?0:(Ie=null,Ee=0,fl(),it)}function Fv(){for(;we!==null&&!jn();)Lm(we)}function Lm(e){var n=cm(e.alternate,e,rs);e.memoizedProps=e.pendingProps,n===null?Ql(e):we=n}function Fm(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=am(s,n,n.pendingProps,n.type,void 0,Ee);break;case 11:n=am(s,n,n.pendingProps,n.type.render,n.ref,Ee);break;case 5:oc(n);default:fm(s,n),n=we=Bd(n,rs),n=cm(s,n,rs)}e.memoizedProps=e.pendingProps,n===null?Ql(e):we=n}function yi(e,n,s,r){Kn=oa=null,oc(n),ri=null,tr=0;var u=n.return;try{if(Ov(e,u,n,s,Ee)){it=1,ql(e,pn(s,e.current)),we=null;return}}catch(h){if(u!==null)throw we=u,h;it=1,ql(e,pn(s,e.current)),we=null;return}n.flags&32768?(De||r===1?e=!0:di||(Ee&536870912)!==0?e=!1:(Ms=e=!0,(r===2||r===9||r===3||r===6)&&(r=en.current,r!==null&&r.tag===13&&(r.flags|=16384))),Hm(n,e)):Ql(n)}function Ql(e){var n=e;do{if((n.flags&32768)!==0){Hm(n,Ms);return}e=n.return;var s=kv(n.alternate,n,rs);if(s!==null){we=s;return}if(n=n.sibling,n!==null){we=n;return}we=n=e}while(n!==null);it===0&&(it=5)}function Hm(e,n){do{var s=Rv(e.alternate,e);if(s!==null){s.flags&=32767,we=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){we=e;return}we=e=s}while(e!==null);it=6,we=null}function Gm(e,n,s,r,u,h,g,v,N){e.cancelPendingCommit=null;do Zl();while(_t!==0);if((qe&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(h=n.lanes|n.childLanes,h|=ju,b_(e,s,h,g,v,N),e===Ie&&(we=Ie=null,Ee=0),mi=n,Rs=e,ls=s,Gc=h,Yc=u,km=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Iv(Kr,function(){return Zm(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null,u=I.p,I.p=2,g=qe,qe|=4;try{qv(e,n,s)}finally{qe=g,I.p=u,q.T=r}}_t=1,Ym(),Im(),Xm()}}function Ym(){if(_t===1){_t=0;var e=Rs,n=mi,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var r=I.p;I.p=2;var u=qe;qe|=4;try{Am(n,e);var h=ih,g=Md(e.containerInfo),v=h.focusedElem,N=h.selectionRange;if(g!==v&&v&&v.ownerDocument&&Od(v.ownerDocument.documentElement,v)){if(N!==null&&Mu(v)){var F=N.start,K=N.end;if(K===void 0&&(K=F),"selectionStart"in v)v.selectionStart=F,v.selectionEnd=Math.min(K,v.value.length);else{var ee=v.ownerDocument||document,Y=ee&&ee.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),fe=v.textContent.length,be=Math.min(N.start,fe),Ge=N.end===void 0?be:Math.min(N.end,fe);!X.extend&&be>Ge&&(g=Ge,Ge=be,be=g);var U=Nd(v,be),D=Nd(v,Ge);if(U&&D&&(X.rangeCount!==1||X.anchorNode!==U.node||X.anchorOffset!==U.offset||X.focusNode!==D.node||X.focusOffset!==D.offset)){var L=ee.createRange();L.setStart(U.node,U.offset),X.removeAllRanges(),be>Ge?(X.addRange(L),X.extend(D.node,D.offset)):(L.setEnd(D.node,D.offset),X.addRange(L))}}}}for(ee=[],X=v;X=X.parentNode;)X.nodeType===1&&ee.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<ee.length;v++){var P=ee[v];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}ro=!!ah,ih=ah=null}finally{qe=u,I.p=r,q.T=s}}e.current=n,_t=2}}function Im(){if(_t===2){_t=0;var e=Rs,n=mi,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var r=I.p;I.p=2;var u=qe;qe|=4;try{vm(e,n.alternate,n)}finally{qe=u,I.p=r,q.T=s}}_t=3}}function Xm(){if(_t===4||_t===3){_t=0,$s();var e=Rs,n=mi,s=ls,r=km;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?_t=5:(_t=0,mi=Rs=null,Qm(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ks=null),hu(s),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Vi,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=q.T,u=I.p,I.p=2,q.T=null;try{for(var h=e.onRecoverableError,g=0;g<r.length;g++){var v=r[g];h(v.value,{componentStack:v.stack})}}finally{q.T=n,I.p=u}}(ls&3)!==0&&Zl(),Bn(e),u=e.pendingLanes,(s&261930)!==0&&(u&42)!==0?e===Ic?_r++:(_r=0,Ic=e):_r=0,vr(0)}}function Qm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,$i(n)))}function Zl(){return Ym(),Im(),Xm(),Zm()}function Zm(){if(_t!==5)return!1;var e=Rs,n=Gc;Gc=0;var s=hu(ls),r=q.T,u=I.p;try{I.p=32>s?32:s,q.T=null,s=Yc,Yc=null;var h=Rs,g=ls;if(_t=0,mi=Rs=null,ls=0,(qe&6)!==0)throw Error(i(331));var v=qe;if(qe|=4,Om(h.current),Cm(h,h.current,g,s),qe=v,vr(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Vi,h)}catch{}return!0}finally{I.p=u,q.T=r,Qm(e,n)}}function Wm(e,n,s){n=pn(s,n),n=xc(e.stateNode,n,2),e=Cs(e,n,2),e!==null&&(Bi(e,2),Bn(e))}function Be(e,n,s){if(e.tag===3)Wm(e,e,s);else for(;n!==null;){if(n.tag===3){Wm(n,e,s);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ks===null||!ks.has(r))){e=pn(s,e),s=Kp(2),r=Cs(n,s,2),r!==null&&(Jp(s,r,n,e),Bi(r,2),Bn(r));break}}n=n.return}}function Zc(e,n,s){var r=e.pingCache;if(r===null){r=e.pingCache=new Vv;var u=new Set;r.set(n,u)}else u=r.get(n),u===void 0&&(u=new Set,r.set(n,u));u.has(s)||(Lc=!0,u.add(s),e=Hv.bind(null,e,n,s),n.then(e,e))}function Hv(e,n,s){var r=e.pingCache;r!==null&&r.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Ie===e&&(Ee&s)===s&&(it===4||it===3&&(Ee&62914560)===Ee&&300>wt()-Hl?(qe&2)===0&&gi(e,0):Fc|=s,pi===Ee&&(pi=0)),Bn(e)}function Km(e,n){n===0&&(n=Yf()),e=ia(e,n),e!==null&&(Bi(e,n),Bn(e))}function Gv(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Km(e,s)}function Yv(e,n){var s=0;switch(e.tag){case 31:case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(n),Km(e,s)}function Iv(e,n){return Ze(e,n)}var Wl=null,_i=null,Wc=!1,Kl=!1,Kc=!1,js=0;function Bn(e){e!==_i&&e.next===null&&(_i===null?Wl=_i=e:_i=_i.next=e),Kl=!0,Wc||(Wc=!0,Qv())}function vr(e,n){if(!Kc&&Kl){Kc=!0;do for(var s=!1,r=Wl;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var h=0;else{var g=r.suspendedLanes,v=r.pingedLanes;h=(1<<31-Jt(42|e)+1)-1,h&=u&~(g&~v),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,eg(r,h))}else h=Ee,h=el(r,r===Ie?h:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(h&3)===0||Ui(r,h)||(s=!0,eg(r,h));r=r.next}while(s);Kc=!1}}function Xv(){Jm()}function Jm(){Kl=Wc=!1;var e=0;js!==0&&sb()&&(e=js);for(var n=wt(),s=null,r=Wl;r!==null;){var u=r.next,h=Pm(r,n);h===0?(r.next=null,s===null?Wl=u:s.next=u,u===null&&(_i=s)):(s=r,(e!==0||(h&3)!==0)&&(Kl=!0)),r=u}_t!==0&&_t!==5||vr(e),js!==0&&(js=0)}function Pm(e,n){for(var s=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var g=31-Jt(h),v=1<<g,N=u[g];N===-1?((v&s)===0||(v&r)!==0)&&(u[g]=v_(v,n)):N<=n&&(e.expiredLanes|=v),h&=~v}if(n=Ie,s=Ee,s=el(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,s===0||e===n&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Rt(r),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Ui(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(r!==null&&Rt(r),hu(s)){case 2:case 8:s=Hf;break;case 32:s=Kr;break;case 268435456:s=Gf;break;default:s=Kr}return r=$m.bind(null,e),s=Ze(s,r),e.callbackPriority=n,e.callbackNode=s,n}return r!==null&&r!==null&&Rt(r),e.callbackPriority=2,e.callbackNode=null,2}function $m(e,n){if(_t!==0&&_t!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Zl()&&e.callbackNode!==s)return null;var r=Ee;return r=el(e,e===Ie?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(qm(e,r,n),Pm(e,wt()),e.callbackNode!=null&&e.callbackNode===s?$m.bind(null,e):null)}function eg(e,n){if(Zl())return null;qm(e,n,!0)}function Qv(){ib(function(){(qe&6)!==0?Ze(Wr,Xv):Jm()})}function Jc(){if(js===0){var e=si;e===0&&(e=Jr,Jr<<=1,(Jr&261888)===0&&(Jr=256)),js=e}return js}function tg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:al(""+e)}function ng(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function Zv(e,n,s,r,u){if(n==="submit"&&s&&s.stateNode===u){var h=tg((u[Ft]||null).action),g=r.submitter;g&&(n=(n=g[Ft]||null)?tg(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var v=new ol("action","action",null,r,u);e.push({event:v,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(js!==0){var N=g?ng(u,g):new FormData(u);yc(s,{pending:!0,data:N,method:u.method,action:h},null,N)}}else typeof h=="function"&&(v.preventDefault(),N=g?ng(u,g):new FormData(u),yc(s,{pending:!0,data:N,method:u.method,action:h},h,N))},currentTarget:u}]})}}for(var Pc=0;Pc<qu.length;Pc++){var $c=qu[Pc],Wv=$c.toLowerCase(),Kv=$c[0].toUpperCase()+$c.slice(1);An(Wv,"on"+Kv)}An(Rd,"onAnimationEnd"),An(qd,"onAnimationIteration"),An(jd,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(fv,"onTransitionRun"),An(dv,"onTransitionStart"),An(pv,"onTransitionCancel"),An(zd,"onTransitionEnd"),Ga("onMouseEnter",["mouseout","mouseover"]),Ga("onMouseLeave",["mouseout","mouseover"]),Ga("onPointerEnter",["pointerout","pointerover"]),Ga("onPointerLeave",["pointerout","pointerover"]),ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(br));function sg(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var r=e[s],u=r.event;r=r.listeners;e:{var h=void 0;if(n)for(var g=r.length-1;0<=g;g--){var v=r[g],N=v.instance,F=v.currentTarget;if(v=v.listener,N!==h&&u.isPropagationStopped())break e;h=v,u.currentTarget=F;try{h(u)}catch(K){hl(K)}u.currentTarget=null,h=N}else for(g=0;g<r.length;g++){if(v=r[g],N=v.instance,F=v.currentTarget,v=v.listener,N!==h&&u.isPropagationStopped())break e;h=v,u.currentTarget=F;try{h(u)}catch(K){hl(K)}u.currentTarget=null,h=N}}}}function Ce(e,n){var s=n[fu];s===void 0&&(s=n[fu]=new Set);var r=e+"__bubble";s.has(r)||(ag(n,e,2,!1),s.add(r))}function eh(e,n,s){var r=0;n&&(r|=4),ag(s,e,r,n)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function th(e){if(!e[Jl]){e[Jl]=!0,Jf.forEach(function(s){s!=="selectionchange"&&(Jv.has(s)||eh(s,!1,e),eh(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Jl]||(n[Jl]=!0,eh("selectionchange",!1,n))}}function ag(e,n,s,r){switch(Rg(n)){case 2:var u=wb;break;case 8:u=Cb;break;default:u=gh}s=u.bind(null,n,s,e),u=void 0,!Su||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function nh(e,n,s,r,u){var h=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var g=r.tag;if(g===3||g===4){var v=r.stateNode.containerInfo;if(v===u)break;if(g===4)for(g=r.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;v!==null;){if(g=La(v),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){r=h=g;continue e}v=v.parentNode}}r=r.return}ud(function(){var F=h,K=vu(s),ee=[];e:{var Y=Vd.get(e);if(Y!==void 0){var X=ol,fe=e;switch(e){case"keypress":if(rl(s)===0)break e;case"keydown":case"keyup":X=Y_;break;case"focusin":fe="focus",X=wu;break;case"focusout":fe="blur",X=wu;break;case"beforeblur":case"afterblur":X=wu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=k_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Q_;break;case Rd:case qd:case jd:X=j_;break;case zd:X=W_;break;case"scroll":case"scrollend":X=M_;break;case"wheel":X=J_;break;case"copy":case"cut":case"paste":X=V_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=pd;break;case"toggle":case"beforetoggle":X=$_}var be=(n&4)!==0,Ge=!be&&(e==="scroll"||e==="scrollend"),U=be?Y!==null?Y+"Capture":null:Y;be=[];for(var D=F,L;D!==null;){var P=D;if(L=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||L===null||U===null||(P=Hi(D,U),P!=null&&be.push(Sr(D,P,L))),Ge)break;D=D.return}0<be.length&&(Y=new X(Y,fe,null,s,K),ee.push({event:Y,listeners:be}))}}if((n&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",Y&&s!==_u&&(fe=s.relatedTarget||s.fromElement)&&(La(fe)||fe[Ba]))break e;if((X||Y)&&(Y=K.window===K?K:(Y=K.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(fe=s.relatedTarget||s.toElement,X=F,fe=fe?La(fe):null,fe!==null&&(Ge=c(fe),be=fe.tag,fe!==Ge||be!==5&&be!==27&&be!==6)&&(fe=null)):(X=null,fe=F),X!==fe)){if(be=fd,P="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(be=pd,P="onPointerLeave",U="onPointerEnter",D="pointer"),Ge=X==null?Y:Fi(X),L=fe==null?Y:Fi(fe),Y=new be(P,D+"leave",X,s,K),Y.target=Ge,Y.relatedTarget=L,P=null,La(K)===F&&(be=new be(U,D+"enter",fe,s,K),be.target=L,be.relatedTarget=Ge,P=be),Ge=P,X&&fe)t:{for(be=Pv,U=X,D=fe,L=0,P=U;P;P=be(P))L++;P=0;for(var ge=D;ge;ge=be(ge))P++;for(;0<L-P;)U=be(U),L--;for(;0<P-L;)D=be(D),P--;for(;L--;){if(U===D||D!==null&&U===D.alternate){be=U;break t}U=be(U),D=be(D)}be=null}else be=null;X!==null&&ig(ee,Y,X,be,!1),fe!==null&&Ge!==null&&ig(ee,Ge,fe,be,!0)}}e:{if(Y=F?Fi(F):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var ke=Td;else if(bd(Y))if(xd)ke=uv;else{ke=lv;var pe=rv}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?F&&yu(F.elementType)&&(ke=Td):ke=ov;if(ke&&(ke=ke(e,F))){Sd(ee,ke,s,K);break e}pe&&pe(e,Y,F),e==="focusout"&&F&&Y.type==="number"&&F.memoizedProps.value!=null&&gu(Y,"number",Y.value)}switch(pe=F?Fi(F):window,e){case"focusin":(bd(pe)||pe.contentEditable==="true")&&(Wa=pe,Du=F,Ki=null);break;case"focusout":Ki=Du=Wa=null;break;case"mousedown":ku=!0;break;case"contextmenu":case"mouseup":case"dragend":ku=!1,Dd(ee,s,K);break;case"selectionchange":if(hv)break;case"keydown":case"keyup":Dd(ee,s,K)}var xe;if(Eu)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Za?_d(e,s)&&(Ne="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ne="onCompositionStart");Ne&&(md&&s.locale!=="ko"&&(Za||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Za&&(xe=cd()):(vs=K,Tu="value"in vs?vs.value:vs.textContent,Za=!0)),pe=Pl(F,Ne),0<pe.length&&(Ne=new dd(Ne,e,null,s,K),ee.push({event:Ne,listeners:pe}),xe?Ne.data=xe:(xe=vd(s),xe!==null&&(Ne.data=xe)))),(xe=tv?nv(e,s):sv(e,s))&&(Ne=Pl(F,"onBeforeInput"),0<Ne.length&&(pe=new dd("onBeforeInput","beforeinput",null,s,K),ee.push({event:pe,listeners:Ne}),pe.data=xe)),Zv(ee,e,F,s,K)}sg(ee,n)})}function Sr(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Pl(e,n){for(var s=n+"Capture",r=[];e!==null;){var u=e,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=Hi(e,s),u!=null&&r.unshift(Sr(e,u,h)),u=Hi(e,n),u!=null&&r.push(Sr(e,u,h))),e.tag===3)return r;e=e.return}return[]}function Pv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ig(e,n,s,r,u){for(var h=n._reactName,g=[];s!==null&&s!==r;){var v=s,N=v.alternate,F=v.stateNode;if(v=v.tag,N!==null&&N===r)break;v!==5&&v!==26&&v!==27||F===null||(N=F,u?(F=Hi(s,h),F!=null&&g.unshift(Sr(s,F,N))):u||(F=Hi(s,h),F!=null&&g.push(Sr(s,F,N)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var $v=/\r\n?/g,eb=/\u0000|\uFFFD/g;function rg(e){return(typeof e=="string"?e:""+e).replace($v,`
`).replace(eb,"")}function lg(e,n){return n=rg(n),rg(e)===n}function He(e,n,s,r,u,h){switch(s){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||Ia(e,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&Ia(e,""+r);break;case"className":nl(e,"class",r);break;case"tabIndex":nl(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nl(e,s,r);break;case"style":ld(e,r,h);break;case"data":if(n!=="object"){nl(e,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=al(""+r),e.setAttribute(s,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(n!=="input"&&He(e,n,"name",u.name,u,null),He(e,n,"formEncType",u.formEncType,u,null),He(e,n,"formMethod",u.formMethod,u,null),He(e,n,"formTarget",u.formTarget,u,null)):(He(e,n,"encType",u.encType,u,null),He(e,n,"method",u.method,u,null),He(e,n,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(s);break}r=al(""+r),e.setAttribute(s,r);break;case"onClick":r!=null&&(e.onclick=Xn);break;case"onScroll":r!=null&&Ce("scroll",e);break;case"onScrollEnd":r!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(s=r.__html,s!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}s=al(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""+r):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":r===!0?e.setAttribute(s,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(s,r):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(s,r):e.removeAttribute(s);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(s):e.setAttribute(s,r);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),tl(e,"popover",r);break;case"xlinkActuate":In(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":In(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":In(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":In(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":In(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":In(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":In(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":In(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":In(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=N_.get(s)||s,tl(e,s,r))}}function sh(e,n,s,r,u,h){switch(s){case"style":ld(e,r,h);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(s=r.__html,s!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=s}}break;case"children":typeof r=="string"?Ia(e,r):(typeof r=="number"||typeof r=="bigint")&&Ia(e,""+r);break;case"onScroll":r!=null&&Ce("scroll",e);break;case"onScrollEnd":r!=null&&Ce("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pf.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(u=s.endsWith("Capture"),n=s.slice(2,u?s.length-7:void 0),h=e[Ft]||null,h=h!=null?h[s]:null,typeof h=="function"&&e.removeEventListener(n,h,u),typeof r=="function")){typeof h!="function"&&h!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,r,u);break e}s in e?e[s]=r:r===!0?e.setAttribute(s,""):tl(e,s,r)}}}function Mt(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var r=!1,u=!1,h;for(h in s)if(s.hasOwnProperty(h)){var g=s[h];if(g!=null)switch(h){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:He(e,n,h,g,s,null)}}u&&He(e,n,"srcSet",s.srcSet,s,null),r&&He(e,n,"src",s.src,s,null);return;case"input":Ce("invalid",e);var v=h=g=u=null,N=null,F=null;for(r in s)if(s.hasOwnProperty(r)){var K=s[r];if(K!=null)switch(r){case"name":u=K;break;case"type":g=K;break;case"checked":N=K;break;case"defaultChecked":F=K;break;case"value":h=K;break;case"defaultValue":v=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,n));break;default:He(e,n,r,K,s,null)}}sd(e,h,v,N,F,g,u,!1);return;case"select":Ce("invalid",e),r=g=h=null;for(u in s)if(s.hasOwnProperty(u)&&(v=s[u],v!=null))switch(u){case"value":h=v;break;case"defaultValue":g=v;break;case"multiple":r=v;default:He(e,n,u,v,s,null)}n=h,s=g,e.multiple=!!r,n!=null?Ya(e,!!r,n,!1):s!=null&&Ya(e,!!r,s,!0);return;case"textarea":Ce("invalid",e),h=u=r=null;for(g in s)if(s.hasOwnProperty(g)&&(v=s[g],v!=null))switch(g){case"value":r=v;break;case"defaultValue":u=v;break;case"children":h=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:He(e,n,g,v,s,null)}id(e,r,u,h);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(r=s[N],r!=null))switch(N){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:He(e,n,N,r,s,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(r=0;r<br.length;r++)Ce(br[r],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in s)if(s.hasOwnProperty(F)&&(r=s[F],r!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:He(e,n,F,r,s,null)}return;default:if(yu(n)){for(K in s)s.hasOwnProperty(K)&&(r=s[K],r!==void 0&&sh(e,n,K,r,s,void 0));return}}for(v in s)s.hasOwnProperty(v)&&(r=s[v],r!=null&&He(e,n,v,r,s,null))}function tb(e,n,s,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,g=null,v=null,N=null,F=null,K=null;for(X in s){var ee=s[X];if(s.hasOwnProperty(X)&&ee!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=ee;default:r.hasOwnProperty(X)||He(e,n,X,null,r,ee)}}for(var Y in r){var X=r[Y];if(ee=s[Y],r.hasOwnProperty(Y)&&(X!=null||ee!=null))switch(Y){case"type":h=X;break;case"name":u=X;break;case"checked":F=X;break;case"defaultChecked":K=X;break;case"value":g=X;break;case"defaultValue":v=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,n));break;default:X!==ee&&He(e,n,Y,X,r,ee)}}mu(e,g,v,N,F,K,h,u);return;case"select":X=g=v=Y=null;for(h in s)if(N=s[h],s.hasOwnProperty(h)&&N!=null)switch(h){case"value":break;case"multiple":X=N;default:r.hasOwnProperty(h)||He(e,n,h,null,r,N)}for(u in r)if(h=r[u],N=s[u],r.hasOwnProperty(u)&&(h!=null||N!=null))switch(u){case"value":Y=h;break;case"defaultValue":v=h;break;case"multiple":g=h;default:h!==N&&He(e,n,u,h,r,N)}n=v,s=g,r=X,Y!=null?Ya(e,!!s,Y,!1):!!r!=!!s&&(n!=null?Ya(e,!!s,n,!0):Ya(e,!!s,s?[]:"",!1));return;case"textarea":X=Y=null;for(v in s)if(u=s[v],s.hasOwnProperty(v)&&u!=null&&!r.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:He(e,n,v,null,r,u)}for(g in r)if(u=r[g],h=s[g],r.hasOwnProperty(g)&&(u!=null||h!=null))switch(g){case"value":Y=u;break;case"defaultValue":X=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==h&&He(e,n,g,u,r,h)}ad(e,Y,X);return;case"option":for(var fe in s)if(Y=s[fe],s.hasOwnProperty(fe)&&Y!=null&&!r.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:He(e,n,fe,null,r,Y)}for(N in r)if(Y=r[N],X=s[N],r.hasOwnProperty(N)&&Y!==X&&(Y!=null||X!=null))switch(N){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:He(e,n,N,Y,r,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in s)Y=s[be],s.hasOwnProperty(be)&&Y!=null&&!r.hasOwnProperty(be)&&He(e,n,be,null,r,Y);for(F in r)if(Y=r[F],X=s[F],r.hasOwnProperty(F)&&Y!==X&&(Y!=null||X!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,n));break;default:He(e,n,F,Y,r,X)}return;default:if(yu(n)){for(var Ge in s)Y=s[Ge],s.hasOwnProperty(Ge)&&Y!==void 0&&!r.hasOwnProperty(Ge)&&sh(e,n,Ge,void 0,r,Y);for(K in r)Y=r[K],X=s[K],!r.hasOwnProperty(K)||Y===X||Y===void 0&&X===void 0||sh(e,n,K,Y,r,X);return}}for(var U in s)Y=s[U],s.hasOwnProperty(U)&&Y!=null&&!r.hasOwnProperty(U)&&He(e,n,U,null,r,Y);for(ee in r)Y=r[ee],X=s[ee],!r.hasOwnProperty(ee)||Y===X||Y==null&&X==null||He(e,n,ee,Y,r,X)}function og(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),r=0;r<s.length;r++){var u=s[r],h=u.transferSize,g=u.initiatorType,v=u.duration;if(h&&v&&og(g)){for(g=0,v=u.responseEnd,r+=1;r<s.length;r++){var N=s[r],F=N.startTime;if(F>v)break;var K=N.transferSize,ee=N.initiatorType;K&&og(ee)&&(N=N.responseEnd,g+=K*(N<v?1:(v-F)/(N-F)))}if(--r,n+=8*(h+g)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ah=null,ih=null;function $l(e){return e.nodeType===9?e:e.ownerDocument}function ug(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function rh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var lh=null;function sb(){var e=window.event;return e&&e.type==="popstate"?e===lh?!1:(lh=e,!0):(lh=null,!1)}var hg=typeof setTimeout=="function"?setTimeout:void 0,ab=typeof clearTimeout=="function"?clearTimeout:void 0,fg=typeof Promise=="function"?Promise:void 0,ib=typeof queueMicrotask=="function"?queueMicrotask:typeof fg<"u"?function(e){return fg.resolve(null).then(e).catch(rb)}:hg;function rb(e){setTimeout(function(){throw e})}function zs(e){return e==="head"}function dg(e,n){var s=n,r=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"||s==="/&"){if(r===0){e.removeChild(u),Ti(n);return}r--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")r++;else if(s==="html")Tr(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Tr(s);for(var h=s.firstChild;h;){var g=h.nextSibling,v=h.nodeName;h[Li]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&h.rel.toLowerCase()==="stylesheet"||s.removeChild(h),h=g}}else s==="body"&&Tr(e.ownerDocument.body);s=u}while(s);Ti(n)}function pg(e,n){var s=e;e=0;do{var r=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),r&&r.nodeType===8)if(s=r.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=r}while(s)}function oh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":oh(s),du(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function lb(e,n,s,r){for(;e.nodeType===1;){var u=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=vn(e.nextSibling),e===null)break}return null}function ob(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=vn(e.nextSibling),e===null))return null;return e}function mg(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=vn(e.nextSibling),e===null))return null;return e}function uh(e){return e.data==="$?"||e.data==="$~"}function ch(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ub(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var r=function(){n(),s.removeEventListener("DOMContentLoaded",r)};s.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var hh=null;function gg(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return vn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function yg(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function _g(e,n,s){switch(n=$l(s),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Tr(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);du(e)}var bn=new Map,vg=new Set;function eo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var os=I.d;I.d={f:cb,r:hb,D:fb,C:db,L:pb,m:mb,X:yb,S:gb,M:_b};function cb(){var e=os.f(),n=Il();return e||n}function hb(e){var n=Fa(e);n!==null&&n.tag===5&&n.type==="form"?zp(n):os.r(e)}var vi=typeof document>"u"?null:document;function bg(e,n,s){var r=vi;if(r&&typeof n=="string"&&n){var u=fn(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof s=="string"&&(u+='[crossorigin="'+s+'"]'),vg.has(u)||(vg.add(u),e={rel:e,crossOrigin:s,href:n},r.querySelector(u)===null&&(n=r.createElement("link"),Mt(n,"link",e),bt(n),r.head.appendChild(n)))}}function fb(e){os.D(e),bg("dns-prefetch",e,null)}function db(e,n){os.C(e,n),bg("preconnect",e,n)}function pb(e,n,s){os.L(e,n,s);var r=vi;if(r&&e&&n){var u='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(u+='[imagesrcset="'+fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(u+='[imagesizes="'+fn(s.imageSizes)+'"]')):u+='[href="'+fn(e)+'"]';var h=u;switch(n){case"style":h=bi(e);break;case"script":h=Si(e)}bn.has(h)||(e=_({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),bn.set(h,e),r.querySelector(u)!==null||n==="style"&&r.querySelector(xr(h))||n==="script"&&r.querySelector(Ar(h))||(n=r.createElement("link"),Mt(n,"link",e),bt(n),r.head.appendChild(n)))}}function mb(e,n){os.m(e,n);var s=vi;if(s&&e){var r=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+fn(r)+'"][href="'+fn(e)+'"]',h=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Si(e)}if(!bn.has(h)&&(e=_({rel:"modulepreload",href:e},n),bn.set(h,e),s.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ar(h)))return}r=s.createElement("link"),Mt(r,"link",e),bt(r),s.head.appendChild(r)}}}function gb(e,n,s){os.S(e,n,s);var r=vi;if(r&&e){var u=Ha(r).hoistableStyles,h=bi(e);n=n||"default";var g=u.get(h);if(!g){var v={loading:0,preload:null};if(g=r.querySelector(xr(h)))v.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":n},s),(s=bn.get(h))&&fh(e,s);var N=g=r.createElement("link");bt(N),Mt(N,"link",e),N._p=new Promise(function(F,K){N.onload=F,N.onerror=K}),N.addEventListener("load",function(){v.loading|=1}),N.addEventListener("error",function(){v.loading|=2}),v.loading|=4,to(g,n,r)}g={type:"stylesheet",instance:g,count:1,state:v},u.set(h,g)}}}function yb(e,n){os.X(e,n);var s=vi;if(s&&e){var r=Ha(s).hoistableScripts,u=Si(e),h=r.get(u);h||(h=s.querySelector(Ar(u)),h||(e=_({src:e,async:!0},n),(n=bn.get(u))&&dh(e,n),h=s.createElement("script"),bt(h),Mt(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(u,h))}}function _b(e,n){os.M(e,n);var s=vi;if(s&&e){var r=Ha(s).hoistableScripts,u=Si(e),h=r.get(u);h||(h=s.querySelector(Ar(u)),h||(e=_({src:e,async:!0,type:"module"},n),(n=bn.get(u))&&dh(e,n),h=s.createElement("script"),bt(h),Mt(h,"link",e),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},r.set(u,h))}}function Sg(e,n,s,r){var u=(u=ue.current)?eo(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=bi(s.href),s=Ha(u).hoistableStyles,r=s.get(n),r||(r={type:"style",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=bi(s.href);var h=Ha(u).hoistableStyles,g=h.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,g),(h=u.querySelector(xr(e)))&&!h._p&&(g.instance=h,g.state.loading=5),bn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},bn.set(e,s),h||vb(u,e,s,g.state))),n&&r===null)throw Error(i(528,""));return g}if(n&&r!==null)throw Error(i(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Si(s),s=Ha(u).hoistableScripts,r=s.get(n),r||(r={type:"script",instance:null,count:0,state:null},s.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function bi(e){return'href="'+fn(e)+'"'}function xr(e){return'link[rel="stylesheet"]['+e+"]"}function Tg(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function vb(e,n,s,r){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=e.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),Mt(n,"link",s),bt(n),e.head.appendChild(n))}function Si(e){return'[src="'+fn(e)+'"]'}function Ar(e){return"script[async]"+e}function xg(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var r=e.querySelector('style[data-href~="'+fn(s.href)+'"]');if(r)return n.instance=r,bt(r),r;var u=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),bt(r),Mt(r,"style",u),to(r,s.precedence,e),n.instance=r;case"stylesheet":u=bi(s.href);var h=e.querySelector(xr(u));if(h)return n.state.loading|=4,n.instance=h,bt(h),h;r=Tg(s),(u=bn.get(u))&&fh(r,u),h=(e.ownerDocument||e).createElement("link"),bt(h);var g=h;return g._p=new Promise(function(v,N){g.onload=v,g.onerror=N}),Mt(h,"link",r),n.state.loading|=4,to(h,s.precedence,e),n.instance=h;case"script":return h=Si(s.src),(u=e.querySelector(Ar(h)))?(n.instance=u,bt(u),u):(r=s,(u=bn.get(h))&&(r=_({},s),dh(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),bt(u),Mt(u,"link",r),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,to(r,s.precedence,e));return n.instance}function to(e,n,s){for(var r=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,h=u,g=0;g<r.length;g++){var v=r[g];if(v.dataset.precedence===n)h=v;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function fh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function dh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var no=null;function Ag(e,n,s){if(no===null){var r=new Map,u=no=new Map;u.set(s,r)}else u=no,r=u.get(s),r||(r=new Map,u.set(s,r));if(r.has(e))return r;for(r.set(e,null),s=s.getElementsByTagName(e),u=0;u<s.length;u++){var h=s[u];if(!(h[Li]||h[Ct]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=e+g;var v=r.get(g);v?v.push(h):r.set(g,[h])}}return r}function wg(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function bb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Cg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Sb(e,n,s,r){if(s.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=bi(r.href),h=n.querySelector(xr(u));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=so.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=h,bt(h);return}h=n.ownerDocument||n,r=Tg(r),(u=bn.get(u))&&fh(r,u),h=h.createElement("link"),bt(h);var g=h;g._p=new Promise(function(v,N){g.onload=v,g.onerror=N}),Mt(h,"link",r),s.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=so.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var ph=0;function Tb(e,n){return e.stylesheets&&e.count===0&&io(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var r=setTimeout(function(){if(e.stylesheets&&io(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&ph===0&&(ph=62500*nb());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&io(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>ph?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(u)}}:null}function so(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)io(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ao=null;function io(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ao=new Map,n.forEach(xb,e),ao=null,so.call(e))}function xb(e,n){if(!(n.state.loading&4)){var s=ao.get(e);if(s)var r=s.get(null);else{s=new Map,ao.set(e,s);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var g=u[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),r=g)}r&&s.set(null,r)}u=n.instance,g=u.getAttribute("data-precedence"),h=s.get(g)||r,h===r&&s.set(null,u),s.set(g,u),this.count++,r=so.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var wr={$$typeof:B,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function Ab(e,n,s,r,u,h,g,v,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uu(0),this.hiddenUpdates=uu(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Eg(e,n,s,r,u,h,g,v,N,F,K,ee){return e=new Ab(e,n,s,g,N,F,K,ee,v),n=1,h===!0&&(n|=24),h=$t(3,null,null,n),e.current=h,h.stateNode=e,n=Qu(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:r,isDehydrated:s,cache:n},Ju(h),e}function Ng(e){return e?(e=Pa,e):Pa}function Og(e,n,s,r,u,h){u=Ng(u),r.context===null?r.context=u:r.pendingContext=u,r=ws(n),r.payload={element:s},h=h===void 0?null:h,h!==null&&(r.callback=h),s=Cs(e,r,n),s!==null&&(Qt(s,e,n),sr(s,e,n))}function Mg(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function mh(e,n){Mg(e,n),(e=e.alternate)&&Mg(e,n)}function Dg(e){if(e.tag===13||e.tag===31){var n=ia(e,67108864);n!==null&&Qt(n,e,67108864),mh(e,67108864)}}function kg(e){if(e.tag===13||e.tag===31){var n=an();n=cu(n);var s=ia(e,n);s!==null&&Qt(s,e,n),mh(e,n)}}var ro=!0;function wb(e,n,s,r){var u=q.T;q.T=null;var h=I.p;try{I.p=2,gh(e,n,s,r)}finally{I.p=h,q.T=u}}function Cb(e,n,s,r){var u=q.T;q.T=null;var h=I.p;try{I.p=8,gh(e,n,s,r)}finally{I.p=h,q.T=u}}function gh(e,n,s,r){if(ro){var u=yh(r);if(u===null)nh(e,n,r,lo,s),qg(e,r);else if(Nb(u,e,n,s,r))r.stopPropagation();else if(qg(e,r),n&4&&-1<Eb.indexOf(e)){for(;u!==null;){var h=Fa(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=ea(h.pendingLanes);if(g!==0){var v=h;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var N=1<<31-Jt(g);v.entanglements[1]|=N,g&=~N}Bn(h),(qe&6)===0&&(Gl=wt()+500,vr(0))}}break;case 31:case 13:v=ia(h,2),v!==null&&Qt(v,h,2),Il(),mh(h,2)}if(h=yh(r),h===null&&nh(e,n,r,lo,s),h===u)break;u=h}u!==null&&r.stopPropagation()}else nh(e,n,r,null,s)}}function yh(e){return e=vu(e),_h(e)}var lo=null;function _h(e){if(lo=null,e=La(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=f(n),e!==null)return e;e=null}else if(s===31){if(e=d(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return lo=e,null}function Rg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ou()){case Wr:return 2;case Hf:return 8;case Kr:case d_:return 32;case Gf:return 268435456;default:return 32}default:return 32}}var vh=!1,Vs=null,Us=null,Bs=null,Cr=new Map,Er=new Map,Ls=[],Eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qg(e,n){switch(e){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Cr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(n.pointerId)}}function Nr(e,n,s,r,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:s,eventSystemFlags:r,nativeEvent:h,targetContainers:[u]},n!==null&&(n=Fa(n),n!==null&&Dg(n)),e):(e.eventSystemFlags|=r,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function Nb(e,n,s,r,u){switch(n){case"focusin":return Vs=Nr(Vs,e,n,s,r,u),!0;case"dragenter":return Us=Nr(Us,e,n,s,r,u),!0;case"mouseover":return Bs=Nr(Bs,e,n,s,r,u),!0;case"pointerover":var h=u.pointerId;return Cr.set(h,Nr(Cr.get(h)||null,e,n,s,r,u)),!0;case"gotpointercapture":return h=u.pointerId,Er.set(h,Nr(Er.get(h)||null,e,n,s,r,u)),!0}return!1}function jg(e){var n=La(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){e.blockedOn=n,Wf(e.priority,function(){kg(s)});return}}else if(n===31){if(n=d(s),n!==null){e.blockedOn=n,Wf(e.priority,function(){kg(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oo(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=yh(e.nativeEvent);if(s===null){s=e.nativeEvent;var r=new s.constructor(s.type,s);_u=r,s.target.dispatchEvent(r),_u=null}else return n=Fa(s),n!==null&&Dg(n),e.blockedOn=s,!1;n.shift()}return!0}function zg(e,n,s){oo(e)&&s.delete(n)}function Ob(){vh=!1,Vs!==null&&oo(Vs)&&(Vs=null),Us!==null&&oo(Us)&&(Us=null),Bs!==null&&oo(Bs)&&(Bs=null),Cr.forEach(zg),Er.forEach(zg)}function uo(e,n){e.blockedOn===n&&(e.blockedOn=null,vh||(vh=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Ob)))}var co=null;function Vg(e){co!==e&&(co=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){co===e&&(co=null);for(var n=0;n<e.length;n+=3){var s=e[n],r=e[n+1],u=e[n+2];if(typeof r!="function"){if(_h(r||s)===null)continue;break}var h=Fa(s);h!==null&&(e.splice(n,3),n-=3,yc(h,{pending:!0,data:u,method:s.method,action:r},r,u))}}))}function Ti(e){function n(N){return uo(N,e)}Vs!==null&&uo(Vs,e),Us!==null&&uo(Us,e),Bs!==null&&uo(Bs,e),Cr.forEach(n),Er.forEach(n);for(var s=0;s<Ls.length;s++){var r=Ls[s];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ls.length&&(s=Ls[0],s.blockedOn===null);)jg(s),s.blockedOn===null&&Ls.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(r=0;r<s.length;r+=3){var u=s[r],h=s[r+1],g=u[Ft]||null;if(typeof h=="function")g||Vg(s);else if(g){var v=null;if(h&&h.hasAttribute("formAction")){if(u=h,g=h[Ft]||null)v=g.formAction;else if(_h(u)!==null)continue}else v=g.action;typeof v=="function"?s[r+1]=v:(s.splice(r,3),r-=3),Vg(s)}}}function Ug(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),r||setTimeout(s,20)}function s(){if(!r&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function bh(e){this._internalRoot=e}ho.prototype.render=bh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var s=n.current,r=an();Og(s,r,e,n,null,null)},ho.prototype.unmount=bh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Og(e.current,2,null,e,null,null),Il(),n[Ba]=null}};function ho(e){this._internalRoot=e}ho.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zf();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ls.length&&n!==0&&n<Ls[s].priority;s++);Ls.splice(s,0,e),s===0&&jg(e)}};var Bg=t.version;if(Bg!=="19.2.0")throw Error(i(527,Bg,"19.2.0"));I.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=m(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Mb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fo.isDisabled&&fo.supportsFiber)try{Vi=fo.inject(Mb),Kt=fo}catch{}}return Mr.createRoot=function(e,n){if(!o(e))throw Error(i(299));var s=!1,r="",u=Xp,h=Qp,g=Zp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=Eg(e,1,!1,null,null,s,r,null,u,h,g,Ug),e[Ba]=n.current,th(e),new bh(n)},Mr.hydrateRoot=function(e,n,s){if(!o(e))throw Error(i(299));var r=!1,u="",h=Xp,g=Qp,v=Zp,N=null;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),n=Eg(e,1,!0,n,s??null,r,u,N,h,g,v,Ug),n.context=Ng(null),s=n.current,r=an(),r=cu(r),u=ws(r),u.callback=null,Cs(s,u,r),s=r,n.current.lanes=s,Bi(n,s),Bn(n),e[Ba]=n.current,th(e),new ho(n)},Mr.version="19.2.0",Mr}var Wg;function Lb(){if(Wg)return xh.exports;Wg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(t){console.error(t)}}return l(),xh.exports=Bb(),xh.exports}var Fb=Lb();const Hb=Uo(Fb),jy="15.1.22",Kg=(l,t,a)=>({endTime:t,insertTime:a,type:"exponentialRampToValue",value:l}),Jg=(l,t,a)=>({endTime:t,insertTime:a,type:"linearRampToValue",value:l}),Dh=(l,t)=>({startTime:t,type:"setValue",value:l}),zy=(l,t,a)=>({duration:a,startTime:t,type:"setValueCurve",values:l}),Vy=(l,t,{startTime:a,target:i,timeConstant:o})=>i+(t-i)*Math.exp((a-l)/o),Ai=l=>l.type==="exponentialRampToValue",So=l=>l.type==="linearRampToValue",Gs=l=>Ai(l)||So(l),Yh=l=>l.type==="setValue",us=l=>l.type==="setValueCurve",To=(l,t,a,i)=>{const o=l[t];return o===void 0?i:Gs(o)||Yh(o)?o.value:us(o)?o.values[o.values.length-1]:Vy(a,To(l,t-1,o.startTime,i),o)},Pg=(l,t,a,i,o)=>a===void 0?[i.insertTime,o]:Gs(a)?[a.endTime,a.value]:Yh(a)?[a.startTime,a.value]:us(a)?[a.startTime+a.duration,a.values[a.values.length-1]]:[a.startTime,To(l,t-1,a.startTime,o)],kh=l=>l.type==="cancelAndHold",Rh=l=>l.type==="cancelScheduledValues",Hs=l=>kh(l)||Rh(l)?l.cancelTime:Ai(l)||So(l)?l.endTime:l.startTime,$g=(l,t,a,{endTime:i,value:o})=>a===o?o:0<a&&0<o||a<0&&o<0?a*(o/a)**((l-t)/(i-t)):0,ey=(l,t,a,{endTime:i,value:o})=>a+(l-t)/(i-t)*(o-a),Gb=(l,t)=>{const a=Math.floor(t),i=Math.ceil(t);return a===i?l[a]:(1-(t-a))*l[a]+(1-(i-t))*l[i]},Yb=(l,{duration:t,startTime:a,values:i})=>{const o=(l-a)/t*(i.length-1);return Gb(i,o)},mo=l=>l.type==="setTarget";class Ib{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const a=Hs(t);if(kh(t)||Rh(t)){const i=this._automationEvents.findIndex(c=>Rh(t)&&us(c)?c.startTime+c.duration>=a:Hs(c)>=a),o=this._automationEvents[i];if(i!==-1&&(this._automationEvents=this._automationEvents.slice(0,i)),kh(t)){const c=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&Gs(o)){if(c!==void 0&&mo(c))throw new Error("The internal list is malformed.");const f=c===void 0?o.insertTime:us(c)?c.startTime+c.duration:Hs(c),d=c===void 0?this._defaultValue:us(c)?c.values[c.values.length-1]:c.value,p=Ai(o)?$g(a,f,d,o):ey(a,f,d,o),m=Ai(o)?Kg(p,a,this._currenTime):Jg(p,a,this._currenTime);this._automationEvents.push(m)}if(c!==void 0&&mo(c)&&this._automationEvents.push(Dh(this.getValue(a),a)),c!==void 0&&us(c)&&c.startTime+c.duration>a){const f=a-c.startTime,d=(c.values.length-1)/c.duration,p=Math.max(2,1+Math.ceil(f*d)),m=f/(p-1)*d,y=c.values.slice(0,p);if(m<1)for(let _=1;_<p;_+=1){const b=m*_%1;y[_]=c.values[_-1]*(1-b)+c.values[_]*b}this._automationEvents[this._automationEvents.length-1]=zy(y,c.startTime,f)}}}else{const i=this._automationEvents.findIndex(f=>Hs(f)>a),o=i===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[i-1];if(o!==void 0&&us(o)&&Hs(o)+o.duration>a)return!1;const c=Ai(t)?Kg(t.value,t.endTime,this._currenTime):So(t)?Jg(t.value,a,this._currenTime):t;if(i===-1)this._automationEvents.push(c);else{if(us(t)&&a+t.duration>Hs(this._automationEvents[i]))return!1;this._automationEvents.splice(i,0,c)}}return!0}flush(t){const a=this._automationEvents.findIndex(i=>Hs(i)>t);if(a>1){const i=this._automationEvents.slice(a-1),o=i[0];mo(o)&&i.unshift(Dh(To(this._automationEvents,a-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=i}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const a=this._automationEvents.findIndex(f=>Hs(f)>t),i=this._automationEvents[a],o=(a===-1?this._automationEvents.length:a)-1,c=this._automationEvents[o];if(c!==void 0&&mo(c)&&(i===void 0||!Gs(i)||i.insertTime>t))return Vy(t,To(this._automationEvents,o-1,c.startTime,this._defaultValue),c);if(c!==void 0&&Yh(c)&&(i===void 0||!Gs(i)))return c.value;if(c!==void 0&&us(c)&&(i===void 0||!Gs(i)||c.startTime+c.duration>t))return t<c.startTime+c.duration?Yb(t,c):c.values[c.values.length-1];if(c!==void 0&&Gs(c)&&(i===void 0||!Gs(i)))return c.value;if(i!==void 0&&Ai(i)){const[f,d]=Pg(this._automationEvents,o,c,i,this._defaultValue);return $g(t,f,d,i)}if(i!==void 0&&So(i)){const[f,d]=Pg(this._automationEvents,o,c,i,this._defaultValue);return ey(t,f,d,i)}return this._defaultValue}}const Xb=l=>({cancelTime:l,type:"cancelAndHold"}),Qb=l=>({cancelTime:l,type:"cancelScheduledValues"}),Zb=(l,t)=>({endTime:t,type:"exponentialRampToValue",value:l}),Wb=(l,t)=>({endTime:t,type:"linearRampToValue",value:l}),Kb=(l,t,a)=>({startTime:t,target:l,timeConstant:a,type:"setTarget"}),Jb=()=>new DOMException("","AbortError"),Pb=l=>(t,a,[i,o,c],f)=>{l(t[o],[a,i,c],d=>d[0]===a&&d[1]===i,f)},$b=l=>(t,a,i)=>{const o=[];for(let c=0;c<i.numberOfInputs;c+=1)o.push(new Set);l.set(t,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:a})},e1=l=>(t,a)=>{l.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:a})},wi=new WeakSet,Uy=new WeakMap,Ih=new WeakMap,By=new WeakMap,Xh=new WeakMap,Bo=new WeakMap,Ly=new WeakMap,qh=new WeakMap,jh=new WeakMap,zh=new WeakMap,Fy={construct(){return Fy}},t1=l=>{try{const t=new Proxy(l,Fy);new t}catch{return!1}return!0},ty=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,ny=(l,t)=>{const a=[];let i=l.replace(/^[\s]+/,""),o=i.match(ty);for(;o!==null;){const c=o[1].slice(1,-1),f=o[0].replace(/([\s]+)?;?$/,"").replace(c,new URL(c,t).toString());a.push(f),i=i.slice(o[0].length).replace(/^[\s]+/,""),o=i.match(ty)}return[a.join(";"),i]},sy=l=>{if(l!==void 0&&!Array.isArray(l))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},ay=l=>{if(!t1(l))throw new TypeError("The given value for processorCtor should be a constructor.");if(l.prototype===null||typeof l.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},n1=(l,t,a,i,o,c,f,d,p,m,y,_,b)=>{let T=0;return(S,A,E={credentials:"omit"})=>{const x=y.get(S);if(x!==void 0&&x.has(A))return Promise.resolve();const O=m.get(S);if(O!==void 0){const w=O.get(A);if(w!==void 0)return w}const B=c(S),k=B.audioWorklet===void 0?o(A).then(([w,j])=>{const[R,z]=ny(w,j),W=`${R};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${z}
})})(window,'_AWGS')`;return a(W)}).then(()=>{const w=b._AWGS.pop();if(w===void 0)throw new SyntaxError;i(B.currentTime,B.sampleRate,()=>w(class{},void 0,(j,R)=>{if(j.trim()==="")throw t();const z=jh.get(B);if(z!==void 0){if(z.has(j))throw t();ay(R),sy(R.parameterDescriptors),z.set(j,R)}else ay(R),sy(R.parameterDescriptors),jh.set(B,new Map([[j,R]]))},B.sampleRate,void 0,void 0))}):Promise.all([o(A),Promise.resolve(l(_,_))]).then(([[w,j],R])=>{const z=T+1;T=z;const[W,$]=ny(w,j),ae=`${W};((AudioWorkletProcessor,registerProcessor)=>{${$}
})(${R?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${R?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${R?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${z}',class extends AudioWorkletProcessor{process(){return !1}})`,ce=new Blob([ae],{type:"application/javascript; charset=utf-8"}),q=URL.createObjectURL(ce);return B.audioWorklet.addModule(q,E).then(()=>{if(d(B))return B;const I=f(B);return I.audioWorklet.addModule(q,E).then(()=>I)}).then(I=>{if(p===null)throw new SyntaxError;try{new p(I,`__sac${z}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(q))});return O===void 0?m.set(S,new Map([[A,k]])):O.set(A,k),k.then(()=>{const w=y.get(S);w===void 0?y.set(S,new Set([A])):w.add(A)}).finally(()=>{const w=m.get(S);w!==void 0&&w.delete(A)}),k}},Mn=(l,t)=>{const a=l.get(t);if(a===void 0)throw new Error("A value with the given key could not be found.");return a},Lo=(l,t)=>{const a=Array.from(l).filter(t);if(a.length>1)throw Error("More than one element was found.");if(a.length===0)throw Error("No element was found.");const[i]=a;return l.delete(i),i},Hy=(l,t,a,i)=>{const o=Mn(l,t),c=Lo(o,f=>f[0]===a&&f[1]===i);return o.size===0&&l.delete(t),c},Vr=l=>Mn(Ly,l),Ci=l=>{if(wi.has(l))throw new Error("The AudioNode is already stored.");wi.add(l),Vr(l).forEach(t=>t(!0))},Gy=l=>"port"in l,Ur=l=>{if(!wi.has(l))throw new Error("The AudioNode is not stored.");wi.delete(l),Vr(l).forEach(t=>t(!1))},Vh=(l,t)=>{!Gy(l)&&t.every(a=>a.size===0)&&Ur(l)},s1=(l,t,a,i,o,c,f,d,p,m,y,_,b)=>{const T=new WeakMap;return(S,A,E,x,O)=>{const{activeInputs:B,passiveInputs:k}=c(A),{outputs:w}=c(S),j=d(S),R=z=>{const W=p(A),$=p(S);if(z){const Z=Hy(k,S,E,x);l(B,S,Z,!1),!O&&!_(S)&&a($,W,E,x),b(A)&&Ci(A)}else{const Z=i(B,S,E,x);t(k,x,Z,!1),!O&&!_(S)&&o($,W,E,x);const G=f(A);if(G===0)y(A)&&Vh(A,B);else{const se=T.get(A);se!==void 0&&clearTimeout(se),T.set(A,setTimeout(()=>{y(A)&&Vh(A,B)},G*1e3))}}};return m(w,[A,E,x],z=>z[0]===A&&z[1]===E&&z[2]===x,!0)?(j.add(R),y(S)?l(B,S,[E,x,R],!0):t(k,x,[S,E,R],!0),!0):!1}},a1=l=>(t,a,[i,o,c],f)=>{const d=t.get(i);d===void 0?t.set(i,new Set([[o,a,c]])):l(d,[o,a,c],p=>p[0]===o&&p[1]===a,f)},i1=l=>(t,a)=>{const i=l(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.connect(i).connect(t.destination);const o=()=>{a.removeEventListener("ended",o),a.disconnect(i),i.disconnect()};a.addEventListener("ended",o)},r1=l=>(t,a)=>{l(t).add(a)},l1={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},o1=(l,t,a,i,o,c)=>class extends l{constructor(d,p){const m=o(d),y={...l1,...p},_=i(m,y),b=c(m)?t():null;super(d,!1,_,b),this._nativeAnalyserNode=_}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(d){this._nativeAnalyserNode.fftSize=d}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(d){const p=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=d,!(d>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=p,a()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(d){const p=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=d,!(this._nativeAnalyserNode.maxDecibels>d))throw this._nativeAnalyserNode.minDecibels=p,a()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(d){this._nativeAnalyserNode.smoothingTimeConstant=d}getByteFrequencyData(d){this._nativeAnalyserNode.getByteFrequencyData(d)}getByteTimeDomainData(d){this._nativeAnalyserNode.getByteTimeDomainData(d)}getFloatFrequencyData(d){this._nativeAnalyserNode.getFloatFrequencyData(d)}getFloatTimeDomainData(d){this._nativeAnalyserNode.getFloatTimeDomainData(d)}},jt=(l,t)=>l.context===t,u1=(l,t,a)=>()=>{const i=new WeakMap,o=async(c,f)=>{let d=t(c);if(!jt(d,f)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,fftSize:d.fftSize,maxDecibels:d.maxDecibels,minDecibels:d.minDecibels,smoothingTimeConstant:d.smoothingTimeConstant};d=l(f,m)}return i.set(f,d),await a(c,f,d),d};return{render(c,f){const d=i.get(f);return d!==void 0?Promise.resolve(d):o(c,f)}}},xo=l=>{try{l.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Hn=()=>new DOMException("","IndexSizeError"),Qh=l=>{l.getChannelData=(t=>a=>{try{return t.call(l,a)}catch(i){throw i.code===12?Hn():i}})(l.getChannelData)},c1={numberOfChannels:1},h1=(l,t,a,i,o,c,f,d)=>{let p=null;return class Yy{constructor(y){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:_,numberOfChannels:b,sampleRate:T}={...c1,...y};p===null&&(p=new o(1,1,44100));const S=i!==null&&t(c,c)?new i({length:_,numberOfChannels:b,sampleRate:T}):p.createBuffer(b,_,T);if(S.numberOfChannels===0)throw a();return typeof S.copyFromChannel!="function"?(f(S),Qh(S)):t(xo,()=>xo(S))||d(S),l.add(S),S}static[Symbol.hasInstance](y){return y!==null&&typeof y=="object"&&Object.getPrototypeOf(y)===Yy.prototype||l.has(y)}}},Zt=-34028234663852886e22,Vt=-Zt,hs=l=>wi.has(l),f1={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},d1=(l,t,a,i,o,c,f,d)=>class extends l{constructor(m,y){const _=c(m),b={...f1,...y},T=o(_,b),S=f(_),A=S?t():null;super(m,!1,T,A),this._audioBufferSourceNodeRenderer=A,this._isBufferNullified=!1,this._isBufferSet=b.buffer!==null,this._nativeAudioBufferSourceNode=T,this._onended=null,this._playbackRate=a(this,S,T.playbackRate,Vt,Zt)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(m){if(this._nativeAudioBufferSourceNode.buffer=m,m!==null){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(m){this._nativeAudioBufferSourceNode.loop=m}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(m){this._nativeAudioBufferSourceNode.loopEnd=m}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(m){this._nativeAudioBufferSourceNode.loopStart=m}get onended(){return this._onended}set onended(m){const y=typeof m=="function"?d(this,m):null;this._nativeAudioBufferSourceNode.onended=y;const _=this._nativeAudioBufferSourceNode.onended;this._onended=_!==null&&_===y?m:_}get playbackRate(){return this._playbackRate}start(m=0,y=0,_){if(this._nativeAudioBufferSourceNode.start(m,y,_),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=_===void 0?[m,y]:[m,y,_]),this.context.state!=="closed"){Ci(this);const b=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",b),hs(this)&&Ur(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",b)}}stop(m=0){this._nativeAudioBufferSourceNode.stop(m),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=m)}},p1=(l,t,a,i,o)=>()=>{const c=new WeakMap;let f=null,d=null;const p=async(m,y)=>{let _=a(m);const b=jt(_,y);if(!b){const T={buffer:_.buffer,channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,loop:_.loop,loopEnd:_.loopEnd,loopStart:_.loopStart,playbackRate:_.playbackRate.value};_=t(y,T),f!==null&&_.start(...f),d!==null&&_.stop(d)}return c.set(y,_),b?await l(y,m.playbackRate,_.playbackRate):await i(y,m.playbackRate,_.playbackRate),await o(m,y,_),_};return{set start(m){f=m},set stop(m){d=m},render(m,y){const _=c.get(y);return _!==void 0?Promise.resolve(_):p(m,y)}}},m1=l=>"playbackRate"in l,g1=l=>"frequency"in l&&"gain"in l,y1=l=>"offset"in l,_1=l=>!("frequency"in l)&&"gain"in l,v1=l=>"detune"in l&&"frequency"in l&&!("gain"in l),b1=l=>"pan"in l,Bt=l=>Mn(Uy,l),Br=l=>Mn(By,l),Uh=(l,t)=>{const{activeInputs:a}=Bt(l);a.forEach(o=>o.forEach(([c])=>{t.includes(l)||Uh(c,[...t,l])}));const i=m1(l)?[l.playbackRate]:Gy(l)?Array.from(l.parameters.values()):g1(l)?[l.Q,l.detune,l.frequency,l.gain]:y1(l)?[l.offset]:_1(l)?[l.gain]:v1(l)?[l.detune,l.frequency]:b1(l)?[l.pan]:[];for(const o of i){const c=Br(o);c!==void 0&&c.activeInputs.forEach(([f])=>Uh(f,t))}hs(l)&&Ur(l)},Iy=l=>{Uh(l.destination,[])},S1=l=>l===void 0||typeof l=="number"||typeof l=="string"&&(l==="balanced"||l==="interactive"||l==="playback"),T1=(l,t,a,i,o,c,f,d,p)=>class extends l{constructor(y={}){if(p===null)throw new Error("Missing the native AudioContext constructor.");let _;try{_=new p(y)}catch(S){throw S.code===12&&S.message==="sampleRate is not in range"?a():S}if(_===null)throw i();if(!S1(y.latencyHint))throw new TypeError(`The provided value '${y.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(y.sampleRate!==void 0&&_.sampleRate!==y.sampleRate)throw a();super(_,2);const{latencyHint:b}=y,{sampleRate:T}=_;if(this._baseLatency=typeof _.baseLatency=="number"?_.baseLatency:b==="balanced"?512/T:b==="interactive"||b===void 0?256/T:b==="playback"?1024/T:Math.max(2,Math.min(128,Math.round(b*T/128)))*128/T,this._nativeAudioContext=_,p.name==="webkitAudioContext"?(this._nativeGainNode=_.createGain(),this._nativeOscillatorNode=_.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(_.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,_.state==="running"){this._state="suspended";const S=()=>{this._state==="suspended"&&(this._state=null),_.removeEventListener("statechange",S)};_.addEventListener("statechange",S)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Iy(this)}))}createMediaElementSource(y){return new o(this,{mediaElement:y})}createMediaStreamDestination(){return new c(this)}createMediaStreamSource(y){return new f(this,{mediaStream:y})}createMediaStreamTrackSource(y){return new d(this,{mediaStreamTrack:y})}resume(){return this._state==="suspended"?new Promise((y,_)=>{const b=()=>{this._nativeAudioContext.removeEventListener("statechange",b),this._nativeAudioContext.state==="running"?y():this.resume().then(y,_)};this._nativeAudioContext.addEventListener("statechange",b)}):this._nativeAudioContext.resume().catch(y=>{throw y===void 0||y.code===15?t():y})}suspend(){return this._nativeAudioContext.suspend().catch(y=>{throw y===void 0?t():y})}},x1=(l,t,a,i,o,c,f,d)=>class extends l{constructor(m,y){const _=c(m),b=f(_),T=o(_,y,b),S=b?t(d):null;super(m,!1,T,S),this._isNodeOfNativeOfflineAudioContext=b,this._nativeAudioDestinationNode=T}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(m){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(m>this._nativeAudioDestinationNode.maxChannelCount)throw a();this._nativeAudioDestinationNode.channelCount=m}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(m){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=m}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},A1=l=>{const t=new WeakMap,a=async(i,o)=>{const c=o.destination;return t.set(o,c),await l(i,o,c),c};return{render(i,o){const c=t.get(o);return c!==void 0?Promise.resolve(c):a(i,o)}}},w1=(l,t,a,i,o,c,f,d)=>(p,m)=>{const y=m.listener,_=()=>{const w=new Float32Array(1),j=t(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),R=f(m);let z=!1,W=[0,0,-1,0,1,0],$=[0,0,0];const Z=()=>{if(z)return;z=!0;const ce=i(m,256,9,0);ce.onaudioprocess=({inputBuffer:q})=>{const I=[c(q,w,0),c(q,w,1),c(q,w,2),c(q,w,3),c(q,w,4),c(q,w,5)];I.some((J,ne)=>J!==W[ne])&&(y.setOrientation(...I),W=I);const Q=[c(q,w,6),c(q,w,7),c(q,w,8)];Q.some((J,ne)=>J!==$[ne])&&(y.setPosition(...Q),$=Q)},j.connect(ce)},G=ce=>q=>{q!==W[ce]&&(W[ce]=q,y.setOrientation(...W))},se=ce=>q=>{q!==$[ce]&&($[ce]=q,y.setPosition(...$))},ae=(ce,q,I)=>{const Q=a(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:q});Q.connect(j,0,ce),Q.start(),Object.defineProperty(Q.offset,"defaultValue",{get(){return q}});const J=l({context:p},R,Q.offset,Vt,Zt);return d(J,"value",ne=>()=>ne.call(J),ne=>C=>{try{ne.call(J,C)}catch(H){if(H.code!==9)throw H}Z(),R&&I(C)}),J.cancelAndHoldAtTime=(ne=>R?()=>{throw o()}:(...C)=>{const H=ne.apply(J,C);return Z(),H})(J.cancelAndHoldAtTime),J.cancelScheduledValues=(ne=>R?()=>{throw o()}:(...C)=>{const H=ne.apply(J,C);return Z(),H})(J.cancelScheduledValues),J.exponentialRampToValueAtTime=(ne=>R?()=>{throw o()}:(...C)=>{const H=ne.apply(J,C);return Z(),H})(J.exponentialRampToValueAtTime),J.linearRampToValueAtTime=(ne=>R?()=>{throw o()}:(...C)=>{const H=ne.apply(J,C);return Z(),H})(J.linearRampToValueAtTime),J.setTargetAtTime=(ne=>R?()=>{throw o()}:(...C)=>{const H=ne.apply(J,C);return Z(),H})(J.setTargetAtTime),J.setValueAtTime=(ne=>R?()=>{throw o()}:(...C)=>{const H=ne.apply(J,C);return Z(),H})(J.setValueAtTime),J.setValueCurveAtTime=(ne=>R?()=>{throw o()}:(...C)=>{const H=ne.apply(J,C);return Z(),H})(J.setValueCurveAtTime),J};return{forwardX:ae(0,0,G(0)),forwardY:ae(1,0,G(1)),forwardZ:ae(2,-1,G(2)),positionX:ae(6,0,se(0)),positionY:ae(7,0,se(1)),positionZ:ae(8,0,se(2)),upX:ae(3,0,G(3)),upY:ae(4,1,G(4)),upZ:ae(5,0,G(5))}},{forwardX:b,forwardY:T,forwardZ:S,positionX:A,positionY:E,positionZ:x,upX:O,upY:B,upZ:k}=y.forwardX===void 0?_():y;return{get forwardX(){return b},get forwardY(){return T},get forwardZ(){return S},get positionX(){return A},get positionY(){return E},get positionZ(){return x},get upX(){return O},get upY(){return B},get upZ(){return k}}},Ao=l=>"context"in l,Lr=l=>Ao(l[0]),qa=(l,t,a,i)=>{for(const o of l)if(a(o)){if(i)return!1;throw Error("The set contains at least one similar element.")}return l.add(t),!0},iy=(l,t,[a,i],o)=>{qa(l,[t,a,i],c=>c[0]===t&&c[1]===a,o)},ry=(l,[t,a,i],o)=>{const c=l.get(t);c===void 0?l.set(t,new Set([[a,i]])):qa(c,[a,i],f=>f[0]===a,o)},Di=l=>"inputs"in l,wo=(l,t,a,i)=>{if(Di(t)){const o=t.inputs[i];return l.connect(o,a,0),[o,a,0]}return l.connect(t,a,i),[t,a,i]},Xy=(l,t,a)=>{for(const i of l)if(i[0]===t&&i[1]===a)return l.delete(i),i;return null},C1=(l,t,a)=>Lo(l,i=>i[0]===t&&i[1]===a),Qy=(l,t)=>{if(!Vr(l).delete(t))throw new Error("Missing the expected event listener.")},Zy=(l,t,a)=>{const i=Mn(l,t),o=Lo(i,c=>c[0]===a);return i.size===0&&l.delete(t),o},Co=(l,t,a,i)=>{Di(t)?l.disconnect(t.inputs[i],a,0):l.disconnect(t,a,i)},et=l=>Mn(Ih,l),qr=l=>Mn(Xh,l),Oa=l=>qh.has(l),vo=l=>!wi.has(l),ly=(l,t)=>new Promise(a=>{if(t!==null)a(!0);else{const i=l.createScriptProcessor(256,1,1),o=l.createGain(),c=l.createBuffer(1,2,44100),f=c.getChannelData(0);f[0]=1,f[1]=1;const d=l.createBufferSource();d.buffer=c,d.loop=!0,d.connect(i).connect(l.destination),d.connect(o),d.disconnect(o),i.onaudioprocess=p=>{const m=p.inputBuffer.getChannelData(0);Array.prototype.some.call(m,y=>y===1)?a(!0):a(!1),d.stop(),i.onaudioprocess=null,d.disconnect(i),i.disconnect(l.destination)},d.start()}}),Eh=(l,t)=>{const a=new Map;for(const i of l)for(const o of i){const c=a.get(o);a.set(o,c===void 0?1:c+1)}a.forEach((i,o)=>t(o,i))},Eo=l=>"context"in l,E1=l=>{const t=new Map;l.connect=(a=>(i,o=0,c=0)=>{const f=Eo(i)?a(i,o,c):a(i,o),d=t.get(i);return d===void 0?t.set(i,[{input:c,output:o}]):d.every(p=>p.input!==c||p.output!==o)&&d.push({input:c,output:o}),f})(l.connect.bind(l)),l.disconnect=(a=>(i,o,c)=>{if(a.apply(l),i===void 0)t.clear();else if(typeof i=="number")for(const[f,d]of t){const p=d.filter(m=>m.output!==i);p.length===0?t.delete(f):t.set(f,p)}else if(t.has(i))if(o===void 0)t.delete(i);else{const f=t.get(i);if(f!==void 0){const d=f.filter(p=>p.output!==o&&(p.input!==c||c===void 0));d.length===0?t.delete(i):t.set(i,d)}}for(const[f,d]of t)d.forEach(p=>{Eo(f)?l.connect(f,p.output,p.input):l.connect(f,p.output)})})(l.disconnect)},N1=(l,t,a,i)=>{const{activeInputs:o,passiveInputs:c}=Br(t),{outputs:f}=Bt(l),d=Vr(l),p=m=>{const y=et(l),_=qr(t);if(m){const b=Zy(c,l,a);iy(o,l,b,!1),!i&&!Oa(l)&&y.connect(_,a)}else{const b=C1(o,l,a);ry(c,b,!1),!i&&!Oa(l)&&y.disconnect(_,a)}};return qa(f,[t,a],m=>m[0]===t&&m[1]===a,!0)?(d.add(p),hs(l)?iy(o,l,[a,p],!0):ry(c,[l,a,p],!0),!0):!1},O1=(l,t,a,i)=>{const{activeInputs:o,passiveInputs:c}=Bt(t),f=Xy(o[i],l,a);return f===null?[Hy(c,l,a,i)[2],!1]:[f[2],!0]},M1=(l,t,a)=>{const{activeInputs:i,passiveInputs:o}=Br(t),c=Xy(i,l,a);return c===null?[Zy(o,l,a)[1],!1]:[c[2],!0]},Zh=(l,t,a,i,o)=>{const[c,f]=O1(l,a,i,o);if(c!==null&&(Qy(l,c),f&&!t&&!Oa(l)&&Co(et(l),et(a),i,o)),hs(a)){const{activeInputs:d}=Bt(a);Vh(a,d)}},Wh=(l,t,a,i)=>{const[o,c]=M1(l,a,i);o!==null&&(Qy(l,o),c&&!t&&!Oa(l)&&et(l).disconnect(qr(a),i))},D1=(l,t)=>{const a=Bt(l),i=[];for(const o of a.outputs)Lr(o)?Zh(l,t,...o):Wh(l,t,...o),i.push(o[0]);return a.outputs.clear(),i},k1=(l,t,a)=>{const i=Bt(l),o=[];for(const c of i.outputs)c[1]===a&&(Lr(c)?Zh(l,t,...c):Wh(l,t,...c),o.push(c[0]),i.outputs.delete(c));return o},R1=(l,t,a,i,o)=>{const c=Bt(l);return Array.from(c.outputs).filter(f=>f[0]===a&&(i===void 0||f[1]===i)&&(o===void 0||f[2]===o)).map(f=>(Lr(f)?Zh(l,t,...f):Wh(l,t,...f),c.outputs.delete(f),f[0]))},q1=(l,t,a,i,o,c,f,d,p,m,y,_,b,T,S,A)=>class extends m{constructor(x,O,B,k){super(B),this._context=x,this._nativeAudioNode=B;const w=y(x);_(w)&&a(ly,()=>ly(w,A))!==!0&&E1(B),Ih.set(this,B),Ly.set(this,new Set),x.state!=="closed"&&O&&Ci(this),l(this,k,B)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(x){this._nativeAudioNode.channelCount=x}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(x){this._nativeAudioNode.channelCountMode=x}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(x){this._nativeAudioNode.channelInterpretation=x}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(x,O=0,B=0){if(O<0||O>=this._nativeAudioNode.numberOfOutputs)throw o();const k=y(this._context),w=S(k);if(b(x)||T(x))throw c();if(Ao(x)){const z=et(x);try{const $=wo(this._nativeAudioNode,z,O,B),Z=vo(this);(w||Z)&&this._nativeAudioNode.disconnect(...$),this.context.state!=="closed"&&!Z&&vo(x)&&Ci(x)}catch($){throw $.code===12?c():$}if(t(this,x,O,B,w)){const $=p([this],x);Eh($,i(w))}return x}const j=qr(x);if(j.name==="playbackRate"&&j.maxValue===1024)throw f();try{this._nativeAudioNode.connect(j,O),(w||vo(this))&&this._nativeAudioNode.disconnect(j,O)}catch(z){throw z.code===12?c():z}if(N1(this,x,O,w)){const z=p([this],x);Eh(z,i(w))}}disconnect(x,O,B){let k;const w=y(this._context),j=S(w);if(x===void 0)k=D1(this,j);else if(typeof x=="number"){if(x<0||x>=this.numberOfOutputs)throw o();k=k1(this,j,x)}else{if(O!==void 0&&(O<0||O>=this.numberOfOutputs)||Ao(x)&&B!==void 0&&(B<0||B>=x.numberOfInputs))throw o();if(k=R1(this,j,x,O,B),k.length===0)throw c()}for(const R of k){const z=p([this],R);Eh(z,d)}}},j1=(l,t,a,i,o,c,f,d,p,m,y,_,b)=>(T,S,A,E=null,x=null)=>{const O=A.value,B=new Ib(O),k=S?i(B):null,w={get defaultValue(){return O},get maxValue(){return E===null?A.maxValue:E},get minValue(){return x===null?A.minValue:x},get value(){return A.value},set value(j){A.value=j,w.setValueAtTime(j,T.context.currentTime)},cancelAndHoldAtTime(j){if(typeof A.cancelAndHoldAtTime=="function")k===null&&B.flush(T.context.currentTime),B.add(o(j)),A.cancelAndHoldAtTime(j);else{const R=Array.from(B).pop();k===null&&B.flush(T.context.currentTime),B.add(o(j));const z=Array.from(B).pop();A.cancelScheduledValues(j),R!==z&&z!==void 0&&(z.type==="exponentialRampToValue"?A.exponentialRampToValueAtTime(z.value,z.endTime):z.type==="linearRampToValue"?A.linearRampToValueAtTime(z.value,z.endTime):z.type==="setValue"?A.setValueAtTime(z.value,z.startTime):z.type==="setValueCurve"&&A.setValueCurveAtTime(z.values,z.startTime,z.duration))}return w},cancelScheduledValues(j){return k===null&&B.flush(T.context.currentTime),B.add(c(j)),A.cancelScheduledValues(j),w},exponentialRampToValueAtTime(j,R){if(j===0)throw new RangeError;if(!Number.isFinite(R)||R<0)throw new RangeError;const z=T.context.currentTime;return k===null&&B.flush(z),Array.from(B).length===0&&(B.add(m(O,z)),A.setValueAtTime(O,z)),B.add(f(j,R)),A.exponentialRampToValueAtTime(j,R),w},linearRampToValueAtTime(j,R){const z=T.context.currentTime;return k===null&&B.flush(z),Array.from(B).length===0&&(B.add(m(O,z)),A.setValueAtTime(O,z)),B.add(d(j,R)),A.linearRampToValueAtTime(j,R),w},setTargetAtTime(j,R,z){return k===null&&B.flush(T.context.currentTime),B.add(p(j,R,z)),A.setTargetAtTime(j,R,z),w},setValueAtTime(j,R){return k===null&&B.flush(T.context.currentTime),B.add(m(j,R)),A.setValueAtTime(j,R),w},setValueCurveAtTime(j,R,z){const W=j instanceof Float32Array?j:new Float32Array(j);if(_!==null&&_.name==="webkitAudioContext"){const $=R+z,Z=T.context.sampleRate,G=Math.ceil(R*Z),se=Math.floor($*Z),ae=se-G,ce=new Float32Array(ae);for(let I=0;I<ae;I+=1){const Q=(W.length-1)/z*((G+I)/Z-R),J=Math.floor(Q),ne=Math.ceil(Q);ce[I]=J===ne?W[J]:(1-(Q-J))*W[J]+(1-(ne-Q))*W[ne]}k===null&&B.flush(T.context.currentTime),B.add(y(ce,R,z)),A.setValueCurveAtTime(ce,R,z);const q=se/Z;q<$&&b(w,ce[ce.length-1],q),b(w,W[W.length-1],$)}else k===null&&B.flush(T.context.currentTime),B.add(y(W,R,z)),A.setValueCurveAtTime(W,R,z);return w}};return a.set(w,A),t.set(w,T),l(w,k),w},z1=l=>({replay(t){for(const a of l)if(a.type==="exponentialRampToValue"){const{endTime:i,value:o}=a;t.exponentialRampToValueAtTime(o,i)}else if(a.type==="linearRampToValue"){const{endTime:i,value:o}=a;t.linearRampToValueAtTime(o,i)}else if(a.type==="setTarget"){const{startTime:i,target:o,timeConstant:c}=a;t.setTargetAtTime(o,i,c)}else if(a.type==="setValue"){const{startTime:i,value:o}=a;t.setValueAtTime(o,i)}else if(a.type==="setValueCurve"){const{duration:i,startTime:o,values:c}=a;t.setValueCurveAtTime(c,o,i)}else throw new Error("Can't apply an unknown automation.")}});class Wy{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,a=null){return this._map.forEach((i,o)=>t.call(a,i,o,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const V1={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},U1=(l,t,a,i,o,c,f,d,p,m,y,_,b,T)=>class extends t{constructor(A,E,x){var O;const B=d(A),k=p(B),w=y({...V1,...x});b(w);const j=jh.get(B),R=j?.get(E),z=k||B.state!=="closed"?B:(O=f(B))!==null&&O!==void 0?O:B,W=o(z,k?null:A.baseLatency,m,E,R,w),$=k?i(E,w,R):null;super(A,!0,W,$);const Z=[];W.parameters.forEach((se,ae)=>{const ce=a(this,k,se);Z.push([ae,ce])}),this._nativeAudioWorkletNode=W,this._onprocessorerror=null,this._parameters=new Wy(Z),k&&l(B,this);const{activeInputs:G}=c(this);_(W,G)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(A){const E=typeof A=="function"?T(this,A):null;this._nativeAudioWorkletNode.onprocessorerror=E;const x=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=x!==null&&x===E?A:x}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function No(l,t,a,i,o){if(typeof l.copyFromChannel=="function")t[a].byteLength===0&&(t[a]=new Float32Array(128)),l.copyFromChannel(t[a],i,o);else{const c=l.getChannelData(i);if(t[a].byteLength===0)t[a]=c.slice(o,o+128);else{const f=new Float32Array(c.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);t[a].set(f)}}}const Ky=(l,t,a,i,o)=>{typeof l.copyToChannel=="function"?t[a].byteLength!==0&&l.copyToChannel(t[a],i,o):t[a].byteLength!==0&&l.getChannelData(i).set(t[a],o)},Oo=(l,t)=>{const a=[];for(let i=0;i<l;i+=1){const o=[],c=typeof t=="number"?t:t[i];for(let f=0;f<c;f+=1)o.push(new Float32Array(128));a.push(o)}return a},B1=(l,t)=>{const a=Mn(zh,l),i=et(t);return Mn(a,i)},L1=async(l,t,a,i,o,c,f)=>{const d=t===null?Math.ceil(l.context.length/128)*128:t.length,p=i.channelCount*i.numberOfInputs,m=o.reduce((E,x)=>E+x,0),y=m===0?null:a.createBuffer(m,d,a.sampleRate);if(c===void 0)throw new Error("Missing the processor constructor.");const _=Bt(l),b=await B1(a,l),T=Oo(i.numberOfInputs,i.channelCount),S=Oo(i.numberOfOutputs,o),A=Array.from(l.parameters.keys()).reduce((E,x)=>({...E,[x]:new Float32Array(128)}),{});for(let E=0;E<d;E+=128){if(i.numberOfInputs>0&&t!==null)for(let x=0;x<i.numberOfInputs;x+=1)for(let O=0;O<i.channelCount;O+=1)No(t,T[x],O,O,E);c.parameterDescriptors!==void 0&&t!==null&&c.parameterDescriptors.forEach(({name:x},O)=>{No(t,A,x,p+O,E)});for(let x=0;x<i.numberOfInputs;x+=1)for(let O=0;O<o[x];O+=1)S[x][O].byteLength===0&&(S[x][O]=new Float32Array(128));try{const x=T.map((B,k)=>_.activeInputs[k].size===0?[]:B),O=f(E/a.sampleRate,a.sampleRate,()=>b.process(x,S,A));if(y!==null)for(let B=0,k=0;B<i.numberOfOutputs;B+=1){for(let w=0;w<o[B];w+=1)Ky(y,S[B],w,k+w,E);k+=o[B]}if(!O)break}catch(x){l.dispatchEvent(new ErrorEvent("processorerror",{colno:x.colno,filename:x.filename,lineno:x.lineno,message:x.message}));break}}return y},F1=(l,t,a,i,o,c,f,d,p,m,y,_,b,T,S,A)=>(E,x,O)=>{const B=new WeakMap;let k=null;const w=async(j,R)=>{let z=y(j),W=null;const $=jt(z,R),Z=Array.isArray(x.outputChannelCount)?x.outputChannelCount:Array.from(x.outputChannelCount);if(_===null){const G=Z.reduce((q,I)=>q+I,0),se=o(R,{channelCount:Math.max(1,G),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,G)}),ae=[];for(let q=0;q<j.numberOfOutputs;q+=1)ae.push(i(R,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Z[q]}));const ce=f(R,{channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:1});ce.connect=t.bind(null,ae),ce.disconnect=p.bind(null,ae),W=[se,ae,ce]}else $||(z=new _(R,E));if(B.set(R,W===null?z:W[2]),W!==null){if(k===null){if(O===void 0)throw new Error("Missing the processor constructor.");if(b===null)throw new Error("Missing the native OfflineAudioContext constructor.");const I=j.channelCount*j.numberOfInputs,Q=O.parameterDescriptors===void 0?0:O.parameterDescriptors.length,J=I+Q;k=L1(j,J===0?null:await(async()=>{const C=new b(J,Math.ceil(j.context.length/128)*128,R.sampleRate),H=[],te=[];for(let ue=0;ue<x.numberOfInputs;ue+=1)H.push(f(C,{channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:1})),te.push(o(C,{channelCount:x.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:x.channelCount}));const re=await Promise.all(Array.from(j.parameters.values()).map(async ue=>{const he=c(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ue.value});return await T(C,ue,he.offset),he})),ie=i(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,I+Q)});for(let ue=0;ue<x.numberOfInputs;ue+=1){H[ue].connect(te[ue]);for(let he=0;he<x.channelCount;he+=1)te[ue].connect(ie,he,ue*x.channelCount+he)}for(const[ue,he]of re.entries())he.connect(ie,0,I+ue),he.start(0);return ie.connect(C.destination),await Promise.all(H.map(ue=>S(j,C,ue))),A(C)})(),R,x,Z,O,m)}const G=await k,se=a(R,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[ae,ce,q]=W;G!==null&&(se.buffer=G,se.start(0)),se.connect(ae);for(let I=0,Q=0;I<j.numberOfOutputs;I+=1){const J=ce[I];for(let ne=0;ne<Z[I];ne+=1)ae.connect(J,Q+ne,ne);Q+=Z[I]}return q}if($)for(const[G,se]of j.parameters.entries())await l(R,se,z.parameters.get(G));else for(const[G,se]of j.parameters.entries())await T(R,se,z.parameters.get(G));return await S(j,R,z),z};return{render(j,R){d(R,j);const z=B.get(R);return z!==void 0?Promise.resolve(z):w(j,R)}}},H1=(l,t,a,i,o,c,f,d,p,m,y,_,b,T,S,A,E,x,O,B)=>class extends S{constructor(w,j){super(w,j),this._nativeContext=w,this._audioWorklet=l===void 0?void 0:{addModule:(R,z)=>l(this,R,z)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new o(this)}createBuffer(w,j,R){return new a({length:j,numberOfChannels:w,sampleRate:R})}createBufferSource(){return new i(this)}createChannelMerger(w=6){return new c(this,{numberOfInputs:w})}createChannelSplitter(w=6){return new f(this,{numberOfOutputs:w})}createConstantSource(){return new d(this)}createConvolver(){return new p(this)}createDelay(w=1){return new y(this,{maxDelayTime:w})}createDynamicsCompressor(){return new _(this)}createGain(){return new b(this)}createIIRFilter(w,j){return new T(this,{feedback:j,feedforward:w})}createOscillator(){return new A(this)}createPanner(){return new E(this)}createPeriodicWave(w,j,R={disableNormalization:!1}){return new x(this,{...R,imag:j,real:w})}createStereoPanner(){return new O(this)}createWaveShaper(){return new B(this)}decodeAudioData(w,j,R){return m(this._nativeContext,w).then(z=>(typeof j=="function"&&j(z),z),z=>{throw typeof R=="function"&&R(z),z})}},G1={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Y1=(l,t,a,i,o,c,f,d)=>class extends l{constructor(m,y){const _=c(m),b={...G1,...y},T=o(_,b),S=f(_),A=S?a():null;super(m,!1,T,A),this._Q=t(this,S,T.Q,Vt,Zt),this._detune=t(this,S,T.detune,1200*Math.log2(Vt),-1200*Math.log2(Vt)),this._frequency=t(this,S,T.frequency,m.sampleRate/2,0),this._gain=t(this,S,T.gain,40*Math.log10(Vt),Zt),this._nativeBiquadFilterNode=T,d(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(m){this._nativeBiquadFilterNode.type=m}getFrequencyResponse(m,y,_){try{this._nativeBiquadFilterNode.getFrequencyResponse(m,y,_)}catch(b){throw b.code===11?i():b}if(m.length!==y.length||y.length!==_.length)throw i()}},I1=(l,t,a,i,o)=>()=>{const c=new WeakMap,f=async(d,p)=>{let m=a(d);const y=jt(m,p);if(!y){const _={Q:m.Q.value,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,detune:m.detune.value,frequency:m.frequency.value,gain:m.gain.value,type:m.type};m=t(p,_)}return c.set(p,m),y?(await l(p,d.Q,m.Q),await l(p,d.detune,m.detune),await l(p,d.frequency,m.frequency),await l(p,d.gain,m.gain)):(await i(p,d.Q,m.Q),await i(p,d.detune,m.detune),await i(p,d.frequency,m.frequency),await i(p,d.gain,m.gain)),await o(d,p,m),m};return{render(d,p){const m=c.get(p);return m!==void 0?Promise.resolve(m):f(d,p)}}},X1=(l,t)=>(a,i)=>{const o=t.get(a);if(o!==void 0)return o;const c=l.get(a);if(c!==void 0)return c;try{const f=i();return f instanceof Promise?(l.set(a,f),f.catch(()=>!1).then(d=>(l.delete(a),t.set(a,d),d))):(t.set(a,f),f)}catch{return t.set(a,!1),!1}},Q1={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Z1=(l,t,a,i,o)=>class extends l{constructor(f,d){const p=i(f),m={...Q1,...d},y=a(p,m),_=o(p)?t():null;super(f,!1,y,_)}},W1=(l,t,a)=>()=>{const i=new WeakMap,o=async(c,f)=>{let d=t(c);if(!jt(d,f)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfInputs:d.numberOfInputs};d=l(f,m)}return i.set(f,d),await a(c,f,d),d};return{render(c,f){const d=i.get(f);return d!==void 0?Promise.resolve(d):o(c,f)}}},K1={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},J1=(l,t,a,i,o,c)=>class extends l{constructor(d,p){const m=i(d),y=c({...K1,...p}),_=a(m,y),b=o(m)?t():null;super(d,!1,_,b)}},P1=(l,t,a)=>()=>{const i=new WeakMap,o=async(c,f)=>{let d=t(c);if(!jt(d,f)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfOutputs:d.numberOfOutputs};d=l(f,m)}return i.set(f,d),await a(c,f,d),d};return{render(c,f){const d=i.get(f);return d!==void 0?Promise.resolve(d):o(c,f)}}},$1=l=>(t,a,i)=>l(a,t,i),eS=l=>(t,a,i=0,o=0)=>{const c=t[i];if(c===void 0)throw l();return Eo(a)?c.connect(a,0,o):c.connect(a,0)},tS=l=>(t,a)=>{const i=l(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=t.createBuffer(1,2,44100);return i.buffer=o,i.loop=!0,i.connect(a),i.start(),()=>{i.stop(),i.disconnect(a)}},nS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},sS=(l,t,a,i,o,c,f)=>class extends l{constructor(p,m){const y=o(p),_={...nS,...m},b=i(y,_),T=c(y),S=T?a():null;super(p,!1,b,S),this._constantSourceNodeRenderer=S,this._nativeConstantSourceNode=b,this._offset=t(this,T,b.offset,Vt,Zt),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(p){const m=typeof p=="function"?f(this,p):null;this._nativeConstantSourceNode.onended=m;const y=this._nativeConstantSourceNode.onended;this._onended=y!==null&&y===m?p:y}start(p=0){if(this._nativeConstantSourceNode.start(p),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=p),this.context.state!=="closed"){Ci(this);const m=()=>{this._nativeConstantSourceNode.removeEventListener("ended",m),hs(this)&&Ur(this)};this._nativeConstantSourceNode.addEventListener("ended",m)}}stop(p=0){this._nativeConstantSourceNode.stop(p),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=p)}},aS=(l,t,a,i,o)=>()=>{const c=new WeakMap;let f=null,d=null;const p=async(m,y)=>{let _=a(m);const b=jt(_,y);if(!b){const T={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,offset:_.offset.value};_=t(y,T),f!==null&&_.start(f),d!==null&&_.stop(d)}return c.set(y,_),b?await l(y,m.offset,_.offset):await i(y,m.offset,_.offset),await o(m,y,_),_};return{set start(m){f=m},set stop(m){d=m},render(m,y){const _=c.get(y);return _!==void 0?Promise.resolve(_):p(m,y)}}},iS=l=>t=>(l[0]=t,l[0]),rS={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},lS=(l,t,a,i,o,c)=>class extends l{constructor(d,p){const m=i(d),y={...rS,...p},_=a(m,y),T=o(m)?t():null;super(d,!1,_,T),this._isBufferNullified=!1,this._nativeConvolverNode=_,y.buffer!==null&&c(this,y.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(d){if(this._nativeConvolverNode.buffer=d,d===null&&this._nativeConvolverNode.buffer!==null){const p=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=p.createBuffer(1,1,p.sampleRate),this._isBufferNullified=!0,c(this,0)}else this._isBufferNullified=!1,c(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(d){this._nativeConvolverNode.normalize=d}},oS=(l,t,a)=>()=>{const i=new WeakMap,o=async(c,f)=>{let d=t(c);if(!jt(d,f)){const m={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,disableNormalization:!d.normalize};d=l(f,m)}return i.set(f,d),Di(d)?await a(c,f,d.inputs[0]):await a(c,f,d),d};return{render(c,f){const d=i.get(f);return d!==void 0?Promise.resolve(d):o(c,f)}}},uS=(l,t)=>(a,i,o)=>{if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(a,i,o)}catch(c){throw c.name==="SyntaxError"?l():c}},cS=()=>new DOMException("","DataCloneError"),oy=l=>{const{port1:t,port2:a}=new MessageChannel;return new Promise(i=>{const o=()=>{a.onmessage=null,t.close(),a.close(),i()};a.onmessage=()=>o();try{t.postMessage(l,[l])}catch{}finally{o()}})},hS=(l,t,a,i,o,c,f,d,p,m,y)=>(_,b)=>{const T=f(_)?_:c(_);if(o.has(b)){const S=a();return Promise.reject(S)}try{o.add(b)}catch{}return t(p,()=>p(T))?T.decodeAudioData(b).then(S=>(oy(b).catch(()=>{}),t(d,()=>d(S))||y(S),l.add(S),S)):new Promise((S,A)=>{const E=async()=>{try{await oy(b)}catch{}},x=O=>{A(O),E()};try{T.decodeAudioData(b,O=>{typeof O.copyFromChannel!="function"&&(m(O),Qh(O)),l.add(O),E().then(()=>S(O))},O=>{x(O===null?i():O)})}catch(O){x(O)}})},fS=(l,t,a,i,o,c,f,d)=>(p,m)=>{const y=t.get(p);if(y===void 0)throw new Error("Missing the expected cycle count.");const _=c(p.context),b=d(_);if(y===m){if(t.delete(p),!b&&f(p)){const T=i(p),{outputs:S}=a(p);for(const A of S)if(Lr(A)){const E=i(A[0]);l(T,E,A[1],A[2])}else{const E=o(A[0]);T.connect(E,A[1])}}}else t.set(p,y-m)},dS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},pS=(l,t,a,i,o,c,f)=>class extends l{constructor(p,m){const y=o(p),_={...dS,...m},b=i(y,_),T=c(y),S=T?a(_.maxDelayTime):null;super(p,!1,b,S),this._delayTime=t(this,T,b.delayTime),f(this,_.maxDelayTime)}get delayTime(){return this._delayTime}},mS=(l,t,a,i,o)=>c=>{const f=new WeakMap,d=async(p,m)=>{let y=a(p);const _=jt(y,m);if(!_){const b={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,delayTime:y.delayTime.value,maxDelayTime:c};y=t(m,b)}return f.set(m,y),_?await l(m,p.delayTime,y.delayTime):await i(m,p.delayTime,y.delayTime),await o(p,m,y),y};return{render(p,m){const y=f.get(m);return y!==void 0?Promise.resolve(y):d(p,m)}}},gS=l=>(t,a,i,o)=>l(t[o],c=>c[0]===a&&c[1]===i),yS=l=>(t,a)=>{l(t).delete(a)},_S=l=>"delayTime"in l,vS=(l,t,a)=>function i(o,c){const f=Ao(c)?c:a(l,c);if(_S(f))return[];if(o[0]===f)return[o];if(o.includes(f))return[];const{outputs:d}=t(f);return Array.from(d).map(p=>i([...o,f],p[0])).reduce((p,m)=>p.concat(m),[])},go=(l,t,a)=>{const i=t[a];if(i===void 0)throw l();return i},bS=l=>(t,a=void 0,i=void 0,o=0)=>a===void 0?t.forEach(c=>c.disconnect()):typeof a=="number"?go(l,t,a).disconnect():Eo(a)?i===void 0?t.forEach(c=>c.disconnect(a)):o===void 0?go(l,t,i).disconnect(a,0):go(l,t,i).disconnect(a,0,o):i===void 0?t.forEach(c=>c.disconnect(a)):go(l,t,i).disconnect(a,0),SS={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},TS=(l,t,a,i,o,c,f,d)=>class extends l{constructor(m,y){const _=c(m),b={...SS,...y},T=i(_,b),S=f(_),A=S?a():null;super(m,!1,T,A),this._attack=t(this,S,T.attack),this._knee=t(this,S,T.knee),this._nativeDynamicsCompressorNode=T,this._ratio=t(this,S,T.ratio),this._release=t(this,S,T.release),this._threshold=t(this,S,T.threshold),d(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(m){const y=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=m,m>2)throw this._nativeDynamicsCompressorNode.channelCount=y,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(m){const y=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=m,m==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=y,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},xS=(l,t,a,i,o)=>()=>{const c=new WeakMap,f=async(d,p)=>{let m=a(d);const y=jt(m,p);if(!y){const _={attack:m.attack.value,channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,knee:m.knee.value,ratio:m.ratio.value,release:m.release.value,threshold:m.threshold.value};m=t(p,_)}return c.set(p,m),y?(await l(p,d.attack,m.attack),await l(p,d.knee,m.knee),await l(p,d.ratio,m.ratio),await l(p,d.release,m.release),await l(p,d.threshold,m.threshold)):(await i(p,d.attack,m.attack),await i(p,d.knee,m.knee),await i(p,d.ratio,m.ratio),await i(p,d.release,m.release),await i(p,d.threshold,m.threshold)),await o(d,p,m),m};return{render(d,p){const m=c.get(p);return m!==void 0?Promise.resolve(m):f(d,p)}}},AS=()=>new DOMException("","EncodingError"),wS=l=>t=>new Promise((a,i)=>{if(l===null){i(new SyntaxError);return}const o=l.document.head;if(o===null)i(new SyntaxError);else{const c=l.document.createElement("script"),f=new Blob([t],{type:"application/javascript"}),d=URL.createObjectURL(f),p=l.onerror,m=()=>{l.onerror=p,URL.revokeObjectURL(d)};l.onerror=(y,_,b,T,S)=>{if(_===d||_===l.location.href&&b===1&&T===1)return m(),i(S),!1;if(p!==null)return p(y,_,b,T,S)},c.onerror=()=>{m(),i(new SyntaxError)},c.onload=()=>{m(),a()},c.src=d,c.type="module",o.appendChild(c)}}),CS=l=>class{constructor(a){this._nativeEventTarget=a,this._listeners=new WeakMap}addEventListener(a,i,o){if(i!==null){let c=this._listeners.get(i);c===void 0&&(c=l(this,i),typeof i=="function"&&this._listeners.set(i,c)),this._nativeEventTarget.addEventListener(a,c,o)}}dispatchEvent(a){return this._nativeEventTarget.dispatchEvent(a)}removeEventListener(a,i,o){const c=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(a,c===void 0?null:c,o)}},ES=l=>(t,a,i)=>{Object.defineProperties(l,{currentFrame:{configurable:!0,get(){return Math.round(t*a)}},currentTime:{configurable:!0,get(){return t}}});try{return i()}finally{l!==null&&(delete l.currentFrame,delete l.currentTime)}},NS=l=>async t=>{try{const a=await fetch(t);if(a.ok)return[await a.text(),a.url]}catch{}throw l()},OS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},MS=(l,t,a,i,o,c)=>class extends l{constructor(d,p){const m=o(d),y={...OS,...p},_=i(m,y),b=c(m),T=b?a():null;super(d,!1,_,T),this._gain=t(this,b,_.gain,Vt,Zt)}get gain(){return this._gain}},DS=(l,t,a,i,o)=>()=>{const c=new WeakMap,f=async(d,p)=>{let m=a(d);const y=jt(m,p);if(!y){const _={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:m.gain.value};m=t(p,_)}return c.set(p,m),y?await l(p,d.gain,m.gain):await i(p,d.gain,m.gain),await o(d,p,m),m};return{render(d,p){const m=c.get(p);return m!==void 0?Promise.resolve(m):f(d,p)}}},kS=(l,t)=>a=>t(l,a),RS=l=>t=>{const a=l(t);if(a.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return a.renderer},qS=l=>t=>{var a;return(a=l.get(t))!==null&&a!==void 0?a:0},jS=l=>t=>{const a=l(t);if(a.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return a.renderer},zS=l=>t=>l.get(t),Tt=()=>new DOMException("","InvalidStateError"),VS=l=>t=>{const a=l.get(t);if(a===void 0)throw Tt();return a},US=(l,t)=>a=>{let i=l.get(a);if(i!==void 0)return i;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new t(1,1,44100),l.set(a,i),i},BS=l=>t=>{const a=l.get(t);if(a===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return a},Fo=()=>new DOMException("","InvalidAccessError"),LS=l=>{l.getFrequencyResponse=(t=>(a,i,o)=>{if(a.length!==i.length||i.length!==o.length)throw Fo();return t.call(l,a,i,o)})(l.getFrequencyResponse)},FS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},HS=(l,t,a,i,o,c)=>class extends l{constructor(d,p){const m=i(d),y=o(m),_={...FS,...p},b=t(m,y?null:d.baseLatency,_),T=y?a(_.feedback,_.feedforward):null;super(d,!1,b,T),LS(b),this._nativeIIRFilterNode=b,c(this,1)}getFrequencyResponse(d,p,m){return this._nativeIIRFilterNode.getFrequencyResponse(d,p,m)}},Jy=(l,t,a,i,o,c,f,d,p,m,y)=>{const _=m.length;let b=d;for(let T=0;T<_;T+=1){let S=a[0]*m[T];for(let A=1;A<o;A+=1){const E=b-A&p-1;S+=a[A]*c[E],S-=l[A]*f[E]}for(let A=o;A<i;A+=1)S+=a[A]*c[b-A&p-1];for(let A=o;A<t;A+=1)S-=l[A]*f[b-A&p-1];c[b]=m[T],f[b]=S,b=b+1&p-1,y[T]=S}return b},GS=(l,t,a,i)=>{const o=a instanceof Float64Array?a:new Float64Array(a),c=i instanceof Float64Array?i:new Float64Array(i),f=o.length,d=c.length,p=Math.min(f,d);if(o[0]!==1){for(let S=0;S<f;S+=1)c[S]/=o[0];for(let S=1;S<d;S+=1)o[S]/=o[0]}const m=32,y=new Float32Array(m),_=new Float32Array(m),b=t.createBuffer(l.numberOfChannels,l.length,l.sampleRate),T=l.numberOfChannels;for(let S=0;S<T;S+=1){const A=l.getChannelData(S),E=b.getChannelData(S);y.fill(0),_.fill(0),Jy(o,f,c,d,p,y,_,0,m,A,E)}return b},YS=(l,t,a,i,o)=>(c,f)=>{const d=new WeakMap;let p=null;const m=async(y,_)=>{let b=null,T=t(y);const S=jt(T,_);if(_.createIIRFilter===void 0?b=l(_,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):S||(T=_.createIIRFilter(f,c)),d.set(_,b===null?T:b),b!==null){if(p===null){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const E=new a(y.context.destination.channelCount,y.context.length,_.sampleRate);p=(async()=>{await i(y,E,E.destination);const x=await o(E);return GS(x,_,c,f)})()}const A=await p;return b.buffer=A,b.start(0),b}return await i(y,_,T),T};return{render(y,_){const b=d.get(_);return b!==void 0?Promise.resolve(b):m(y,_)}}},IS=(l,t,a,i,o,c)=>f=>(d,p)=>{const m=l.get(d);if(m===void 0){if(!f&&c(d)){const y=i(d),{outputs:_}=a(d);for(const b of _)if(Lr(b)){const T=i(b[0]);t(y,T,b[1],b[2])}else{const T=o(b[0]);y.disconnect(T,b[1])}}l.set(d,p)}else l.set(d,m+p)},XS=(l,t)=>a=>{const i=l.get(a);return t(i)||t(a)},QS=(l,t)=>a=>l.has(a)||t(a),ZS=(l,t)=>a=>l.has(a)||t(a),WS=(l,t)=>a=>{const i=l.get(a);return t(i)||t(a)},KS=l=>t=>l!==null&&t instanceof l,JS=l=>t=>l!==null&&typeof l.AudioNode=="function"&&t instanceof l.AudioNode,PS=l=>t=>l!==null&&typeof l.AudioParam=="function"&&t instanceof l.AudioParam,$S=(l,t)=>a=>l(a)||t(a),eT=l=>t=>l!==null&&t instanceof l,tT=l=>l!==null&&l.isSecureContext,nT=(l,t,a,i)=>class extends l{constructor(c,f){const d=a(c),p=t(d,f);if(i(d))throw TypeError();super(c,!0,p,null),this._nativeMediaElementAudioSourceNode=p}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},sT={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},aT=(l,t,a,i)=>class extends l{constructor(c,f){const d=a(c);if(i(d))throw new TypeError;const p={...sT,...f},m=t(d,p);super(c,!1,m,null),this._nativeMediaStreamAudioDestinationNode=m}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},iT=(l,t,a,i)=>class extends l{constructor(c,f){const d=a(c),p=t(d,f);if(i(d))throw new TypeError;super(c,!0,p,null),this._nativeMediaStreamAudioSourceNode=p}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},rT=(l,t,a)=>class extends l{constructor(o,c){const f=a(o),d=t(f,c);super(o,!0,d,null)}},lT=(l,t,a,i,o,c)=>class extends a{constructor(d,p){super(d),this._nativeContext=d,Bo.set(this,d),i(d)&&o.set(d,new Set),this._destination=new l(this,p),this._listener=t(this,d),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(d){const p=typeof d=="function"?c(this,d):null;this._nativeContext.onstatechange=p;const m=this._nativeContext.onstatechange;this._onstatechange=m!==null&&m===p?d:m}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},jr=l=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const a=l.decodeAudioData(t.buffer,()=>{});return a===void 0?!1:(a.catch(()=>{}),!0)}catch{}return!1},oT=(l,t)=>(a,i,o)=>{const c=new Set;return a.connect=(f=>(d,p=0,m=0)=>{const y=c.size===0;if(t(d))return f.call(a,d,p,m),l(c,[d,p,m],_=>_[0]===d&&_[1]===p&&_[2]===m,!0),y&&i(),d;f.call(a,d,p),l(c,[d,p],_=>_[0]===d&&_[1]===p,!0),y&&i()})(a.connect),a.disconnect=(f=>(d,p,m)=>{const y=c.size>0;if(d===void 0)f.apply(a),c.clear();else if(typeof d=="number"){f.call(a,d);for(const b of c)b[1]===d&&c.delete(b)}else{t(d)?f.call(a,d,p,m):f.call(a,d,p);for(const b of c)b[0]===d&&(p===void 0||b[1]===p)&&(m===void 0||b[2]===m)&&c.delete(b)}const _=c.size===0;y&&_&&o()})(a.disconnect),a},st=(l,t,a)=>{const i=t[a];i!==void 0&&i!==l[a]&&(l[a]=i)},vt=(l,t)=>{st(l,t,"channelCount"),st(l,t,"channelCountMode"),st(l,t,"channelInterpretation")},uy=l=>typeof l.getFloatTimeDomainData=="function",uT=l=>{l.getFloatTimeDomainData=t=>{const a=new Uint8Array(t.length);l.getByteTimeDomainData(a);const i=Math.max(a.length,l.fftSize);for(let o=0;o<i;o+=1)t[o]=(a[o]-128)*.0078125;return t}},cT=(l,t)=>(a,i)=>{const o=a.createAnalyser();if(vt(o,i),!(i.maxDecibels>i.minDecibels))throw t();return st(o,i,"fftSize"),st(o,i,"maxDecibels"),st(o,i,"minDecibels"),st(o,i,"smoothingTimeConstant"),l(uy,()=>uy(o))||uT(o),o},hT=l=>l===null?null:l.hasOwnProperty("AudioBuffer")?l.AudioBuffer:null,rt=(l,t,a)=>{const i=t[a];i!==void 0&&i!==l[a].value&&(l[a].value=i)},fT=l=>{l.start=(t=>{let a=!1;return(i=0,o=0,c)=>{if(a)throw Tt();t.call(l,i,o,c),a=!0}})(l.start)},Kh=l=>{l.start=(t=>(a=0,i=0,o)=>{if(typeof o=="number"&&o<0||i<0||a<0)throw new RangeError("The parameters can't be negative.");t.call(l,a,i,o)})(l.start)},Jh=l=>{l.stop=(t=>(a=0)=>{if(a<0)throw new RangeError("The parameter can't be negative.");t.call(l,a)})(l.stop)},dT=(l,t,a,i,o,c,f,d,p,m,y)=>(_,b)=>{const T=_.createBufferSource();return vt(T,b),rt(T,b,"playbackRate"),st(T,b,"buffer"),st(T,b,"loop"),st(T,b,"loopEnd"),st(T,b,"loopStart"),t(a,()=>a(_))||fT(T),t(i,()=>i(_))||p(T),t(o,()=>o(_))||m(T,_),t(c,()=>c(_))||Kh(T),t(f,()=>f(_))||y(T,_),t(d,()=>d(_))||Jh(T),l(_,T),T},pT=l=>l===null?null:l.hasOwnProperty("AudioContext")?l.AudioContext:l.hasOwnProperty("webkitAudioContext")?l.webkitAudioContext:null,mT=(l,t)=>(a,i,o)=>{const c=a.destination;if(c.channelCount!==i)try{c.channelCount=i}catch{}o&&c.channelCountMode!=="explicit"&&(c.channelCountMode="explicit"),c.maxChannelCount===0&&Object.defineProperty(c,"maxChannelCount",{value:i});const f=l(a,{channelCount:i,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:1});return t(f,"channelCount",d=>()=>d.call(f),d=>p=>{d.call(f,p);try{c.channelCount=p}catch(m){if(p>c.maxChannelCount)throw m}}),t(f,"channelCountMode",d=>()=>d.call(f),d=>p=>{d.call(f,p),c.channelCountMode=p}),t(f,"channelInterpretation",d=>()=>d.call(f),d=>p=>{d.call(f,p),c.channelInterpretation=p}),Object.defineProperty(f,"maxChannelCount",{get:()=>c.maxChannelCount}),f.connect(c),f},gT=l=>l===null?null:l.hasOwnProperty("AudioWorkletNode")?l.AudioWorkletNode:null,yT=l=>{const{port1:t}=new MessageChannel;try{t.postMessage(l)}finally{t.close()}},_T=(l,t,a,i,o)=>(c,f,d,p,m,y)=>{if(d!==null)try{const _=new d(c,p,y),b=new Map;let T=null;if(Object.defineProperties(_,{channelCount:{get:()=>y.channelCount,set:()=>{throw l()}},channelCountMode:{get:()=>"explicit",set:()=>{throw l()}},onprocessorerror:{get:()=>T,set:S=>{typeof T=="function"&&_.removeEventListener("processorerror",T),T=typeof S=="function"?S:null,typeof T=="function"&&_.addEventListener("processorerror",T)}}}),_.addEventListener=(S=>(...A)=>{if(A[0]==="processorerror"){const E=typeof A[1]=="function"?A[1]:typeof A[1]=="object"&&A[1]!==null&&typeof A[1].handleEvent=="function"?A[1].handleEvent:null;if(E!==null){const x=b.get(A[1]);x!==void 0?A[1]=x:(A[1]=O=>{O.type==="error"?(Object.defineProperties(O,{type:{value:"processorerror"}}),E(O)):E(new ErrorEvent(A[0],{...O}))},b.set(E,A[1]))}}return S.call(_,"error",A[1],A[2]),S.call(_,...A)})(_.addEventListener),_.removeEventListener=(S=>(...A)=>{if(A[0]==="processorerror"){const E=b.get(A[1]);E!==void 0&&(b.delete(A[1]),A[1]=E)}return S.call(_,"error",A[1],A[2]),S.call(_,A[0],A[1],A[2])})(_.removeEventListener),y.numberOfOutputs!==0){const S=a(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return _.connect(S).connect(c.destination),o(_,()=>S.disconnect(),()=>S.connect(c.destination))}return _}catch(_){throw _.code===11?i():_}if(m===void 0)throw i();return yT(y),t(c,f,m,y)},Py=(l,t)=>l===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(l*t))))),vT=l=>new Promise((t,a)=>{const{port1:i,port2:o}=new MessageChannel;i.onmessage=({data:c})=>{i.close(),o.close(),t(c)},i.onmessageerror=({data:c})=>{i.close(),o.close(),a(c)},o.postMessage(l)}),bT=async(l,t)=>{const a=await vT(t);return new l(a)},ST=(l,t,a,i)=>{let o=zh.get(l);o===void 0&&(o=new WeakMap,zh.set(l,o));const c=bT(a,i);return o.set(t,c),c},TT=(l,t,a,i,o,c,f,d,p,m,y,_,b)=>(T,S,A,E)=>{if(E.numberOfInputs===0&&E.numberOfOutputs===0)throw p();const x=Array.isArray(E.outputChannelCount)?E.outputChannelCount:Array.from(E.outputChannelCount);if(x.some(oe=>oe<1))throw p();if(x.length!==E.numberOfOutputs)throw t();if(E.channelCountMode!=="explicit")throw p();const O=E.channelCount*E.numberOfInputs,B=x.reduce((oe,ve)=>oe+ve,0),k=A.parameterDescriptors===void 0?0:A.parameterDescriptors.length;if(O+k>6||B>6)throw p();const w=new MessageChannel,j=[],R=[];for(let oe=0;oe<E.numberOfInputs;oe+=1)j.push(f(T,{channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation,gain:1})),R.push(o(T,{channelCount:E.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:E.channelCount}));const z=[];if(A.parameterDescriptors!==void 0)for(const{defaultValue:oe,maxValue:ve,minValue:ot,name:Qe}of A.parameterDescriptors){const Me=c(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:E.parameterData[Qe]!==void 0?E.parameterData[Qe]:oe===void 0?0:oe});Object.defineProperties(Me.offset,{defaultValue:{get:()=>oe===void 0?0:oe},maxValue:{get:()=>ve===void 0?Vt:ve},minValue:{get:()=>ot===void 0?Zt:ot}}),z.push(Me)}const W=i(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,O+k)}),$=Py(S,T.sampleRate),Z=d(T,$,O+k,Math.max(1,B)),G=o(T,{channelCount:Math.max(1,B),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,B)}),se=[];for(let oe=0;oe<E.numberOfOutputs;oe+=1)se.push(i(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:x[oe]}));for(let oe=0;oe<E.numberOfInputs;oe+=1){j[oe].connect(R[oe]);for(let ve=0;ve<E.channelCount;ve+=1)R[oe].connect(W,ve,oe*E.channelCount+ve)}const ae=new Wy(A.parameterDescriptors===void 0?[]:A.parameterDescriptors.map(({name:oe},ve)=>{const ot=z[ve];return ot.connect(W,0,O+ve),ot.start(0),[oe,ot.offset]}));W.connect(Z);let ce=E.channelInterpretation,q=null;const I=E.numberOfOutputs===0?[Z]:se,Q={get bufferSize(){return $},get channelCount(){return E.channelCount},set channelCount(oe){throw a()},get channelCountMode(){return E.channelCountMode},set channelCountMode(oe){throw a()},get channelInterpretation(){return ce},set channelInterpretation(oe){for(const ve of j)ve.channelInterpretation=oe;ce=oe},get context(){return Z.context},get inputs(){return j},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get onprocessorerror(){return q},set onprocessorerror(oe){typeof q=="function"&&Q.removeEventListener("processorerror",q),q=typeof oe=="function"?oe:null,typeof q=="function"&&Q.addEventListener("processorerror",q)},get parameters(){return ae},get port(){return w.port2},addEventListener(...oe){return Z.addEventListener(oe[0],oe[1],oe[2])},connect:l.bind(null,I),disconnect:m.bind(null,I),dispatchEvent(...oe){return Z.dispatchEvent(oe[0])},removeEventListener(...oe){return Z.removeEventListener(oe[0],oe[1],oe[2])}},J=new Map;w.port1.addEventListener=(oe=>(...ve)=>{if(ve[0]==="message"){const ot=typeof ve[1]=="function"?ve[1]:typeof ve[1]=="object"&&ve[1]!==null&&typeof ve[1].handleEvent=="function"?ve[1].handleEvent:null;if(ot!==null){const Qe=J.get(ve[1]);Qe!==void 0?ve[1]=Qe:(ve[1]=Me=>{y(T.currentTime,T.sampleRate,()=>ot(Me))},J.set(ot,ve[1]))}}return oe.call(w.port1,ve[0],ve[1],ve[2])})(w.port1.addEventListener),w.port1.removeEventListener=(oe=>(...ve)=>{if(ve[0]==="message"){const ot=J.get(ve[1]);ot!==void 0&&(J.delete(ve[1]),ve[1]=ot)}return oe.call(w.port1,ve[0],ve[1],ve[2])})(w.port1.removeEventListener);let ne=null;Object.defineProperty(w.port1,"onmessage",{get:()=>ne,set:oe=>{typeof ne=="function"&&w.port1.removeEventListener("message",ne),ne=typeof oe=="function"?oe:null,typeof ne=="function"&&(w.port1.addEventListener("message",ne),w.port1.start())}}),A.prototype.port=w.port1;let C=null;ST(T,Q,A,E).then(oe=>C=oe);const te=Oo(E.numberOfInputs,E.channelCount),re=Oo(E.numberOfOutputs,x),ie=A.parameterDescriptors===void 0?[]:A.parameterDescriptors.reduce((oe,{name:ve})=>({...oe,[ve]:new Float32Array(128)}),{});let ue=!0;const he=()=>{E.numberOfOutputs>0&&Z.disconnect(G);for(let oe=0,ve=0;oe<E.numberOfOutputs;oe+=1){const ot=se[oe];for(let Qe=0;Qe<x[oe];Qe+=1)G.disconnect(ot,ve+Qe,Qe);ve+=x[oe]}},le=new Map;Z.onaudioprocess=({inputBuffer:oe,outputBuffer:ve})=>{if(C!==null){const ot=_(Q);for(let Qe=0;Qe<$;Qe+=128){for(let Me=0;Me<E.numberOfInputs;Me+=1)for(let Ze=0;Ze<E.channelCount;Ze+=1)No(oe,te[Me],Ze,Ze,Qe);A.parameterDescriptors!==void 0&&A.parameterDescriptors.forEach(({name:Me},Ze)=>{No(oe,ie,Me,O+Ze,Qe)});for(let Me=0;Me<E.numberOfInputs;Me+=1)for(let Ze=0;Ze<x[Me];Ze+=1)re[Me][Ze].byteLength===0&&(re[Me][Ze]=new Float32Array(128));try{const Me=te.map((Rt,jn)=>{if(ot[jn].size>0)return le.set(jn,$/128),Rt;const wt=le.get(jn);return wt===void 0?[]:(Rt.every(ou=>ou.every(Wr=>Wr===0))&&(wt===1?le.delete(jn):le.set(jn,wt-1)),Rt)});ue=y(T.currentTime+Qe/T.sampleRate,T.sampleRate,()=>C.process(Me,re,ie));for(let Rt=0,jn=0;Rt<E.numberOfOutputs;Rt+=1){for(let $s=0;$s<x[Rt];$s+=1)Ky(ve,re[Rt],$s,jn+$s,Qe);jn+=x[Rt]}}catch(Me){ue=!1,Q.dispatchEvent(new ErrorEvent("processorerror",{colno:Me.colno,filename:Me.filename,lineno:Me.lineno,message:Me.message}))}if(!ue){for(let Me=0;Me<E.numberOfInputs;Me+=1){j[Me].disconnect(R[Me]);for(let Ze=0;Ze<E.channelCount;Ze+=1)R[Qe].disconnect(W,Ze,Me*E.channelCount+Ze)}if(A.parameterDescriptors!==void 0){const Me=A.parameterDescriptors.length;for(let Ze=0;Ze<Me;Ze+=1){const Rt=z[Ze];Rt.disconnect(W,0,O+Ze),Rt.stop()}}W.disconnect(Z),Z.onaudioprocess=null,de?he():At();break}}}};let de=!1;const Le=f(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),ft=()=>Z.connect(Le).connect(T.destination),At=()=>{Z.disconnect(Le),Le.disconnect()},Ua=()=>{if(ue){At(),E.numberOfOutputs>0&&Z.connect(G);for(let oe=0,ve=0;oe<E.numberOfOutputs;oe+=1){const ot=se[oe];for(let Qe=0;Qe<x[oe];Qe+=1)G.connect(ot,ve+Qe,Qe);ve+=x[oe]}}de=!0},cn=()=>{ue&&(ft(),he()),de=!1};return ft(),b(Q,Ua,cn)},$y=(l,t)=>{const a=l.createBiquadFilter();return vt(a,t),rt(a,t,"Q"),rt(a,t,"detune"),rt(a,t,"frequency"),rt(a,t,"gain"),st(a,t,"type"),a},xT=(l,t)=>(a,i)=>{const o=a.createChannelMerger(i.numberOfInputs);return l!==null&&l.name==="webkitAudioContext"&&t(a,o),vt(o,i),o},AT=l=>{const t=l.numberOfOutputs;Object.defineProperty(l,"channelCount",{get:()=>t,set:a=>{if(a!==t)throw Tt()}}),Object.defineProperty(l,"channelCountMode",{get:()=>"explicit",set:a=>{if(a!=="explicit")throw Tt()}}),Object.defineProperty(l,"channelInterpretation",{get:()=>"discrete",set:a=>{if(a!=="discrete")throw Tt()}})},Fr=(l,t)=>{const a=l.createChannelSplitter(t.numberOfOutputs);return vt(a,t),AT(a),a},wT=(l,t,a,i,o)=>(c,f)=>{if(c.createConstantSource===void 0)return a(c,f);const d=c.createConstantSource();return vt(d,f),rt(d,f,"offset"),t(i,()=>i(c))||Kh(d),t(o,()=>o(c))||Jh(d),l(c,d),d},ki=(l,t)=>(l.connect=t.connect.bind(t),l.disconnect=t.disconnect.bind(t),l),CT=(l,t,a,i)=>(o,{offset:c,...f})=>{const d=o.createBuffer(1,2,44100),p=t(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),m=a(o,{...f,gain:c}),y=d.getChannelData(0);y[0]=1,y[1]=1,p.buffer=d,p.loop=!0;const _={get bufferSize(){},get channelCount(){return m.channelCount},set channelCount(S){m.channelCount=S},get channelCountMode(){return m.channelCountMode},set channelCountMode(S){m.channelCountMode=S},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(S){m.channelInterpretation=S},get context(){return m.context},get inputs(){return[]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get offset(){return m.gain},get onended(){return p.onended},set onended(S){p.onended=S},addEventListener(...S){return p.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return p.dispatchEvent(S[0])},removeEventListener(...S){return p.removeEventListener(S[0],S[1],S[2])},start(S=0){p.start.call(p,S)},stop(S=0){p.stop.call(p,S)}},b=()=>p.connect(m),T=()=>p.disconnect(m);return l(o,p),i(ki(_,m),b,T)},ET=(l,t)=>(a,i)=>{const o=a.createConvolver();if(vt(o,i),i.disableNormalization===o.normalize&&(o.normalize=!i.disableNormalization),st(o,i,"buffer"),i.channelCount>2||(t(o,"channelCount",c=>()=>c.call(o),c=>f=>{if(f>2)throw l();return c.call(o,f)}),i.channelCountMode==="max"))throw l();return t(o,"channelCountMode",c=>()=>c.call(o),c=>f=>{if(f==="max")throw l();return c.call(o,f)}),o},e0=(l,t)=>{const a=l.createDelay(t.maxDelayTime);return vt(a,t),rt(a,t,"delayTime"),a},NT=l=>(t,a)=>{const i=t.createDynamicsCompressor();if(vt(i,a),a.channelCount>2||a.channelCountMode==="max")throw l();return rt(i,a,"attack"),rt(i,a,"knee"),rt(i,a,"ratio"),rt(i,a,"release"),rt(i,a,"threshold"),i},Wt=(l,t)=>{const a=l.createGain();return vt(a,t),rt(a,t,"gain"),a},OT=l=>(t,a,i)=>{if(t.createIIRFilter===void 0)return l(t,a,i);const o=t.createIIRFilter(i.feedforward,i.feedback);return vt(o,i),o};function MT(l,t){const a=t[0]*t[0]+t[1]*t[1];return[(l[0]*t[0]+l[1]*t[1])/a,(l[1]*t[0]-l[0]*t[1])/a]}function DT(l,t){return[l[0]*t[0]-l[1]*t[1],l[0]*t[1]+l[1]*t[0]]}function cy(l,t){let a=[0,0];for(let i=l.length-1;i>=0;i-=1)a=DT(a,t),a[0]+=l[i];return a}const kT=(l,t,a,i)=>(o,c,{channelCount:f,channelCountMode:d,channelInterpretation:p,feedback:m,feedforward:y})=>{const _=Py(c,o.sampleRate),b=m instanceof Float64Array?m:new Float64Array(m),T=y instanceof Float64Array?y:new Float64Array(y),S=b.length,A=T.length,E=Math.min(S,A);if(S===0||S>20)throw i();if(b[0]===0)throw t();if(A===0||A>20)throw i();if(T[0]===0)throw t();if(b[0]!==1){for(let z=0;z<A;z+=1)T[z]/=b[0];for(let z=1;z<S;z+=1)b[z]/=b[0]}const x=a(o,_,f,f);x.channelCount=f,x.channelCountMode=d,x.channelInterpretation=p;const O=32,B=[],k=[],w=[];for(let z=0;z<f;z+=1){B.push(0);const W=new Float32Array(O),$=new Float32Array(O);W.fill(0),$.fill(0),k.push(W),w.push($)}x.onaudioprocess=z=>{const W=z.inputBuffer,$=z.outputBuffer,Z=W.numberOfChannels;for(let G=0;G<Z;G+=1){const se=W.getChannelData(G),ae=$.getChannelData(G);B[G]=Jy(b,S,T,A,E,k[G],w[G],B[G],O,se,ae)}};const j=o.sampleRate/2;return ki({get bufferSize(){return _},get channelCount(){return x.channelCount},set channelCount(z){x.channelCount=z},get channelCountMode(){return x.channelCountMode},set channelCountMode(z){x.channelCountMode=z},get channelInterpretation(){return x.channelInterpretation},set channelInterpretation(z){x.channelInterpretation=z},get context(){return x.context},get inputs(){return[x]},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},addEventListener(...z){return x.addEventListener(z[0],z[1],z[2])},dispatchEvent(...z){return x.dispatchEvent(z[0])},getFrequencyResponse(z,W,$){if(z.length!==W.length||W.length!==$.length)throw l();const Z=z.length;for(let G=0;G<Z;G+=1){const se=-Math.PI*(z[G]/j),ae=[Math.cos(se),Math.sin(se)],ce=cy(T,ae),q=cy(b,ae),I=MT(ce,q);W[G]=Math.sqrt(I[0]*I[0]+I[1]*I[1]),$[G]=Math.atan2(I[1],I[0])}},removeEventListener(...z){return x.removeEventListener(z[0],z[1],z[2])}},x)},RT=(l,t)=>l.createMediaElementSource(t.mediaElement),qT=(l,t)=>{const a=l.createMediaStreamDestination();return vt(a,t),a.numberOfOutputs===1&&Object.defineProperty(a,"numberOfOutputs",{get:()=>0}),a},jT=(l,{mediaStream:t})=>{const a=t.getAudioTracks();a.sort((c,f)=>c.id<f.id?-1:c.id>f.id?1:0);const i=a.slice(0,1),o=l.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(o,"mediaStream",{value:t}),o},zT=(l,t)=>(a,{mediaStreamTrack:i})=>{if(typeof a.createMediaStreamTrackSource=="function")return a.createMediaStreamTrackSource(i);const o=new MediaStream([i]),c=a.createMediaStreamSource(o);if(i.kind!=="audio")throw l();if(t(a))throw new TypeError;return c},VT=l=>l===null?null:l.hasOwnProperty("OfflineAudioContext")?l.OfflineAudioContext:l.hasOwnProperty("webkitOfflineAudioContext")?l.webkitOfflineAudioContext:null,UT=(l,t,a,i,o,c)=>(f,d)=>{const p=f.createOscillator();return vt(p,d),rt(p,d,"detune"),rt(p,d,"frequency"),d.periodicWave!==void 0?p.setPeriodicWave(d.periodicWave):st(p,d,"type"),t(a,()=>a(f))||Kh(p),t(i,()=>i(f))||c(p,f),t(o,()=>o(f))||Jh(p),l(f,p),p},BT=l=>(t,a)=>{const i=t.createPanner();return i.orientationX===void 0?l(t,a):(vt(i,a),rt(i,a,"orientationX"),rt(i,a,"orientationY"),rt(i,a,"orientationZ"),rt(i,a,"positionX"),rt(i,a,"positionY"),rt(i,a,"positionZ"),st(i,a,"coneInnerAngle"),st(i,a,"coneOuterAngle"),st(i,a,"coneOuterGain"),st(i,a,"distanceModel"),st(i,a,"maxDistance"),st(i,a,"panningModel"),st(i,a,"refDistance"),st(i,a,"rolloffFactor"),i)},LT=(l,t,a,i,o,c,f,d,p,m)=>(y,{coneInnerAngle:_,coneOuterAngle:b,coneOuterGain:T,distanceModel:S,maxDistance:A,orientationX:E,orientationY:x,orientationZ:O,panningModel:B,positionX:k,positionY:w,positionZ:j,refDistance:R,rolloffFactor:z,...W})=>{const $=y.createPanner();if(W.channelCount>2||W.channelCountMode==="max")throw f();vt($,W);const Z={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},G=a(y,{...Z,channelInterpretation:"speakers",numberOfInputs:6}),se=i(y,{...W,gain:1}),ae=i(y,{...Z,gain:1}),ce=i(y,{...Z,gain:0}),q=i(y,{...Z,gain:0}),I=i(y,{...Z,gain:0}),Q=i(y,{...Z,gain:0}),J=i(y,{...Z,gain:0}),ne=o(y,256,6,1),C=c(y,{...Z,curve:new Float32Array([1,1]),oversample:"none"});let H=[E,x,O],te=[k,w,j];const re=new Float32Array(1);ne.onaudioprocess=({inputBuffer:le})=>{const de=[p(le,re,0),p(le,re,1),p(le,re,2)];de.some((ft,At)=>ft!==H[At])&&($.setOrientation(...de),H=de);const Le=[p(le,re,3),p(le,re,4),p(le,re,5)];Le.some((ft,At)=>ft!==te[At])&&($.setPosition(...Le),te=Le)},Object.defineProperty(ce.gain,"defaultValue",{get:()=>0}),Object.defineProperty(q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(J.gain,"defaultValue",{get:()=>0});const ie={get bufferSize(){},get channelCount(){return $.channelCount},set channelCount(le){if(le>2)throw f();se.channelCount=le,$.channelCount=le},get channelCountMode(){return $.channelCountMode},set channelCountMode(le){if(le==="max")throw f();se.channelCountMode=le,$.channelCountMode=le},get channelInterpretation(){return $.channelInterpretation},set channelInterpretation(le){se.channelInterpretation=le,$.channelInterpretation=le},get coneInnerAngle(){return $.coneInnerAngle},set coneInnerAngle(le){$.coneInnerAngle=le},get coneOuterAngle(){return $.coneOuterAngle},set coneOuterAngle(le){$.coneOuterAngle=le},get coneOuterGain(){return $.coneOuterGain},set coneOuterGain(le){if(le<0||le>1)throw t();$.coneOuterGain=le},get context(){return $.context},get distanceModel(){return $.distanceModel},set distanceModel(le){$.distanceModel=le},get inputs(){return[se]},get maxDistance(){return $.maxDistance},set maxDistance(le){if(le<0)throw new RangeError;$.maxDistance=le},get numberOfInputs(){return $.numberOfInputs},get numberOfOutputs(){return $.numberOfOutputs},get orientationX(){return ae.gain},get orientationY(){return ce.gain},get orientationZ(){return q.gain},get panningModel(){return $.panningModel},set panningModel(le){$.panningModel=le},get positionX(){return I.gain},get positionY(){return Q.gain},get positionZ(){return J.gain},get refDistance(){return $.refDistance},set refDistance(le){if(le<0)throw new RangeError;$.refDistance=le},get rolloffFactor(){return $.rolloffFactor},set rolloffFactor(le){if(le<0)throw new RangeError;$.rolloffFactor=le},addEventListener(...le){return se.addEventListener(le[0],le[1],le[2])},dispatchEvent(...le){return se.dispatchEvent(le[0])},removeEventListener(...le){return se.removeEventListener(le[0],le[1],le[2])}};_!==ie.coneInnerAngle&&(ie.coneInnerAngle=_),b!==ie.coneOuterAngle&&(ie.coneOuterAngle=b),T!==ie.coneOuterGain&&(ie.coneOuterGain=T),S!==ie.distanceModel&&(ie.distanceModel=S),A!==ie.maxDistance&&(ie.maxDistance=A),E!==ie.orientationX.value&&(ie.orientationX.value=E),x!==ie.orientationY.value&&(ie.orientationY.value=x),O!==ie.orientationZ.value&&(ie.orientationZ.value=O),B!==ie.panningModel&&(ie.panningModel=B),k!==ie.positionX.value&&(ie.positionX.value=k),w!==ie.positionY.value&&(ie.positionY.value=w),j!==ie.positionZ.value&&(ie.positionZ.value=j),R!==ie.refDistance&&(ie.refDistance=R),z!==ie.rolloffFactor&&(ie.rolloffFactor=z),(H[0]!==1||H[1]!==0||H[2]!==0)&&$.setOrientation(...H),(te[0]!==0||te[1]!==0||te[2]!==0)&&$.setPosition(...te);const ue=()=>{se.connect($),l(se,C,0,0),C.connect(ae).connect(G,0,0),C.connect(ce).connect(G,0,1),C.connect(q).connect(G,0,2),C.connect(I).connect(G,0,3),C.connect(Q).connect(G,0,4),C.connect(J).connect(G,0,5),G.connect(ne).connect(y.destination)},he=()=>{se.disconnect($),d(se,C,0,0),C.disconnect(ae),ae.disconnect(G),C.disconnect(ce),ce.disconnect(G),C.disconnect(q),q.disconnect(G),C.disconnect(I),I.disconnect(G),C.disconnect(Q),Q.disconnect(G),C.disconnect(J),J.disconnect(G),G.disconnect(ne),ne.disconnect(y.destination)};return m(ki(ie,$),ue,he)},FT=l=>(t,{disableNormalization:a,imag:i,real:o})=>{const c=i instanceof Float32Array?i:new Float32Array(i),f=o instanceof Float32Array?o:new Float32Array(o),d=t.createPeriodicWave(f,c,{disableNormalization:a});if(Array.from(i).length<2)throw l();return d},Hr=(l,t,a,i)=>l.createScriptProcessor(t,a,i),HT=(l,t)=>(a,i)=>{const o=i.channelCountMode;if(o==="clamped-max")throw t();if(a.createStereoPanner===void 0)return l(a,i);const c=a.createStereoPanner();return vt(c,i),rt(c,i,"pan"),Object.defineProperty(c,"channelCountMode",{get:()=>o,set:f=>{if(f!==o)throw t()}}),c},GT=(l,t,a,i,o,c)=>{const d=new Float32Array([1,1]),p=Math.PI/2,m={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},y={...m,oversample:"none"},_=(S,A,E,x)=>{const O=new Float32Array(16385),B=new Float32Array(16385);for(let W=0;W<16385;W+=1){const $=W/16384*p;O[W]=Math.cos($),B[W]=Math.sin($)}const k=a(S,{...m,gain:0}),w=i(S,{...y,curve:O}),j=i(S,{...y,curve:d}),R=a(S,{...m,gain:0}),z=i(S,{...y,curve:B});return{connectGraph(){A.connect(k),A.connect(j.inputs===void 0?j:j.inputs[0]),A.connect(R),j.connect(E),E.connect(w.inputs===void 0?w:w.inputs[0]),E.connect(z.inputs===void 0?z:z.inputs[0]),w.connect(k.gain),z.connect(R.gain),k.connect(x,0,0),R.connect(x,0,1)},disconnectGraph(){A.disconnect(k),A.disconnect(j.inputs===void 0?j:j.inputs[0]),A.disconnect(R),j.disconnect(E),E.disconnect(w.inputs===void 0?w:w.inputs[0]),E.disconnect(z.inputs===void 0?z:z.inputs[0]),w.disconnect(k.gain),z.disconnect(R.gain),k.disconnect(x,0,0),R.disconnect(x,0,1)}}},b=(S,A,E,x)=>{const O=new Float32Array(16385),B=new Float32Array(16385),k=new Float32Array(16385),w=new Float32Array(16385),j=Math.floor(16385/2);for(let I=0;I<16385;I+=1)if(I>j){const Q=(I-j)/(16384-j)*p;O[I]=Math.cos(Q),B[I]=Math.sin(Q),k[I]=0,w[I]=1}else{const Q=I/(16384-j)*p;O[I]=1,B[I]=0,k[I]=Math.cos(Q),w[I]=Math.sin(Q)}const R=t(S,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),z=a(S,{...m,gain:0}),W=i(S,{...y,curve:O}),$=a(S,{...m,gain:0}),Z=i(S,{...y,curve:B}),G=i(S,{...y,curve:d}),se=a(S,{...m,gain:0}),ae=i(S,{...y,curve:k}),ce=a(S,{...m,gain:0}),q=i(S,{...y,curve:w});return{connectGraph(){A.connect(R),A.connect(G.inputs===void 0?G:G.inputs[0]),R.connect(z,0),R.connect($,0),R.connect(se,1),R.connect(ce,1),G.connect(E),E.connect(W.inputs===void 0?W:W.inputs[0]),E.connect(Z.inputs===void 0?Z:Z.inputs[0]),E.connect(ae.inputs===void 0?ae:ae.inputs[0]),E.connect(q.inputs===void 0?q:q.inputs[0]),W.connect(z.gain),Z.connect($.gain),ae.connect(se.gain),q.connect(ce.gain),z.connect(x,0,0),se.connect(x,0,0),$.connect(x,0,1),ce.connect(x,0,1)},disconnectGraph(){A.disconnect(R),A.disconnect(G.inputs===void 0?G:G.inputs[0]),R.disconnect(z,0),R.disconnect($,0),R.disconnect(se,1),R.disconnect(ce,1),G.disconnect(E),E.disconnect(W.inputs===void 0?W:W.inputs[0]),E.disconnect(Z.inputs===void 0?Z:Z.inputs[0]),E.disconnect(ae.inputs===void 0?ae:ae.inputs[0]),E.disconnect(q.inputs===void 0?q:q.inputs[0]),W.disconnect(z.gain),Z.disconnect($.gain),ae.disconnect(se.gain),q.disconnect(ce.gain),z.disconnect(x,0,0),se.disconnect(x,0,0),$.disconnect(x,0,1),ce.disconnect(x,0,1)}}},T=(S,A,E,x,O)=>{if(A===1)return _(S,E,x,O);if(A===2)return b(S,E,x,O);throw o()};return(S,{channelCount:A,channelCountMode:E,pan:x,...O})=>{if(E==="max")throw o();const B=l(S,{...O,channelCount:1,channelCountMode:E,numberOfInputs:2}),k=a(S,{...O,channelCount:A,channelCountMode:E,gain:1}),w=a(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:x});let{connectGraph:j,disconnectGraph:R}=T(S,A,k,w,B);Object.defineProperty(w.gain,"defaultValue",{get:()=>0}),Object.defineProperty(w.gain,"maxValue",{get:()=>1}),Object.defineProperty(w.gain,"minValue",{get:()=>-1});const z={get bufferSize(){},get channelCount(){return k.channelCount},set channelCount(G){k.channelCount!==G&&(W&&R(),{connectGraph:j,disconnectGraph:R}=T(S,G,k,w,B),W&&j()),k.channelCount=G},get channelCountMode(){return k.channelCountMode},set channelCountMode(G){if(G==="clamped-max"||G==="max")throw o();k.channelCountMode=G},get channelInterpretation(){return k.channelInterpretation},set channelInterpretation(G){k.channelInterpretation=G},get context(){return k.context},get inputs(){return[k]},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get pan(){return w.gain},addEventListener(...G){return k.addEventListener(G[0],G[1],G[2])},dispatchEvent(...G){return k.dispatchEvent(G[0])},removeEventListener(...G){return k.removeEventListener(G[0],G[1],G[2])}};let W=!1;const $=()=>{j(),W=!0},Z=()=>{R(),W=!1};return c(ki(z,B),$,Z)}},YT=(l,t,a,i,o,c,f)=>(d,p)=>{const m=d.createWaveShaper();if(c!==null&&c.name==="webkitAudioContext"&&d.createGain().gain.automationRate===void 0)return a(d,p);vt(m,p);const y=p.curve===null||p.curve instanceof Float32Array?p.curve:new Float32Array(p.curve);if(y!==null&&y.length<2)throw t();st(m,{curve:y},"curve"),st(m,p,"oversample");let _=null,b=!1;return f(m,"curve",A=>()=>A.call(m),A=>E=>(A.call(m,E),b&&(i(E)&&_===null?_=l(d,m):!i(E)&&_!==null&&(_(),_=null)),E)),o(m,()=>{b=!0,i(m.curve)&&(_=l(d,m))},()=>{b=!1,_!==null&&(_(),_=null)})},IT=(l,t,a,i,o)=>(c,{curve:f,oversample:d,...p})=>{const m=c.createWaveShaper(),y=c.createWaveShaper();vt(m,p),vt(y,p);const _=a(c,{...p,gain:1}),b=a(c,{...p,gain:-1}),T=a(c,{...p,gain:1}),S=a(c,{...p,gain:-1});let A=null,E=!1,x=null;const O={get bufferSize(){},get channelCount(){return m.channelCount},set channelCount(w){_.channelCount=w,b.channelCount=w,m.channelCount=w,T.channelCount=w,y.channelCount=w,S.channelCount=w},get channelCountMode(){return m.channelCountMode},set channelCountMode(w){_.channelCountMode=w,b.channelCountMode=w,m.channelCountMode=w,T.channelCountMode=w,y.channelCountMode=w,S.channelCountMode=w},get channelInterpretation(){return m.channelInterpretation},set channelInterpretation(w){_.channelInterpretation=w,b.channelInterpretation=w,m.channelInterpretation=w,T.channelInterpretation=w,y.channelInterpretation=w,S.channelInterpretation=w},get context(){return m.context},get curve(){return x},set curve(w){if(w!==null&&w.length<2)throw t();if(w===null)m.curve=w,y.curve=w;else{const j=w.length,R=new Float32Array(j+2-j%2),z=new Float32Array(j+2-j%2);R[0]=w[0],z[0]=-w[j-1];const W=Math.ceil((j+1)/2),$=(j+1)/2-1;for(let Z=1;Z<W;Z+=1){const G=Z/W*$,se=Math.floor(G),ae=Math.ceil(G);R[Z]=se===ae?w[se]:(1-(G-se))*w[se]+(1-(ae-G))*w[ae],z[Z]=se===ae?-w[j-1-se]:-((1-(G-se))*w[j-1-se])-(1-(ae-G))*w[j-1-ae]}R[W]=j%2===1?w[W-1]:(w[W-2]+w[W-1])/2,m.curve=R,y.curve=z}x=w,E&&(i(x)&&A===null?A=l(c,_):A!==null&&(A(),A=null))},get inputs(){return[_]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get oversample(){return m.oversample},set oversample(w){m.oversample=w,y.oversample=w},addEventListener(...w){return _.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return _.dispatchEvent(w[0])},removeEventListener(...w){return _.removeEventListener(w[0],w[1],w[2])}};f!==null&&(O.curve=f instanceof Float32Array?f:new Float32Array(f)),d!==O.oversample&&(O.oversample=d);const B=()=>{_.connect(m).connect(T),_.connect(b).connect(y).connect(S).connect(T),E=!0,i(x)&&(A=l(c,_))},k=()=>{_.disconnect(m),m.disconnect(T),_.disconnect(b),b.disconnect(y),y.disconnect(S),S.disconnect(T),E=!1,A!==null&&(A(),A=null)};return o(ki(O,T),B,k)},Lt=()=>new DOMException("","NotSupportedError"),XT={numberOfChannels:1},QT=(l,t,a,i,o)=>class extends l{constructor(f,d,p){let m;if(typeof f=="number"&&d!==void 0&&p!==void 0)m={length:d,numberOfChannels:f,sampleRate:p};else if(typeof f=="object")m=f;else throw new Error("The given parameters are not valid.");const{length:y,numberOfChannels:_,sampleRate:b}={...XT,...m},T=i(_,y,b);t(jr,()=>jr(T))||T.addEventListener("statechange",(()=>{let S=0;const A=E=>{this._state==="running"&&(S>0?(T.removeEventListener("statechange",A),E.stopImmediatePropagation(),this._waitForThePromiseToSettle(E)):S+=1)};return A})()),super(T,_),this._length=y,this._nativeOfflineAudioContext=T,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(a()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Iy(this)}))}_waitForThePromiseToSettle(f){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(f):setTimeout(()=>this._waitForThePromiseToSettle(f))}},ZT={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},WT=(l,t,a,i,o,c,f)=>class extends l{constructor(p,m){const y=o(p),_={...ZT,...m},b=a(y,_),T=c(y),S=T?i():null,A=p.sampleRate/2;super(p,!1,b,S),this._detune=t(this,T,b.detune,153600,-153600),this._frequency=t(this,T,b.frequency,A,-A),this._nativeOscillatorNode=b,this._onended=null,this._oscillatorNodeRenderer=S,this._oscillatorNodeRenderer!==null&&_.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=_.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(p){const m=typeof p=="function"?f(this,p):null;this._nativeOscillatorNode.onended=m;const y=this._nativeOscillatorNode.onended;this._onended=y!==null&&y===m?p:y}get type(){return this._nativeOscillatorNode.type}set type(p){this._nativeOscillatorNode.type=p,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(p){this._nativeOscillatorNode.setPeriodicWave(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=p)}start(p=0){if(this._nativeOscillatorNode.start(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=p),this.context.state!=="closed"){Ci(this);const m=()=>{this._nativeOscillatorNode.removeEventListener("ended",m),hs(this)&&Ur(this)};this._nativeOscillatorNode.addEventListener("ended",m)}}stop(p=0){this._nativeOscillatorNode.stop(p),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=p)}},KT=(l,t,a,i,o)=>()=>{const c=new WeakMap;let f=null,d=null,p=null;const m=async(y,_)=>{let b=a(y);const T=jt(b,_);if(!T){const S={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,detune:b.detune.value,frequency:b.frequency.value,periodicWave:f===null?void 0:f,type:b.type};b=t(_,S),d!==null&&b.start(d),p!==null&&b.stop(p)}return c.set(_,b),T?(await l(_,y.detune,b.detune),await l(_,y.frequency,b.frequency)):(await i(_,y.detune,b.detune),await i(_,y.frequency,b.frequency)),await o(y,_,b),b};return{set periodicWave(y){f=y},set start(y){d=y},set stop(y){p=y},render(y,_){const b=c.get(_);return b!==void 0?Promise.resolve(b):m(y,_)}}},JT={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},PT=(l,t,a,i,o,c,f)=>class extends l{constructor(p,m){const y=o(p),_={...JT,...m},b=a(y,_),T=c(y),S=T?i():null;super(p,!1,b,S),this._nativePannerNode=b,this._orientationX=t(this,T,b.orientationX,Vt,Zt),this._orientationY=t(this,T,b.orientationY,Vt,Zt),this._orientationZ=t(this,T,b.orientationZ,Vt,Zt),this._positionX=t(this,T,b.positionX,Vt,Zt),this._positionY=t(this,T,b.positionY,Vt,Zt),this._positionZ=t(this,T,b.positionZ,Vt,Zt),f(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(p){this._nativePannerNode.coneInnerAngle=p}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(p){this._nativePannerNode.coneOuterAngle=p}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(p){this._nativePannerNode.coneOuterGain=p}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(p){this._nativePannerNode.distanceModel=p}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(p){this._nativePannerNode.maxDistance=p}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(p){this._nativePannerNode.panningModel=p}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(p){this._nativePannerNode.refDistance=p}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(p){this._nativePannerNode.rolloffFactor=p}},$T=(l,t,a,i,o,c,f,d,p,m)=>()=>{const y=new WeakMap;let _=null;const b=async(T,S)=>{let A=null,E=c(T);const x={channelCount:E.channelCount,channelCountMode:E.channelCountMode,channelInterpretation:E.channelInterpretation},O={...x,coneInnerAngle:E.coneInnerAngle,coneOuterAngle:E.coneOuterAngle,coneOuterGain:E.coneOuterGain,distanceModel:E.distanceModel,maxDistance:E.maxDistance,panningModel:E.panningModel,refDistance:E.refDistance,rolloffFactor:E.rolloffFactor},B=jt(E,S);if("bufferSize"in E)A=i(S,{...x,gain:1});else if(!B){const k={...O,orientationX:E.orientationX.value,orientationY:E.orientationY.value,orientationZ:E.orientationZ.value,positionX:E.positionX.value,positionY:E.positionY.value,positionZ:E.positionZ.value};E=o(S,k)}if(y.set(S,A===null?E:A),A!==null){if(_===null){if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Z=new f(6,T.context.length,S.sampleRate),G=t(Z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});G.connect(Z.destination),_=(async()=>{const se=await Promise.all([T.orientationX,T.orientationY,T.orientationZ,T.positionX,T.positionY,T.positionZ].map(async(ae,ce)=>{const q=a(Z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ce===0?1:0});return await d(Z,ae,q.offset),q}));for(let ae=0;ae<6;ae+=1)se[ae].connect(G,0,ae),se[ae].start(0);return m(Z)})()}const k=await _,w=i(S,{...x,gain:1});await p(T,S,w);const j=[];for(let Z=0;Z<k.numberOfChannels;Z+=1)j.push(k.getChannelData(Z));let R=[j[0][0],j[1][0],j[2][0]],z=[j[3][0],j[4][0],j[5][0]],W=i(S,{...x,gain:1}),$=o(S,{...O,orientationX:R[0],orientationY:R[1],orientationZ:R[2],positionX:z[0],positionY:z[1],positionZ:z[2]});w.connect(W).connect($.inputs[0]),$.connect(A);for(let Z=128;Z<k.length;Z+=128){const G=[j[0][Z],j[1][Z],j[2][Z]],se=[j[3][Z],j[4][Z],j[5][Z]];if(G.some((ae,ce)=>ae!==R[ce])||se.some((ae,ce)=>ae!==z[ce])){R=G,z=se;const ae=Z/S.sampleRate;W.gain.setValueAtTime(0,ae),W=i(S,{...x,gain:0}),$=o(S,{...O,orientationX:R[0],orientationY:R[1],orientationZ:R[2],positionX:z[0],positionY:z[1],positionZ:z[2]}),W.gain.setValueAtTime(1,ae),w.connect(W).connect($.inputs[0]),$.connect(A)}}return A}return B?(await l(S,T.orientationX,E.orientationX),await l(S,T.orientationY,E.orientationY),await l(S,T.orientationZ,E.orientationZ),await l(S,T.positionX,E.positionX),await l(S,T.positionY,E.positionY),await l(S,T.positionZ,E.positionZ)):(await d(S,T.orientationX,E.orientationX),await d(S,T.orientationY,E.orientationY),await d(S,T.orientationZ,E.orientationZ),await d(S,T.positionX,E.positionX),await d(S,T.positionY,E.positionY),await d(S,T.positionZ,E.positionZ)),Di(E)?await p(T,S,E.inputs[0]):await p(T,S,E),E};return{render(T,S){const A=y.get(S);return A!==void 0?Promise.resolve(A):b(T,S)}}},ex={disableNormalization:!1},tx=(l,t,a,i)=>class t0{constructor(c,f){const d=t(c),p=i({...ex,...f}),m=l(d,p);return a.add(m),m}static[Symbol.hasInstance](c){return c!==null&&typeof c=="object"&&Object.getPrototypeOf(c)===t0.prototype||a.has(c)}},nx=(l,t)=>(a,i,o)=>(l(i).replay(o),t(i,a,o)),sx=(l,t,a)=>async(i,o,c)=>{const f=l(i);await Promise.all(f.activeInputs.map((d,p)=>Array.from(d).map(async([m,y])=>{const b=await t(m).render(m,o),T=i.context.destination;!a(m)&&(i!==T||!a(i))&&b.connect(c,y,p)})).reduce((d,p)=>[...d,...p],[]))},ax=(l,t,a)=>async(i,o,c)=>{const f=t(i);await Promise.all(Array.from(f.activeInputs).map(async([d,p])=>{const y=await l(d).render(d,o);a(d)||y.connect(c,p)}))},ix=(l,t,a,i)=>o=>l(jr,()=>jr(o))?Promise.resolve(l(i,i)).then(c=>{if(!c){const f=a(o,512,0,1);o.oncomplete=()=>{f.onaudioprocess=null,f.disconnect()},f.onaudioprocess=()=>o.currentTime,f.connect(o.destination)}return o.startRendering()}):new Promise(c=>{const f=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=d=>{f.disconnect(),c(d.renderedBuffer)},f.connect(o.destination),o.startRendering()}),rx=l=>(t,a)=>{l.set(t,a)},lx=l=>(t,a)=>l.set(t,a),ox=(l,t,a,i,o,c,f,d)=>(p,m)=>a(p).render(p,m).then(()=>Promise.all(Array.from(i(m)).map(y=>a(y).render(y,m)))).then(()=>o(m)).then(y=>(typeof y.copyFromChannel!="function"?(f(y),Qh(y)):t(c,()=>c(y))||d(y),l.add(y),y)),ux={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},cx=(l,t,a,i,o,c)=>class extends l{constructor(d,p){const m=o(d),y={...ux,...p},_=a(m,y),b=c(m),T=b?i():null;super(d,!1,_,T),this._pan=t(this,b,_.pan)}get pan(){return this._pan}},hx=(l,t,a,i,o)=>()=>{const c=new WeakMap,f=async(d,p)=>{let m=a(d);const y=jt(m,p);if(!y){const _={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,pan:m.pan.value};m=t(p,_)}return c.set(p,m),y?await l(p,d.pan,m.pan):await i(p,d.pan,m.pan),Di(m)?await o(d,p,m.inputs[0]):await o(d,p,m),m};return{render(d,p){const m=c.get(p);return m!==void 0?Promise.resolve(m):f(d,p)}}},fx=l=>()=>{if(l===null)return!1;try{new l({length:1,sampleRate:44100})}catch{return!1}return!0},dx=(l,t)=>async()=>{if(l===null)return!0;if(t===null)return!1;const a=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new t(1,128,44100),o=URL.createObjectURL(a);let c=!1,f=!1;try{await i.audioWorklet.addModule(o);const d=new l(i,"a",{numberOfOutputs:0}),p=i.createOscillator();d.port.onmessage=()=>c=!0,d.onprocessorerror=()=>f=!0,p.connect(d),p.start(0),await i.startRendering(),await new Promise(m=>setTimeout(m))}catch{}finally{URL.revokeObjectURL(o)}return c&&!f},px=(l,t)=>()=>{if(t===null)return Promise.resolve(!1);const a=new t(1,1,44100),i=l(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{a.oncomplete=()=>{i.disconnect(),o(a.currentTime!==0)},a.startRendering()})},mx=()=>new DOMException("","UnknownError"),gx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},yx=(l,t,a,i,o,c,f)=>class extends l{constructor(p,m){const y=o(p),_={...gx,...m},b=a(y,_),S=c(y)?i():null;super(p,!0,b,S),this._isCurveNullified=!1,this._nativeWaveShaperNode=b,f(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(p){if(p===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(p.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=p}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(p){this._nativeWaveShaperNode.oversample=p}},_x=(l,t,a)=>()=>{const i=new WeakMap,o=async(c,f)=>{let d=t(c);if(!jt(d,f)){const m={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,curve:d.curve,oversample:d.oversample};d=l(f,m)}return i.set(f,d),Di(d)?await a(c,f,d.inputs[0]):await a(c,f,d),d};return{render(c,f){const d=i.get(f);return d!==void 0?Promise.resolve(d):o(c,f)}}},vx=()=>typeof window>"u"?null:window,bx=(l,t)=>a=>{a.copyFromChannel=(i,o,c=0)=>{const f=l(c),d=l(o);if(d>=a.numberOfChannels)throw t();const p=a.length,m=a.getChannelData(d),y=i.length;for(let _=f<0?-f:0;_+f<p&&_<y;_+=1)i[_]=m[_+f]},a.copyToChannel=(i,o,c=0)=>{const f=l(c),d=l(o);if(d>=a.numberOfChannels)throw t();const p=a.length,m=a.getChannelData(d),y=i.length;for(let _=f<0?-f:0;_+f<p&&_<y;_+=1)m[_+f]=i[_]}},Sx=l=>t=>{t.copyFromChannel=(a=>(i,o,c=0)=>{const f=l(c),d=l(o);if(f<t.length)return a.call(t,i,d,f)})(t.copyFromChannel),t.copyToChannel=(a=>(i,o,c=0)=>{const f=l(c),d=l(o);if(f<t.length)return a.call(t,i,d,f)})(t.copyToChannel)},Tx=l=>(t,a)=>{const i=a.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=i),l(t,"buffer",o=>()=>{const c=o.call(t);return c===i?null:c},o=>c=>o.call(t,c===null?i:c))},xx=(l,t)=>(a,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw l()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw l()}});const o=a.createBufferSource();t(i,()=>{const d=i.numberOfInputs;for(let p=0;p<d;p+=1)o.connect(i,0,p)},()=>o.disconnect(i))},n0=(l,t,a)=>l.copyFromChannel===void 0?l.getChannelData(a)[0]:(l.copyFromChannel(t,a),t[0]),s0=l=>{if(l===null)return!1;const t=l.length;return t%2!==0?l[Math.floor(t/2)]!==0:l[t/2-1]+l[t/2]!==0},Gr=(l,t,a,i)=>{let o=l;for(;!o.hasOwnProperty(t);)o=Object.getPrototypeOf(o);const{get:c,set:f}=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(l,t,{get:a(c),set:i(f)})},Ax=l=>({...l,outputChannelCount:l.outputChannelCount!==void 0?l.outputChannelCount:l.numberOfInputs===1&&l.numberOfOutputs===1?[l.channelCount]:Array.from({length:l.numberOfOutputs},()=>1)}),wx=l=>({...l,channelCount:l.numberOfOutputs}),Cx=l=>{const{imag:t,real:a}=l;return t===void 0?a===void 0?{...l,imag:[0,0],real:[0,0]}:{...l,imag:Array.from(a,()=>0),real:a}:a===void 0?{...l,imag:t,real:Array.from(t,()=>0)}:{...l,imag:t,real:a}},a0=(l,t,a)=>{try{l.setValueAtTime(t,a)}catch(i){if(i.code!==9)throw i;a0(l,t,a+1e-7)}},Ex=l=>{const t=l.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},Nx=l=>{const t=l.createBufferSource(),a=l.createBuffer(1,1,44100);t.buffer=a;try{t.start(0,1)}catch{return!1}return!0},Ox=l=>{const t=l.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},Ph=l=>{const t=l.createOscillator();try{t.start(-1)}catch(a){return a instanceof RangeError}return!1},i0=l=>{const t=l.createBuffer(1,1,44100),a=l.createBufferSource();a.buffer=t,a.start(),a.stop();try{return a.stop(),!0}catch{return!1}},$h=l=>{const t=l.createOscillator();try{t.stop(-1)}catch(a){return a instanceof RangeError}return!1},Mx=l=>{const{port1:t,port2:a}=new MessageChannel;try{t.postMessage(l)}finally{t.close(),a.close()}},Dx=l=>{l.start=(t=>(a=0,i=0,o)=>{const c=l.buffer,f=c===null?i:Math.min(c.duration,i);c!==null&&f>c.duration-.5/l.context.sampleRate?t.call(l,a,0,0):t.call(l,a,f,o)})(l.start)},r0=(l,t)=>{const a=t.createGain();l.connect(a);const i=(o=>()=>{o.call(l,a),l.removeEventListener("ended",i)})(l.disconnect);l.addEventListener("ended",i),ki(l,a),l.stop=(o=>{let c=!1;return(f=0)=>{if(c)try{o.call(l,f)}catch{a.gain.setValueAtTime(0,f)}else o.call(l,f),c=!0}})(l.stop)},Ri=(l,t)=>a=>{const i={value:l};return Object.defineProperties(a,{currentTarget:i,target:i}),typeof t=="function"?t.call(l,a):t.handleEvent.call(l,a)},kx=Pb(qa),Rx=a1(qa),qx=gS(Lo),l0=new WeakMap,jx=qS(l0),kn=X1(new Map,new WeakMap),Ln=vx(),o0=cT(kn,Hn),ef=RS(Bt),kt=sx(Bt,ef,Oa),zx=u1(o0,et,kt),Ke=VS(Bo),ps=VT(Ln),Ye=eT(ps),u0=new WeakMap,c0=CS(Ri),Yr=pT(Ln),tf=KS(Yr),nf=JS(Ln),h0=PS(Ln),zr=gT(Ln),ht=q1($b(Uy),s1(kx,Rx,wo,qx,Co,Bt,jx,Vr,et,qa,hs,Oa,vo),kn,IS(qh,Co,Bt,et,qr,hs),Hn,Fo,Lt,fS(wo,qh,Bt,et,qr,Ke,hs,Ye),vS(u0,Bt,Mn),c0,Ke,tf,nf,h0,Ye,zr),Vx=o1(ht,zx,Hn,o0,Ke,Ye),sf=new WeakSet,hy=hT(Ln),f0=iS(new Uint32Array(1)),af=bx(f0,Hn),rf=Sx(f0),d0=h1(sf,kn,Lt,hy,ps,fx(hy),af,rf),Ho=i1(Wt),p0=ax(ef,Br,Oa),Gn=$1(p0),qi=dT(Ho,kn,Ex,Nx,Ox,Ph,i0,$h,Dx,Tx(Gr),r0),Yn=nx(jS(Br),p0),Ux=p1(Gn,qi,et,Yn,kt),Rn=j1(e1(By),u0,Xh,z1,Xb,Qb,Zb,Wb,Kb,Dh,zy,Yr,a0),Bx=d1(ht,Ux,Rn,Tt,qi,Ke,Ye,Ri),Lx=x1(ht,A1,Hn,Tt,mT(Wt,Gr),Ke,Ye,kt),Fx=I1(Gn,$y,et,Yn,kt),ja=lx(l0),Hx=Y1(ht,Rn,Fx,Fo,$y,Ke,Ye,ja),Ks=oT(qa,nf),Gx=xx(Tt,Ks),Js=xT(Yr,Gx),Yx=W1(Js,et,kt),Ix=Z1(ht,Yx,Js,Ke,Ye),Xx=P1(Fr,et,kt),Qx=J1(ht,Xx,Fr,Ke,Ye,wx),Zx=CT(Ho,qi,Wt,Ks),ji=wT(Ho,kn,Zx,Ph,$h),Wx=aS(Gn,ji,et,Yn,kt),Kx=sS(ht,Rn,Wx,ji,Ke,Ye,Ri),m0=ET(Lt,Gr),Jx=oS(m0,et,kt),Px=lS(ht,Jx,m0,Ke,Ye,ja),$x=mS(Gn,e0,et,Yn,kt),eA=pS(ht,Rn,$x,e0,Ke,Ye,ja),g0=NT(Lt),tA=xS(Gn,g0,et,Yn,kt),nA=TS(ht,Rn,tA,g0,Lt,Ke,Ye,ja),sA=DS(Gn,Wt,et,Yn,kt),aA=MS(ht,Rn,sA,Wt,Ke,Ye),iA=kT(Fo,Tt,Hr,Lt),Go=ix(kn,Wt,Hr,px(Wt,ps)),rA=YS(qi,et,ps,kt,Go),lA=OT(iA),oA=HS(ht,lA,rA,Ke,Ye,ja),uA=w1(Rn,Js,ji,Hr,Lt,n0,Ye,Gr),y0=new WeakMap,cA=lT(Lx,uA,c0,Ye,y0,Ri),_0=UT(Ho,kn,Ph,i0,$h,r0),hA=KT(Gn,_0,et,Yn,kt),fA=WT(ht,Rn,_0,hA,Ke,Ye,Ri),v0=tS(qi),dA=IT(v0,Tt,Wt,s0,Ks),Yo=YT(v0,Tt,dA,s0,Ks,Yr,Gr),pA=LT(wo,Tt,Js,Wt,Hr,Yo,Lt,Co,n0,Ks),b0=BT(pA),mA=$T(Gn,Js,ji,Wt,b0,et,ps,Yn,kt,Go),gA=PT(ht,Rn,b0,mA,Ke,Ye,ja),yA=FT(Hn),_A=tx(yA,Ke,new WeakSet,Cx),vA=GT(Js,Fr,Wt,Yo,Lt,Ks),S0=HT(vA,Lt),bA=hx(Gn,S0,et,Yn,kt),SA=cx(ht,Rn,S0,bA,Ke,Ye),TA=_x(Yo,et,kt),xA=yx(ht,Tt,Yo,TA,Ke,Ye,ja),T0=tT(Ln),lf=ES(Ln),x0=new WeakMap,AA=US(x0,ps),wA=T0?n1(kn,Lt,wS(Ln),lf,NS(Jb),Ke,AA,Ye,zr,new WeakMap,new WeakMap,dx(zr,ps),Ln):void 0,CA=$S(tf,Ye),EA=hS(sf,kn,cS,AS,new WeakSet,Ke,CA,xo,jr,af,rf),A0=H1(wA,Vx,d0,Bx,Hx,Ix,Qx,Kx,Px,EA,eA,nA,aA,oA,cA,fA,gA,_A,SA,xA),NA=nT(ht,RT,Ke,Ye),OA=aT(ht,qT,Ke,Ye),MA=iT(ht,jT,Ke,Ye),DA=zT(Tt,Ye),kA=rT(ht,DA,Ke),RA=T1(A0,Tt,Lt,mx,NA,OA,MA,kA,Yr),of=BS(y0),qA=r1(of),w0=eS(Hn),jA=yS(of),C0=bS(Hn),E0=new WeakMap,zA=kS(E0,Mn),VA=TT(w0,Hn,Tt,Js,Fr,ji,Wt,Hr,Lt,C0,lf,zA,Ks),UA=_T(Tt,VA,Wt,Lt,Ks),BA=F1(Gn,w0,qi,Js,Fr,ji,Wt,jA,C0,lf,et,zr,ps,Yn,kt,Go),LA=zS(x0),FA=rx(E0),fy=T0?U1(qA,ht,Rn,BA,UA,Bt,LA,Ke,Ye,zr,Ax,FA,Mx,Ri):void 0,HA=uS(Lt,ps),GA=ox(sf,kn,ef,of,Go,xo,af,rf),YA=QT(A0,kn,Tt,HA,GA),IA=XS(Bo,tf),XA=QS(Ih,nf),QA=ZS(Xh,h0),ZA=WS(Bo,Ye);function Tn(l){return l===void 0}function Oe(l){return l!==void 0}function WA(l){return typeof l=="function"}function Dn(l){return typeof l=="number"}function wa(l){return Object.prototype.toString.call(l)==="[object Object]"&&l.constructor===Object}function N0(l){return typeof l=="boolean"}function on(l){return Array.isArray(l)}function fs(l){return typeof l=="string"}function yo(l){return fs(l)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(l)}function ye(l,t){if(!l)throw new Error(t)}function Xs(l,t,a=1/0){if(!(t<=l&&l<=a))throw new RangeError(`Value must be within [${t}, ${a}], got: ${l}`)}function O0(l){!l.isOffline&&l.state!=="running"&&Io('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let M0=!1,dy=!1;function py(l){M0=l}function KA(l){Tn(l)&&M0&&!dy&&(dy=!0,Io("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let D0=console;function JA(...l){D0.log(...l)}function Io(...l){D0.warn(...l)}function PA(l){return new RA(l)}function $A(l,t,a){return new YA(l,t,a)}const Ut=typeof self=="object"?self:null,ew=Ut&&(Ut.hasOwnProperty("AudioContext")||Ut.hasOwnProperty("webkitAudioContext"));function tw(l,t,a){return ye(Oe(fy),"AudioWorkletNode only works in a secure context (https or localhost)"),new(l instanceof Ut?.BaseAudioContext?Ut?.AudioWorkletNode:fy)(l,t,a)}function qn(l,t,a,i){var o=arguments.length,c=o<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,a):i,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(l,t,a,i);else for(var d=l.length-1;d>=0;d--)(f=l[d])&&(c=(o<3?f(c):o>3?f(t,a,c):f(t,a))||c);return o>3&&c&&Object.defineProperty(t,a,c),c}function lt(l,t,a,i){function o(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function d(y){try{m(i.next(y))}catch(_){f(_)}}function p(y){try{m(i.throw(y))}catch(_){f(_)}}function m(y){y.done?c(y.value):o(y.value).then(d,p)}m((i=i.apply(l,t||[])).next())})}class nw{constructor(t,a,i,o){this._callback=t,this._type=a,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=i,this._createClock()}_createWorker(){const t=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),a=URL.createObjectURL(t),i=new Worker(a);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){var a;this._updateInterval=Math.max(t,this._minimumUpdateInterval),this._type==="worker"&&((a=this._worker)===null||a===void 0||a.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function Ma(l){return QA(l)}function Is(l){return XA(l)}function bo(l){return ZA(l)}function xi(l){return IA(l)}function sw(l){return l instanceof d0}function aw(l,t){return l==="value"||Ma(t)||Is(t)||sw(t)}function Ca(l,...t){if(!t.length)return l;const a=t.shift();if(wa(l)&&wa(a))for(const i in a)aw(i,a[i])?l[i]=a[i]:wa(a[i])?(l[i]||Object.assign(l,{[i]:{}}),Ca(l[i],a[i])):Object.assign(l,{[i]:a[i]});return Ca(l,...t)}function iw(l,t){return l.length===t.length&&l.every((a,i)=>t[i]===a)}function me(l,t,a=[],i){const o={},c=Array.from(t);if(wa(c[0])&&i&&!Reflect.has(c[0],i)&&(Object.keys(c[0]).some(d=>Reflect.has(l,d))||(Ca(o,{[i]:c[0]}),a.splice(a.indexOf(i),1),c.shift())),c.length===1&&wa(c[0]))Ca(o,c[0]);else for(let f=0;f<a.length;f++)Oe(c[f])&&(o[a[f]]=c[f]);return Ca(l,o)}function rw(l){return l.constructor.getDefaults()}function Ea(l,t){return Tn(l)?t:l}function Bh(l,t){return t.forEach(a=>{Reflect.has(l,a)&&delete l[a]}),l}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class ms{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Ut&&this.toString()===Ut.TONE_DEBUG_CLASS)&&JA(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}ms.version=jy;const uf=1e-6;function Ei(l,t){return l>t+uf}function Lh(l,t){return Ei(l,t)||Nn(l,t)}function Mo(l,t){return l+uf<t}function Nn(l,t){return Math.abs(l-t)<uf}function lw(l,t,a){return Math.max(Math.min(l,a),t)}class xn extends ms{constructor(){super(),this.name="Timeline",this._timeline=[];const t=me(xn.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(ye(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const a=this._timeline[this.length-1];ye(Lh(t.time,a.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const a=this._search(t.time);this._timeline.splice(a+1,0,t)}if(this.length>this.memory){const a=this.length-this.memory;this._timeline.splice(0,a)}return this}remove(t){const a=this._timeline.indexOf(t);return a!==-1&&this._timeline.splice(a,1),this}get(t,a="time"){const i=this._search(t,a);return i!==-1?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,a="time"){const i=this._search(t,a);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(t){const a=this._timeline.length;if(a>0&&this._timeline[a-1].time<t)return this._timeline[a-1];const i=this._search(t);return i-1>=0?this._timeline[i-1]:null}cancel(t){if(this._timeline.length>1){let a=this._search(t);if(a>=0)if(Nn(this._timeline[a].time,t)){for(let i=a;i>=0&&Nn(this._timeline[i].time,t);i--)a=i;this._timeline=this._timeline.slice(0,a)}else this._timeline=this._timeline.slice(0,a+1);else this._timeline=[]}else this._timeline.length===1&&Lh(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const a=this._search(t);return a>=0&&(this._timeline=this._timeline.slice(a+1)),this}previousEvent(t){const a=this._timeline.indexOf(t);return a>0?this._timeline[a-1]:null}_search(t,a="time"){if(this._timeline.length===0)return-1;let i=0;const o=this._timeline.length;let c=o;if(o>0&&this._timeline[o-1][a]<=t)return o-1;for(;i<c;){let f=Math.floor(i+(c-i)/2);const d=this._timeline[f],p=this._timeline[f+1];if(Nn(d[a],t)){for(let m=f;m<this._timeline.length;m++){const y=this._timeline[m];if(Nn(y[a],t))f=m;else break}return f}else{if(Mo(d[a],t)&&Ei(p[a],t))return f;Ei(d[a],t)?c=f:i=f+1}}return-1}_iterate(t,a=0,i=this._timeline.length-1){this._timeline.slice(a,i+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,a){const i=this._search(t);return i!==-1&&this._iterate(a,0,i),this}forEachAfter(t,a){const i=this._search(t);return this._iterate(a,i+1),this}forEachBetween(t,a,i){let o=this._search(t),c=this._search(a);return o!==-1&&c!==-1?(this._timeline[o].time!==t&&(o+=1),this._timeline[c].time===a&&(c-=1),this._iterate(i,o,c)):o===-1&&this._iterate(i,0,c),this}forEachFrom(t,a){let i=this._search(t);for(;i>=0&&this._timeline[i].time>=t;)i--;return this._iterate(a,i+1),this}forEachAtTime(t,a){const i=this._search(t);if(i!==-1&&Nn(this._timeline[i].time,t)){let o=i;for(let c=i;c>=0&&Nn(this._timeline[c].time,t);c--)o=c;this._iterate(c=>{a(c)},o,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const k0=[];function Xo(l){k0.push(l)}function ow(l){k0.forEach(t=>t(l))}const R0=[];function Qo(l){R0.push(l)}function uw(l){R0.forEach(t=>t(l))}class Ir extends ms{constructor(){super(...arguments),this.name="Emitter"}on(t,a){return t.split(/\W+/).forEach(o=>{Tn(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(a)}),this}once(t,a){const i=(...o)=>{a(...o),this.off(t,i)};return this.on(t,i),this}off(t,a){return t.split(/\W+/).forEach(o=>{if(Tn(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(Tn(a))this._events[o]=[];else{const c=this._events[o];for(let f=c.length-1;f>=0;f--)c[f]===a&&c.splice(f,1)}}),this}emit(t,...a){if(this._events&&this._events.hasOwnProperty(t)){const i=this._events[t].slice(0);for(let o=0,c=i.length;o<c;o++)i[o].apply(this,a)}return this}static mixin(t){["on","once","off","emit"].forEach(a=>{const i=Object.getOwnPropertyDescriptor(Ir.prototype,a);Object.defineProperty(t.prototype,a,i)})}dispose(){return super.dispose(),this._events=void 0,this}}class q0 extends Ir{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Xr extends q0{constructor(){var t,a;super(),this.name="Context",this._constants=new Map,this._timeouts=new xn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const i=me(Xr.getDefaults(),arguments,["context"]);i.context?(this._context=i.context,this._latencyHint=((t=arguments[0])===null||t===void 0?void 0:t.latencyHint)||""):(this._context=PA({latencyHint:i.latencyHint}),this._latencyHint=i.latencyHint),this._ticker=new nw(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((a=arguments[0])===null||a===void 0)&&a.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(ow(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,a,i){return this._context.createBuffer(t,a,i)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,a){return this._context.createIIRFilter(t,a)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,a,i){return this._context.createPeriodicWave(t,a,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return ye(xi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return ye(xi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return ye(xi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){ye(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){ye(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){ye(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){ye(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,a){return tw(this.rawContext,t,a)}addAudioWorkletModule(t){return lt(this,void 0,void 0,function*(){ye(Oe(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(t)),yield this._workletPromise})}workletsAreReady(){return lt(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get lookAhead(){return this._lookAhead}set lookAhead(t){this._lookAhead=t,this.updateInterval=t?t/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return xi(this._context)?this._context.resume():Promise.resolve()}close(){return lt(this,void 0,void 0,function*(){xi(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&uw(this)})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const a=this._context.createBuffer(1,128,this._context.sampleRate),i=a.getChannelData(0);for(let c=0;c<i.length;c++)i[c]=t;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=a,o.loop=!0,o.start(0),this._constants.set(t,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this.close(),this}_timeoutLoop(){const t=this.now();this._timeouts.forEachBefore(t,a=>{a.callback(),this._timeouts.remove(a)})}setTimeout(t,a){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:i+a}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(a=>{a.id===t&&this._timeouts.remove(a)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,a){const i=++this._timeoutIds,o=()=>{const c=this.now();this._timeouts.add({callback:()=>{t(),o()},id:i,time:c+a})};return o(),i}}class cw extends q0{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,a,i){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,a){return{}}createPanner(){return{}}createPeriodicWave(t,a,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,a){return{}}get rawContext(){return{}}addAudioWorkletModule(t){return lt(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(t,a){return 0}clearTimeout(t){return this}setInterval(t,a){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}}function Ve(l,t){on(t)?t.forEach(a=>Ve(l,a)):Object.defineProperty(l,t,{enumerable:!0,writable:!1})}function cf(l,t){on(t)?t.forEach(a=>cf(l,a)):Object.defineProperty(l,t,{writable:!0})}const je=()=>{};class nt extends ms{constructor(){super(),this.name="ToneAudioBuffer",this.onload=je;const t=me(nt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,fs(t.url)?this.load(t.url).catch(t.onerror):t.url&&this.set(t.url)}static getDefaults(){return{onerror:je,onload:je,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:rn().sampleRate}set(t){return t instanceof nt?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return lt(this,void 0,void 0,function*(){const a=nt.load(t).then(i=>{this.set(i),this.onload(this)});nt.downloads.push(a);try{yield a}finally{const i=nt.downloads.indexOf(a);nt.downloads.splice(i,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const a=on(t)&&t[0].length>0,i=a?t.length:1,o=a?t[0].length:t.length,c=rn(),f=c.createBuffer(i,o,c.sampleRate),d=!a&&i===1?[t]:t;for(let p=0;p<i;p++)f.copyToChannel(d[p],p);return this._buffer=f,this}toMono(t){if(Dn(t))this.fromArray(this.toArray(t));else{let a=new Float32Array(this.length);const i=this.numberOfChannels;for(let o=0;o<i;o++){const c=this.toArray(o);for(let f=0;f<c.length;f++)a[f]+=c[f]}a=a.map(o=>o/i),this.fromArray(a)}return this}toArray(t){if(Dn(t))return this.getChannelData(t);if(this.numberOfChannels===1)return this.toArray(0);{const a=[];for(let i=0;i<this.numberOfChannels;i++)a[i]=this.getChannelData(i);return a}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,a=this.duration){ye(this.loaded,"Buffer is not loaded");const i=Math.floor(t*this.sampleRate),o=Math.floor(a*this.sampleRate);ye(i<o,"The start time must be less than the end time");const c=o-i,f=rn().createBuffer(this.numberOfChannels,c,this.sampleRate);for(let d=0;d<this.numberOfChannels;d++)f.copyToChannel(this.getChannelData(d).subarray(i,o),d);return new nt(f)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return new nt().fromArray(t)}static fromUrl(t){return lt(this,void 0,void 0,function*(){return yield new nt().load(t)})}static load(t){return lt(this,void 0,void 0,function*(){const a=nt.baseUrl===""||nt.baseUrl.endsWith("/")?nt.baseUrl:nt.baseUrl+"/",i=yield fetch(a+t);if(!i.ok)throw new Error(`could not load url: ${t}`);const o=yield i.arrayBuffer();return yield rn().decodeAudioData(o)})}static supportsType(t){const a=t.split("."),i=a[a.length-1];return document.createElement("audio").canPlayType("audio/"+i)!==""}static loaded(){return lt(this,void 0,void 0,function*(){for(yield Promise.resolve();nt.downloads.length;)yield nt.downloads[0]})}}nt.baseUrl="";nt.downloads=[];class hf extends Xr{constructor(){super({clockSource:"offline",context:bo(arguments[0])?arguments[0]:$A(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:bo(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=bo(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return lt(this,void 0,void 0,function*(){let a=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,a++;const i=Math.floor(this.sampleRate/128);t&&a%i===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return lt(this,arguments,void 0,function*(t=!0){yield this.workletsAreReady(),yield this._renderClock(t);const a=yield this._context.startRendering();return new nt(a)})}close(){return Promise.resolve()}}const j0=new cw;let xa=j0;function rn(){return xa===j0&&ew&&hw(new Xr),xa}function hw(l,t=!1){t&&xa.dispose(),xi(l)?xa=new Xr(l):bo(l)?xa=new hf(l):xa=l}function fw(){return xa.resume()}if(Ut&&!Ut.TONE_SILENCE_LOGGING){const t=` * Tone.js v${jy} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function dw(l){return Math.pow(10,l/20)}function pw(l){return 20*(Math.log(l)/Math.LN10)}function z0(l){return Math.pow(2,l/12)}let Zo=440;function mw(){return Zo}function gw(l){Zo=l}function Aa(l){return Math.round(V0(l))}function V0(l){return 69+12*Math.log2(l/Zo)}function U0(l){return Zo*Math.pow(2,(l-69)/12)}class ff extends ms{constructor(t,a,i){super(),this.defaultUnits="s",this._val=a,this._units=i,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,a)=>{const i=parseInt(t,10),o=a==="."?1.5:1;return i===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/i)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const a=parseInt(t,10);return this._beatsToUnits(8/(Math.floor(a)*3))},regexp:/^(\d+)t$/i},tr:{method:(t,a,i)=>{let o=0;return t&&t!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),a&&a!=="0"&&(o+=this._beatsToUnits(parseFloat(a))),i&&i!=="0"&&(o+=this._beatsToUnits(parseFloat(i)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof ff&&this.fromType(this._val),Tn(this._val))return this._noArg();if(fs(this._val)&&Tn(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(wa(this._val)){let t=0;for(const a in this._val)if(Oe(this._val[a])){const i=this._val[a],o=new this.constructor(this.context,a).valueOf()*i;t+=o}return t}if(Oe(this._units)){const t=this._expressions[this._units],a=this._val.toString().trim().match(t.regexp);return a?t.method.apply(this,a.slice(1)):t.method.call(this,this._val)}else return fs(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class On extends ff{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const a=new On(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(a))},regexp:/^@(.+)/}})}quantize(t,a=1){const i=new this.constructor(this.context,t).valueOf(),o=this.valueOf(),d=Math.round(o/i)*i-o;return o+d*a}toNotation(){const t=this.toSeconds(),a=["1m"];for(let c=1;c<9;c++){const f=Math.pow(2,c);a.push(f+"n."),a.push(f+"n"),a.push(f+"t")}a.push("0");let i=a[0],o=new On(this.context,a[0]).toSeconds();return a.forEach(c=>{const f=new On(this.context,c).toSeconds();Math.abs(f-t)<Math.abs(o-t)&&(i=c,o=f)}),i}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let a=this.valueOf()/t;a=parseFloat(a.toFixed(4));const i=Math.floor(a/this._getTimeSignature());let o=a%1*4;a=Math.floor(a)%this._getTimeSignature();const c=o.toString();return c.length>3&&(o=parseFloat(parseFloat(c).toFixed(3))),[i,a,o].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Aa(this.toFrequency())}_now(){return this.context.now()}}class ln extends On{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return mw()}static set A4(t){gw(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return this.defaultUnits==="midi"?t:ln.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(t,a){const o=yw[t.toLowerCase()]+(parseInt(a,10)+1)*12;return this.defaultUnits==="midi"?o:ln.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,a,i){let o=1;return t&&t!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),a&&a!=="0"&&(o*=this._beatsToUnits(parseFloat(a))),i&&i!=="0"&&(o*=this._beatsToUnits(parseFloat(i)/4)),o}}})}transpose(t){return new ln(this.context,this.valueOf()*z0(t))}harmonize(t){return t.map(a=>this.transpose(a))}toMidi(){return Aa(this.valueOf())}toNote(){const t=this.toFrequency(),a=Math.log2(t/ln.A4);let i=Math.round(12*a)+57;const o=Math.floor(i/12);return o<0&&(i+=-12*o),_w[i%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),a=this.valueOf()/t;return Math.floor(a*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(t*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return U0(t)}static ftom(t){return Aa(t)}}const yw={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},_w=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Rr extends On{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class xt extends ms{constructor(){super();const t=me(xt.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:rn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return KA(t),new On(this.context,t).toSeconds()}toFrequency(t){return new ln(this.context,t).toFrequency()}toTicks(t){return new Rr(this.context,t).toTicks()}_getPartialProperties(t){const a=this.get();return Object.keys(a).forEach(i=>{Tn(t[i])&&delete a[i]}),a}get(){const t=rw(this);return Object.keys(t).forEach(a=>{if(Reflect.has(this,a)){const i=this[a];Oe(i)&&Oe(i.value)&&Oe(i.setValueAtTime)?t[a]=i.value:i instanceof xt?t[a]=i._getPartialProperties(t[a]):on(i)||Dn(i)||fs(i)||N0(i)?t[a]=i:delete t[a]}}),t}set(t){return Object.keys(t).forEach(a=>{Reflect.has(this,a)&&Oe(this[a])&&(this[a]&&Oe(this[a].value)&&Oe(this[a].setValueAtTime)?this[a].value!==t[a]&&(this[a].value=t[a]):this[a]instanceof xt?this[a].set(t[a]):this[a]=t[a])}),this}}class Wo extends xn{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const a=this.get(t);return a!==null?a.state:this._initial}setStateAtTime(t,a,i){return Xs(a,0),this.add(Object.assign({},i,{state:t,time:a})),this}getLastState(t,a){const i=this._search(a);for(let o=i;o>=0;o--){const c=this._timeline[o];if(c.state===t)return c}}getNextState(t,a){const i=this._search(a);if(i!==-1)for(let o=i;o<this._timeline.length;o++){const c=this._timeline[o];if(c.state===t)return c}}}class Ae extends xt{constructor(){const t=me(Ae.getDefaults(),arguments,["param","units","convert"]);for(super(t),this.name="Param",this.overridden=!1,this._minOutput=1e-7,ye(Oe(t.param)&&(Ma(t.param)||t.param instanceof Ae),"param must be an AudioParam");!Ma(t.param);)t.param=t.param._param;this._swappable=Oe(t.swappable)?t.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new xn(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,Oe(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(xt.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return Oe(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Oe(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(t,a){return this.units===a}_assertRange(t){return Oe(this.maxValue)&&Oe(this.minValue)&&Xs(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?dw(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&this.units==="decibels"?pw(t):t}setValueAtTime(t,a){const i=this.toSeconds(a),o=this._fromType(t);return ye(isFinite(o)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(a)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",t,i),this._events.add({time:i,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,i),this}getValueAtTime(t){const a=Math.max(this.toSeconds(t),0),i=this._events.getAfter(a),o=this._events.get(a);let c=this._initialValue;if(o===null)c=this._initialValue;else if(o.type==="setTargetAtTime"&&(i===null||i.type==="setValueAtTime")){const f=this._events.getBefore(o.time);let d;f===null?d=this._initialValue:d=f.value,o.type==="setTargetAtTime"&&(c=this._exponentialApproach(o.time,d,o.value,o.constant,a))}else if(i===null)c=o.value;else if(i.type==="linearRampToValueAtTime"||i.type==="exponentialRampToValueAtTime"){let f=o.value;if(o.type==="setTargetAtTime"){const d=this._events.getBefore(o.time);d===null?f=this._initialValue:f=d.value}i.type==="linearRampToValueAtTime"?c=this._linearInterpolate(o.time,f,i.time,i.value,a):c=this._exponentialInterpolate(o.time,f,i.time,i.value,a)}else c=o.value;return this._toType(c)}setRampPoint(t){t=this.toSeconds(t);let a=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),this._fromType(a)===0&&(a=this._toType(this._minOutput)),this.setValueAtTime(a,t),this}linearRampToValueAtTime(t,a){const i=this._fromType(t),o=this.toSeconds(a);return ye(isFinite(i)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(a)}`),this._assertRange(i),this._events.add({time:o,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",t,o),this._param.linearRampToValueAtTime(i,o),this}exponentialRampToValueAtTime(t,a){let i=this._fromType(t);i=Nn(i,0)?this._minOutput:i,this._assertRange(i);const o=this.toSeconds(a);return ye(isFinite(i)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(a)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",t,o),this._param.exponentialRampToValueAtTime(i,o),this}exponentialRampTo(t,a,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(t,i+this.toSeconds(a)),this}linearRampTo(t,a,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(t,i+this.toSeconds(a)),this}targetRampTo(t,a,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(t,i,a),this}exponentialApproachValueAtTime(t,a,i){a=this.toSeconds(a),i=this.toSeconds(i);const o=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(t,a,o),this.cancelAndHoldAtTime(a+i*.9),this.linearRampToValueAtTime(t,a+i),this}setTargetAtTime(t,a,i){const o=this._fromType(t);ye(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const c=this.toSeconds(a);return this._assertRange(o),ye(isFinite(o)&&isFinite(c),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(a)}`),this._events.add({constant:i,time:c,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",t,c,i),this._param.setTargetAtTime(o,c,i),this}setValueCurveAtTime(t,a,i,o=1){i=this.toSeconds(i),a=this.toSeconds(a);const c=this._fromType(t[0])*o;this.setValueAtTime(this._toType(c),a);const f=i/(t.length-1);for(let d=1;d<t.length;d++){const p=this._fromType(t[d])*o;this.linearRampToValueAtTime(this._toType(p),a+d*f)}return this}cancelScheduledValues(t){const a=this.toSeconds(t);return ye(isFinite(a),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(a),this._param.cancelScheduledValues(a),this.log(this.units,"cancelScheduledValues",a),this}cancelAndHoldAtTime(t){const a=this.toSeconds(t),i=this._fromType(this.getValueAtTime(a));ye(isFinite(a),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",a,"value="+i);const o=this._events.get(a),c=this._events.getAfter(a);return o&&Nn(o.time,a)?c?(this._param.cancelScheduledValues(c.time),this._events.cancel(c.time)):(this._param.cancelAndHoldAtTime(a),this._events.cancel(a+this.sampleTime)):c&&(this._param.cancelScheduledValues(c.time),this._events.cancel(c.time),c.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(i),a):c.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(i),a)),this._events.add({time:a,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,a),this}rampTo(t,a=.1,i){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(t,a,i):this.linearRampTo(t,a,i),this}apply(t){const a=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(a),a);const i=this._events.get(a);if(i&&i.type==="setTargetAtTime"){const o=this._events.getAfter(i.time),c=o?o.time:a+2,f=(c-a)/10;for(let d=a;d<c;d+=f)t.linearRampToValueAtTime(this.getValueAtTime(d),d)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?t.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?t.setTargetAtTime(o.value,o.time,o.constant):t[o.type](o.value,o.time)}),this}setParam(t){ye(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const a=this.input;return a.disconnect(this._param),this.apply(t),this._param=t,a.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,a,i,o,c){return i+(a-i)*Math.exp(-(c-t)/o)}_linearInterpolate(t,a,i,o,c){return a+(o-a)*((c-t)/(i-t))}_exponentialInterpolate(t,a,i,o,c){return a*Math.pow(o/a,(c-t)/(i-t))}}class _e extends xt{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Oe(this.input)?Ma(this.input)||this.input instanceof Ae?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Oe(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return Oe(t)&&(t instanceof _e||Is(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(i=>{i.channelCount=t.channelCount,i.channelCountMode=t.channelCountMode,i.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();ye(t.length>0,"ToneAudioNode does not have any internal nodes");const a=t[0];return{channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const a=this._getChannelProperties();this._setChannelProperties(Object.assign(a,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const a=this._getChannelProperties();this._setChannelProperties(Object.assign(a,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const a=this._getChannelProperties();this._setChannelProperties(Object.assign(a,{channelInterpretation:t}))}connect(t,a=0,i=0){return ds(this,t,a,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Io("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,a=0,i=0){return B0(this,t,a,i),this}chain(...t){return Ni(this,...t),this}fan(...t){return t.forEach(a=>this.connect(a)),this}dispose(){return super.dispose(),Oe(this.input)&&(this.input instanceof _e?this.input.dispose():Is(this.input)&&this.input.disconnect()),Oe(this.output)&&(this.output instanceof _e?this.output.dispose():Is(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ni(...l){const t=l.shift();l.reduce((a,i)=>(a instanceof _e?a.connect(i):Is(a)&&ds(a,i),i),t)}function ds(l,t,a=0,i=0){for(ye(Oe(l),"Cannot connect from undefined node"),ye(Oe(t),"Cannot connect to undefined node"),(t instanceof _e||Is(t))&&ye(t.numberOfInputs>0,"Cannot connect to node with no inputs"),ye(l.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof _e||t instanceof Ae;)Oe(t.input)&&(t=t.input);for(;l instanceof _e;)Oe(l.output)&&(l=l.output);Ma(t)?l.connect(t,a):l.connect(t,a,i)}function B0(l,t,a=0,i=0){if(Oe(t))for(;t instanceof _e;)t=t.input;for(;!Is(l);)Oe(l.output)&&(l=l.output);Ma(t)?l.disconnect(t,a):Is(t)?l.disconnect(t,a,i):l.disconnect()}class ze extends _e{constructor(){const t=me(ze.getDefaults(),arguments,["gain","units"]);super(t),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Ae({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Ve(this,"gain")}static getDefaults(){return Object.assign(_e.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Oi extends _e{constructor(t){super(t),this.onended=je,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ze({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(a){const i=this.toSeconds(a);return this._startTime!==-1&&i>=this._startTime&&(this._stopTime===-1||i<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(_e.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:je})}_startGain(t,a=1){ye(this._startTime===-1,"Source cannot be started more than once");const i=this.toSeconds(this._fadeIn);return this._startTime=t+i,this._startTime=Math.max(this._startTime,this.context.currentTime),i>0?(this._gainNode.gain.setValueAtTime(0,t),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(a,t+i):this._gainNode.gain.exponentialApproachValueAtTime(a,t,i)):this._gainNode.gain.setValueAtTime(a,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){ye(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const a=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+a,this._stopTime=Math.max(this._stopTime,this.now()),a>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,a,t):this._gainNode.gain.targetRampTo(0,a,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const i=this._curve==="exponential"?a*2:0;this._stopSource(this.now()+i),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==je&&(this.onended(this),this.onended=je,!this.context.isOffline)){const t=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(t):setTimeout(t,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),ye(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=je,this}}class df extends Oi{constructor(){const t=me(df.getDefaults(),arguments,["offset"]);super(t),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),ds(this._source,this._gainNode),this.offset=new Ae({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(Oi.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const a=this.toSeconds(t);return this.log("start",a),this._startGain(a),this._source.start(a),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Xe extends _e{constructor(){const t=me(Xe.getDefaults(),arguments,["value","units"]);super(t),this.name="Signal",this.override=!0,this.output=this._constantSource=new df({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(_e.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,a=0,i=0){return Ko(this,t,a,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,a){return this._param.setValueAtTime(t,a),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,a){return this._param.linearRampToValueAtTime(t,a),this}exponentialRampToValueAtTime(t,a){return this._param.exponentialRampToValueAtTime(t,a),this}exponentialRampTo(t,a,i){return this._param.exponentialRampTo(t,a,i),this}linearRampTo(t,a,i){return this._param.linearRampTo(t,a,i),this}targetRampTo(t,a,i){return this._param.targetRampTo(t,a,i),this}exponentialApproachValueAtTime(t,a,i){return this._param.exponentialApproachValueAtTime(t,a,i),this}setTargetAtTime(t,a,i){return this._param.setTargetAtTime(t,a,i),this}setValueCurveAtTime(t,a,i,o){return this._param.setValueCurveAtTime(t,a,i,o),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,a,i){return this._param.rampTo(t,a,i),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Ko(l,t,a,i){(t instanceof Ae||Ma(t)||t instanceof Xe&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof Xe&&(t.overridden=!0)),ds(l,t,a,i)}class pf extends Ae{constructor(){const t=me(pf.getDefaults(),arguments,["value"]);super(t),this.name="TickParam",this._events=new xn(1/0),this._multiplier=1,this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Ae.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,a,i){a=this.toSeconds(a),this.setRampPoint(a);const o=this._fromType(t),c=this._events.get(a),f=Math.round(Math.max(1/i,1));for(let d=0;d<=f;d++){const p=i*d+a,m=this._exponentialApproach(c.time,c.value,o,i,p);this.linearRampToValueAtTime(this._toType(m),p)}return this}setValueAtTime(t,a){const i=this.toSeconds(a);super.setValueAtTime(t,a);const o=this._events.get(i),c=this._events.previousEvent(o),f=this._getTicksUntilEvent(c,i);return o.ticks=Math.max(f,0),this}linearRampToValueAtTime(t,a){const i=this.toSeconds(a);super.linearRampToValueAtTime(t,a);const o=this._events.get(i),c=this._events.previousEvent(o),f=this._getTicksUntilEvent(c,i);return o.ticks=Math.max(f,0),this}exponentialRampToValueAtTime(t,a){a=this.toSeconds(a);const i=this._fromType(t),o=this._events.get(a),c=Math.round(Math.max((a-o.time)*10,1)),f=(a-o.time)/c;for(let d=0;d<=c;d++){const p=f*d+o.time,m=this._exponentialInterpolate(o.time,o.value,a,i,p);this.linearRampToValueAtTime(this._toType(m),p)}return this}_getTicksUntilEvent(t,a){if(t===null)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Tn(t.ticks)){const f=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(f,t.time)}const i=this._fromType(this.getValueAtTime(t.time));let o=this._fromType(this.getValueAtTime(a));const c=this._events.get(a);return c&&c.time===a&&c.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(a-this.sampleTime))),.5*(a-t.time)*(i+o)+t.ticks}getTicksAtTime(t){const a=this.toSeconds(t),i=this._events.get(a);return Math.max(this._getTicksUntilEvent(i,a),0)}getDurationOfTicks(t,a){const i=this.toSeconds(a),o=this.getTicksAtTime(a);return this.getTimeOfTick(o+t)-i}getTimeOfTick(t){const a=this._events.get(t,"ticks"),i=this._events.getAfter(t,"ticks");if(a&&a.ticks===t)return a.time;if(a&&i&&i.type==="linearRampToValueAtTime"&&a.value!==i.value){const o=this._fromType(this.getValueAtTime(a.time)),f=(this._fromType(this.getValueAtTime(i.time))-o)/(i.time-a.time),d=Math.sqrt(Math.pow(o,2)-2*f*(a.ticks-t)),p=(-o+d)/f,m=(-o-d)/f;return(p>0?p:m)+a.time}else return a?a.value===0?1/0:a.time+(t-a.ticks)/a.value:t/this._initialValue}ticksToTime(t,a){return this.getDurationOfTicks(t,a)}timeToTicks(t,a){const i=this.toSeconds(a),o=this.toSeconds(t),c=this.getTicksAtTime(i);return this.getTicksAtTime(i+o)-c}_fromType(t){return this.units==="bpm"&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return this.units==="bpm"&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const a=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(a,0)}}class mf extends Xe{constructor(){const t=me(mf.getDefaults(),arguments,["value"]);super(t),this.name="TickSignal",this.input=this._param=new pf({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(Xe.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,a){return this._param.ticksToTime(t,a)}timeToTicks(t,a){return this._param.timeToTicks(t,a)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,a){return this._param.getDurationOfTicks(t,a)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class gf extends xt{constructor(){const t=me(gf.getDefaults(),arguments,["frequency"]);super(t),this.name="TickSource",this._state=new Wo,this._tickOffset=new xn,this._ticksAtTime=new xn,this._secondsAtTime=new xn,this.frequency=new mf({context:this.context,units:t.units,value:t.frequency}),Ve(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},xt.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,a){const i=this.toSeconds(t);return this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),Oe(a)&&this.setTicksAtTime(a,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}stop(t){const a=this.toSeconds(t);if(this._state.getValueAtTime(a)==="stopped"){const i=this._state.get(a);i&&i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(a),this._state.setStateAtTime("stopped",a),this.setTicksAtTime(0,a),this._ticksAtTime.cancel(a),this._secondsAtTime.cancel(a),this}pause(t){const a=this.toSeconds(t);return this._state.getValueAtTime(a)==="started"&&(this._state.setStateAtTime("paused",a),this._ticksAtTime.cancel(a),this._secondsAtTime.cancel(a)),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getTicksAtTime(t){const a=this.toSeconds(t),i=this._state.getLastState("stopped",a),o=this._ticksAtTime.get(a),c={state:"paused",time:a};this._state.add(c);let f=o||i,d=o?o.ticks:0,p=null;return this._state.forEachBetween(f.time,a+this.sampleTime,m=>{let y=f.time;const _=this._tickOffset.get(m.time);_&&_.time>=f.time&&(d=_.ticks,y=_.time),f.state==="started"&&m.state!=="started"&&(d+=this.frequency.getTicksAtTime(m.time)-this.frequency.getTicksAtTime(y),m.time!==c.time&&(p={state:m.state,time:m.time,ticks:d})),f=m}),this._state.remove(c),p&&this._ticksAtTime.add(p),d}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const a=this.now(),i=this.frequency.timeToTicks(t,a);this.setTicksAtTime(i,a)}getSecondsAtTime(t){t=this.toSeconds(t);const a=this._state.getLastState("stopped",t),i={state:"paused",time:t};this._state.add(i);const o=this._secondsAtTime.get(t);let c=o||a,f=o?o.seconds:0,d=null;return this._state.forEachBetween(c.time,t+this.sampleTime,p=>{let m=c.time;const y=this._tickOffset.get(p.time);y&&y.time>=c.time&&(f=y.seconds,m=y.time),c.state==="started"&&p.state!=="started"&&(f+=p.time-m,p.time!==i.time&&(d={state:p.state,time:p.time,seconds:f})),c=p}),this._state.remove(i),d&&this._secondsAtTime.add(d),f}setTicksAtTime(t,a){return a=this.toSeconds(a),this._tickOffset.cancel(a),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,a),ticks:t,time:a}),this._ticksAtTime.cancel(a),this._secondsAtTime.cancel(a),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,a=this.now()){const i=this._tickOffset.get(a),o=this._state.get(a),c=Math.max(i.time,o.time),f=this.frequency.getTicksAtTime(c)+t-i.ticks;return this.frequency.getTimeOfTick(f)}forEachTickBetween(t,a,i){let o=this._state.get(t);this._state.forEachBetween(t,a,f=>{o&&o.state==="started"&&f.state!=="started"&&this.forEachTickBetween(Math.max(o.time,t),f.time-this.sampleTime,i),o=f});let c=null;if(o&&o.state==="started"){const f=Math.max(o.time,t),d=this.frequency.getTicksAtTime(f),p=this.frequency.getTicksAtTime(o.time),m=d-p;let y=Math.ceil(m)-m;y=Nn(y,1)?0:y;let _=this.frequency.getTimeOfTick(d+y);for(;_<a;){try{i(_,Math.round(this.getTicksAtTime(_)))}catch(b){c=b;break}_+=this.frequency.getDurationOfTicks(1,_)}}if(c)throw c;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Jo extends xt{constructor(){const t=me(Jo.getDefaults(),arguments,["callback","frequency"]);super(t),this.name="Clock",this.callback=je,this._lastUpdate=0,this._state=new Wo("stopped"),this._boundLoop=this._loop.bind(this),this.callback=t.callback,this._tickSource=new gf({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Ve(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(xt.getDefaults(),{callback:je,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,a){O0(this.context);const i=this.toSeconds(t);return this.log("start",i),this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,a),i<this._lastUpdate&&this.emit("start",i,a)),this}stop(t){const a=this.toSeconds(t);return this.log("stop",a),this._state.cancel(a),this._state.setStateAtTime("stopped",a),this._tickSource.stop(a),a<this._lastUpdate&&this.emit("stop",a),this}pause(t){const a=this.toSeconds(t);return this._state.getValueAtTime(a)==="started"&&(this._state.setStateAtTime("paused",a),this._tickSource.pause(a),a<this._lastUpdate&&this.emit("pause",a)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,a){return this._tickSource.setTicksAtTime(t,a),this}getTimeOfTick(t,a=this.now()){return this._tickSource.getTimeOfTick(t,a)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,a){const i=this.toSeconds(a),o=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(o+t,i)}_loop(){const t=this._lastUpdate,a=this.now();this._lastUpdate=a,this.log("loop",t,a),t!==a&&(this._state.forEachBetween(t,a,i=>{switch(i.state){case"started":const o=this._tickSource.getTicksAtTime(i.time);this.emit("start",i.time,o);break;case"stopped":i.time!==0&&this.emit("stop",i.time);break;case"paused":this.emit("pause",i.time);break}}),this._tickSource.forEachTickBetween(t,a,(i,o)=>{this.callback(i,o)}))}getStateAtTime(t){const a=this.toSeconds(t);return this._state.getValueAtTime(a)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Ir.mixin(Jo);let vw=class L0 extends _e{constructor(){const t=me(L0.getDefaults(),arguments,["delayTime","maxDelay"]);super(t),this.name="Delay";const a=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(a,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(a),this.delayTime=new Ae({context:this.context,param:this._delayNode.delayTime,units:"time",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),Ve(this,"delayTime")}static getDefaults(){return Object.assign(_e.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}};class zi extends _e{constructor(){const t=me(zi.getDefaults(),arguments,["volume"]);super(t),this.name="Volume",this.input=this.output=new ze({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Ve(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(_e.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class yf extends _e{constructor(){const t=me(yf.getDefaults(),arguments);super(t),this.name="Destination",this.input=new zi({context:this.context}),this.output=new ze({context:this.context}),this.volume=this.input.volume,Ni(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(_e.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),Ni(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Xo(l=>{l.destination=new yf({context:l})});Qo(l=>{l.destination.dispose()});class bw extends _e{constructor(){super(...arguments),this.name="Listener",this.positionX=new Ae({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Ae({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Ae({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Ae({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Ae({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Ae({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Ae({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Ae({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Ae({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(_e.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Xo(l=>{l.listener=new bw({context:l})});Qo(l=>{l.listener.dispose()});class _f extends ms{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=me(_f.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(a=>{this._loadingCount++;const i=t.urls[a];this.add(a,i,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:je,onload:je,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return ye(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,this._loadingCount===0&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,a])=>a.loaded)}add(t,a,i=je,o=je){return fs(a)?(this.baseUrl&&a.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(t.toString(),new nt(this.baseUrl+a,i,o))):this._buffers.set(t.toString(),new nt(a,i,o)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class Do extends ln{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return Aa(super._frequencyToUnits(t))}_ticksToUnits(t){return Aa(super._ticksToUnits(t))}_beatsToUnits(t){return Aa(super._beatsToUnits(t))}_secondsToUnits(t){return Aa(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return U0(this.toMidi())}transpose(t){return new Do(this.context,this.toMidi()+t)}}class Sn extends Rr{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Sw extends xt{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new xn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,a){return this._events.add({callback:t,time:this.toSeconds(a)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;this._events.forEachBefore(t+this.anticipation,a=>{t-a.time<=this.expiration&&a.callback(),this._events.remove(a)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Xo(l=>{l.draw=new Sw({context:l})});Qo(l=>{l.draw.dispose()});class Tw extends ms{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){ye(Oe(t.time),"Events must have a time property"),ye(Oe(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let a=new xw(t.time,t.time+t.duration,t);for(this._root===null?this._root=a:this._root.insert(a),this._length++;a!==null;)a.updateHeight(),a.updateMax(),this._rebalance(a),a=a.parent;return this}remove(t){if(this._root!==null){const a=[];this._root.search(t.time,a);for(const i of a)if(i.event===t){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,a=>this.remove(a)),this}_setRoot(t){this._root=t,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(t,a){t.parent!==null?(t.isLeftChild()?t.parent.left=a:t.parent.right=a,this._rebalance(t.parent)):this._setRoot(a)}_removeNode(t){if(t.left===null&&t.right===null)this._replaceNodeInParent(t,null);else if(t.right===null)this._replaceNodeInParent(t,t.left);else if(t.left===null)this._replaceNodeInParent(t,t.right);else{const a=t.getBalance();let i,o=null;if(a>0)if(t.left.right===null)i=t.left,i.right=t.right,o=i;else{for(i=t.left.right;i.right!==null;)i=i.right;i.parent&&(i.parent.right=i.left,o=i.parent,i.left=t.left,i.right=t.right)}else if(t.right.left===null)i=t.right,i.left=t.left,o=i;else{for(i=t.right.left;i.left!==null;)i=i.left;i.parent&&(i.parent.left=i.right,o=i.parent,i.left=t.left,i.right=t.right)}t.parent!==null?t.isLeftChild()?t.parent.left=i:t.parent.right=i:this._setRoot(i),o&&this._rebalance(o)}t.dispose()}_rotateLeft(t){const a=t.parent,i=t.isLeftChild(),o=t.right;o&&(t.right=o.left,o.left=t),a!==null?i?a.left=o:a.right=o:this._setRoot(o)}_rotateRight(t){const a=t.parent,i=t.isLeftChild(),o=t.left;o&&(t.left=o.right,o.right=t),a!==null?i?a.left=o:a.right=o:this._setRoot(o)}_rebalance(t){const a=t.getBalance();a>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):a<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(this._root!==null){const a=[];if(this._root.search(t,a),a.length>0){let i=a[0];for(let o=1;o<a.length;o++)a[o].low>i.low&&(i=a[o]);return i.event}}return null}forEach(t){if(this._root!==null){const a=[];this._root.traverse(i=>a.push(i)),a.forEach(i=>{i.event&&t(i.event)})}return this}forEachAtTime(t,a){if(this._root!==null){const i=[];this._root.search(t,i),i.forEach(o=>{o.event&&a(o.event)})}return this}forEachFrom(t,a){if(this._root!==null){const i=[];this._root.searchAfter(t,i),i.forEach(o=>{o.event&&a(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class xw{constructor(t,a,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=t,this.high=a,this.max=this.high}insert(t){t.low<=this.low?this.left===null?this.left=t:this.left.insert(t):this.right===null?this.right=t:this.right.insert(t)}search(t,a){t>this.max||(this.left!==null&&this.left.search(t,a),this.low<=t&&this.high>t&&a.push(this),!(this.low>t)&&this.right!==null&&this.right.search(t,a))}searchAfter(t,a){this.low>=t&&(a.push(this),this.left!==null&&this.left.searchAfter(t,a)),this.right!==null&&this.right.searchAfter(t,a)}traverse(t){t(this),this.left!==null&&this.left.traverse(t),this.right!==null&&this.right.traverse(t)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return this.left!==null&&this.right!==null?t=this.left.height-this.right.height:this.left!==null?t=this.left.height+1:this.right!==null&&(t=-(this.right.height+1)),t}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Aw extends ms{constructor(t){super(),this.name="TimelineValue",this._timeline=new xn({memory:10}),this._initialValue=t}set(t,a){return this._timeline.add({value:t,time:a}),this}get(t){const a=this._timeline.get(t);return a?a.value:this._initialValue}}class Fn extends _e{constructor(){super(me(Fn.getDefaults(),arguments,["context"]))}connect(t,a=0,i=0){return Ko(this,t,a,i),this}}class za extends Fn{constructor(){const t=me(za.getDefaults(),arguments,["mapping","length"]);super(t),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,on(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):WA(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(Xe.getDefaults(),{length:1024})}setMap(t,a=1024){const i=new Float32Array(a);for(let o=0,c=a;o<c;o++){const f=o/(c-1)*2-1;i[o]=t(f,o)}return this.curve=i,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const a=["none","2x","4x"].some(i=>i.includes(t));ye(a,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class vf extends Fn{constructor(){const t=me(vf.getDefaults(),arguments,["value"]);super(t),this.name="Pow",this._exponentScaler=this.input=this.output=new za({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(Fn.getDefaults(),{value:1})}_expFunc(t){return a=>Math.pow(Math.abs(a),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Qs{constructor(t,a){this.id=Qs._eventId++,this._remainderTime=0;const i=Object.assign(Qs.getDefaults(),a);this.transport=t,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:je,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const a=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*a),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Qs._eventId=0;class bf extends Qs{constructor(t,a){super(t,a),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(bf.getDefaults(),a);this.duration=i.duration,this._interval=i.interval,this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Qs.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return Mo(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Sn(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){Mo(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Sn(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const a=this.transport.getTicksAtTime(t);Ei(a,this.time)&&(this._nextTick=this.floatTime+Math.ceil((a-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Po extends xt{constructor(){const t=me(Po.getDefaults(),arguments);super(t),this.name="Transport",this._loop=new Aw(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new xn,this._repeatedEvents=new Tw,this._syncedSignals=[],this._swingAmount=0,this._ppq=t.ppq,this._clock=new Jo({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Ve(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(xt.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,a){if(this._loop.get(t)&&a>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),a=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&a%this._ppq!==0&&a%(this._swingTicks*2)!==0){const i=a%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(i*Math.PI)*this._swingAmount;t+=new Sn(this.context,this._swingTicks*2/3).toSeconds()*o}py(!0),this._timeline.forEachAtTime(a,i=>i.invoke(t)),py(!1)}schedule(t,a){const i=new Qs(this,{callback:t,time:new Rr(this.context,a).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(t,a,i,o=1/0){const c=new bf(this,{callback:t,duration:new On(this.context,o).toTicks(),interval:new On(this.context,a).toTicks(),time:new Rr(this.context,i).toTicks()});return this._addEvent(c,this._repeatedEvents)}scheduleOnce(t,a){const i=new Qs(this,{callback:t,once:!0,time:new Rr(this.context,a).toTicks()});return this._addEvent(i,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const a=this._scheduledEvents[t.toString()];a.timeline.remove(a.event),a.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,a){return this._scheduledEvents[t.id.toString()]={event:t,timeline:a},a.add(t),t.id}cancel(t=0){const a=this.toTicks(t);return this._timeline.forEachFrom(a,i=>this.clear(i.id)),this._repeatedEvents.forEachFrom(a,i=>this.clear(i.id)),this}_bindClockEvents(){this._clock.on("start",(t,a)=>{a=new Sn(this.context,a).toSeconds(),this.emit("start",t,a)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,a){this.context.resume();let i;return Oe(a)&&(i=this.toTicks(a)),this._clock.start(t,i),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!=="started"?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){on(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new On(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new On(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,a){return this.loopStart=t,this.loopEnd=a,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new Sn(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),a=this._clock.getTicksAtTime(t);return new Sn(this.context,a).toBarsBeatsSixteenths()}set position(t){const a=this.toTicks(t);this.ticks=a}get seconds(){return this._clock.seconds}set seconds(t){const a=this.now(),i=this._clock.frequency.timeToTicks(t,a);this.ticks=i}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const a=this.now();if(this.state==="started"){const i=this._clock.getTicksAtTime(a),o=this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,a),c=a+o;this.emit("stop",c),this._clock.setTicksAtTime(t,c),this.emit("start",c,this._clock.getSecondsAtTime(c))}else this.emit("ticks",a),this._clock.setTicksAtTime(t,a)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),this.state!=="started")return 0;{const a=this.now(),i=this.getTicksAtTime(a),o=t-i%t;return this._clock.nextTickTime(o,a)}}syncSignal(t,a){const i=this.now();let o=this.bpm,c=1/(60/o.getValueAtTime(i)/this.PPQ),f=[];if(t.units==="time"){const p=.015625/c,m=new ze(p),y=new vf(-1),_=new ze(p);o.chain(m,y,_),o=_,c=1/c,f=[m,y,_]}a||(t.getValueAtTime(i)!==0?a=t.getValueAtTime(i)/c:a=0);const d=new ze(a);return o.connect(d),d.connect(t._param),f.push(d),this._syncedSignals.push({initial:t.value,nodes:f,signal:t}),t.value=0,this}unsyncSignal(t){for(let a=this._syncedSignals.length-1;a>=0;a--){const i=this._syncedSignals[a];i.signal===t&&(i.nodes.forEach(o=>o.dispose()),i.signal.value=i.initial,this._syncedSignals.splice(a,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),cf(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Ir.mixin(Po);Xo(l=>{l.transport=new Po({context:l})});Qo(l=>{l.transport.dispose()});class un extends _e{constructor(t){super(t),this.input=void 0,this._state=new Wo("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=je,this._syncedStop=je,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new zi({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Ve(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(_e.getDefaults(),{mute:!1,onstop:je,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,a,i){let o=Tn(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")ye(Ei(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,a,i);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const c=this._state.get(o);c&&(c.offset=this.toSeconds(Ea(a,0)),c.duration=i?this.toSeconds(i):void 0);const f=this.context.transport.schedule(d=>{this._start(d,a,i)},o);this._scheduled.push(f),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else O0(this.context),this._start(o,a,i);return this}stop(t){let a=Tn(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(a=this._clampToCurrentTime(a),this._state.getValueAtTime(a)==="started"||Oe(this._state.getNextState("started",a))){if(this.log("stop",a),!this._synced)this._stop(a);else{const i=this.context.transport.schedule(this._stop.bind(this),a);this._scheduled.push(i)}this._state.cancel(a),this._state.setStateAtTime("stopped",a)}return this}restart(t,a,i){return t=this.toSeconds(t),this._state.getValueAtTime(t)==="started"&&(this._state.cancel(t),this._restart(t,a,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,a)=>{if(Ei(a,0)){const i=this._state.get(a);if(i&&i.state==="started"&&i.time!==a){const o=a-this.toSeconds(i.time);let c;i.duration&&(c=this.toSeconds(i.duration)-o),this._start(t,this.toSeconds(i.offset)+o,c)}}},this._syncedStop=t=>{const a=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(a)==="started"&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=je,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class $o extends Oi{constructor(){const t=me($o.getDefaults(),arguments,["url","onload"]);super(t),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,ds(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Ae({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new nt(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Oi.getDefaults(),{url:new nt,loop:!1,loopEnd:0,loopStart:0,onload:je,onerror:je,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,a,i,o=1){ye(this.buffer.loaded,"buffer is either not set or not loaded");const c=this.toSeconds(t);this._startGain(c,o),this.loop?a=Ea(a,this.loopStart):a=Ea(a,0);let f=Math.max(this.toSeconds(a),0);if(this.loop){const d=this.toSeconds(this.loopEnd)||this.buffer.duration,p=this.toSeconds(this.loopStart),m=d-p;Lh(f,d)&&(f=(f-p)%m+p),Nn(f,this.buffer.duration)&&(f=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Mo(f,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(c,f)),Oe(i)){let d=this.toSeconds(i);d=Math.max(d,0),this.stop(c+d)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Va(l,t){return lt(this,void 0,void 0,function*(){const a=t/l.context.sampleRate,i=new hf(1,a,l.context.sampleRate);return new l.constructor(Object.assign(l.get(),{frequency:2/a,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)})}class Sf extends Oi{constructor(){const t=me(Sf.getDefaults(),arguments,["frequency","type"]);super(t),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],ds(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Ae({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Ae({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Ve(this,["frequency","detune"])}static getDefaults(){return Object.assign(Oi.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const a=this.toSeconds(t);return this.log("start",a),this._startGain(a),this._oscillator.start(a),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}let Dt=class Ta extends un{constructor(){const t=me(Ta.getDefaults(),arguments,["frequency","type"]);super(t),this.name="Oscillator",this._oscillator=null,this.frequency=new Xe({context:this.context,units:"frequency",value:t.frequency}),Ve(this,"frequency"),this.detune=new Xe({context:this.context,units:"cents",value:t.detune}),Ve(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&t.type!=="custom"&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(un.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const a=this.toSeconds(t),i=new Sf({context:this.context,onended:()=>this.onstop(this)});this._oscillator=i,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(a)}_stop(t){const a=this.toSeconds(t);this._oscillator&&this._oscillator.stop(a)}_restart(t){const a=this.toSeconds(t);return this.log("restart",a),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(a),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Ta._periodicWaveCache.find(a=>a.phase===this._phase&&iw(a.partials,this._partials));{const t=Ta._periodicWaveCache.find(a=>a.type===this._type&&a.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const a=["sine","square","sawtooth","triangle"].indexOf(t)!==-1;if(this._phase===0&&a)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=t);else{const i=this._getCachedPeriodicWave();if(Oe(i)){const{partials:o,wave:c}=i;this._wave=c,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,c]=this._getRealImaginary(t,this._phase),f=this.context.createPeriodicWave(o,c);this._wave=f,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Ta._periodicWaveCache.push({imag:c,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),Ta._periodicWaveCache.length>100&&Ta._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&this._type!=="custom"&&t!=="custom"?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Xs(t,0);let a=this._type;const i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(i&&(a=i[1]),this._type!=="custom")t===0?this.type=a:this.type=a+t.toString();else{const o=new Float32Array(t);this._partials.forEach((c,f)=>o[f]=c),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(t,a){let o=2048;const c=new Float32Array(o),f=new Float32Array(o);let d=1;if(t==="custom"){if(d=this._partials.length+1,this._partialCount=this._partials.length,o=d,this._partials.length===0)return[c,f]}else{const p=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);p?(d=parseInt(p[2],10)+1,this._partialCount=parseInt(p[2],10),t=p[1],d=Math.max(d,2),o=d):this._partialCount=0,this._partials=[]}for(let p=1;p<o;++p){const m=2/(p*Math.PI);let y;switch(t){case"sine":y=p<=d?1:0,this._partials[p-1]=y;break;case"square":y=p&1?2*m:0,this._partials[p-1]=y;break;case"sawtooth":y=m*(p&1?1:-1),this._partials[p-1]=y;break;case"triangle":p&1?y=2*(m*m)*(p-1>>1&1?-1:1):y=0,this._partials[p-1]=y;break;case"custom":y=this._partials[p-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}y!==0?(c[p]=-y*Math.sin(a*p),f[p]=y*Math.cos(a*p)):(c[p]=0,f[p]=0)}return[c,f]}_inverseFFT(t,a,i){let o=0;const c=t.length;for(let f=0;f<c;f++)o+=t[f]*Math.cos(f*i)+a[f]*Math.sin(f*i);return o}getInitialValue(){const[t,a]=this._getRealImaginary(this._type,0);let i=0;const o=Math.PI*2,c=32;for(let f=0;f<c;f++)i=Math.max(this._inverseFFT(t,a,f/c*o),i);return lw(-this._inverseFFT(t,a,this._phase)/i,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(){return lt(this,arguments,void 0,function*(t=1024){return Va(this,t)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}};Dt._periodicWaveCache=[];class F0 extends Fn{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new za({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Da extends Xe{constructor(){const t=me(Da.getDefaults(),arguments,["value"]);super(t),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new ze({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Xe.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class eu extends un{constructor(){const t=me(eu.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="AMOscillator",this._modulationScale=new F0({context:this.context}),this._modulationNode=new ze({context:this.context}),this._carrier=new Dt({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Dt({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Da({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Ve(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Dt.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return lt(this,arguments,void 0,function*(t=1024){return Va(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class tu extends un{constructor(){const t=me(tu.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="FMOscillator",this._modulationNode=new ze({context:this.context,gain:0}),this._carrier=new Dt({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new Xe({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new Dt({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Da({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new Da({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Ve(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Dt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return lt(this,arguments,void 0,function*(t=1024){return Va(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Qr extends un{constructor(){const t=me(Qr.getDefaults(),arguments,["frequency","width"]);super(t),this.name="PulseOscillator",this._widthGate=new ze({context:this.context,gain:0}),this._thresh=new za({context:this.context,mapping:a=>a<=0?-1:1}),this.width=new Xe({context:this.context,units:"audioRange",value:t.width}),this._triangle=new Dt({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Ve(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(un.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(){return lt(this,arguments,void 0,function*(t=1024){return Va(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class nu extends un{constructor(){const t=me(nu.getDefaults(),arguments,["frequency","type","spread"]);super(t),this.name="FatOscillator",this._oscillators=[],this.frequency=new Xe({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Xe({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Ve(this,["frequency","detune"])}static getDefaults(){return Object.assign(Dt.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(a=>a.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(a=>a.stop(t))}_restart(t){this._forEach(a=>a.restart(t))}_forEach(t){for(let a=0;a<this._oscillators.length;a++)t(this._oscillators[a],a)}get type(){return this._type}set type(t){this._type=t,this._forEach(a=>a.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const a=-t/2,i=t/(this._oscillators.length-1);this._forEach((o,c)=>o.detune.value=a+i*c)}}get count(){return this._oscillators.length}set count(t){if(Xs(t,1),this._oscillators.length!==t){this._forEach(a=>a.dispose()),this._oscillators=[];for(let a=0;a<t;a++){const i=new Dt({context:this.context,volume:-6-t*1.1,type:this._type,phase:this._phase+a/t*360,partialCount:this._partialCount,onstop:a===0?()=>this.onstop(this):je});this.type==="custom"&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[a]=i}this.spread=this._spread,this.state==="started"&&this._forEach(a=>a.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((a,i)=>a.phase=this._phase+i/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(a=>a.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(a=>a.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(a=>a.partialCount=t),this._type=this._oscillators[0].type}asArray(){return lt(this,arguments,void 0,function*(t=1024){return Va(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class su extends un{constructor(){const t=me(su.getDefaults(),arguments,["frequency","modulationFrequency"]);super(t),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Da({context:this.context,value:2}),this._pulse=new Qr({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Dt({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Ve(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(un.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(){return lt(this,arguments,void 0,function*(t=1024){return Va(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const my={am:eu,fat:nu,fm:tu,oscillator:Dt,pulse:Qr,pwm:su};class ko extends un{constructor(){const t=me(ko.getDefaults(),arguments,["frequency","type"]);super(t),this.name="OmniOscillator",this.frequency=new Xe({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Xe({context:this.context,units:"cents",value:t.detune}),Ve(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(Dt.getDefaults(),tu.getDefaults(),eu.getDefaults(),nu.getDefaults(),Qr.getDefaults(),su.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(a=>this._sourceType===a)&&(t=this._sourceType),t+this._oscillator.type}set type(t){t.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):t==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):t==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const a=my[t],i=this.now();if(this._oscillator){const o=this._oscillator;o.stop(i),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new a({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let a="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(a=this._oscillator.type),t==="fm"?this.type="fm"+a:t==="am"?this.type="am"+a:t==="fat"?this.type="fat"+a:t==="oscillator"?this.type=a:t==="pulse"?this.type="pulse":t==="pwm"&&(this.type="pwm")}_getOscType(t,a){return t instanceof my[a]}get baseType(){return this._oscillator.baseType}set baseType(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&t!=="pulse"&&t!=="pwm"&&(this._oscillator.baseType=t)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(t){this._getOscType(this._oscillator,"fat")&&Dn(t)&&(this._oscillator.count=t)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(t){this._getOscType(this._oscillator,"fat")&&Dn(t)&&(this._oscillator.spread=t)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&fs(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return lt(this,arguments,void 0,function*(t=1024){return Va(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Tf extends Xe{constructor(){super(me(Tf.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new ze({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Ni(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Xe.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class xf extends Fn{constructor(){const t=me(xf.getDefaults(),arguments,["min","max"]);super(t),this.name="Scale",this._mult=this.input=new Da({context:this.context,value:t.max-t.min}),this._add=this.output=new Tf({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Fn.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Af extends Fn{constructor(){super(me(Af.getDefaults(),arguments)),this.name="Zero",this._gain=new ze({context:this.context}),this.output=this._gain,this.input=void 0,ds(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),B0(this.context.getConstant(0),this._gain),this}}class wf extends _e{constructor(){const t=me(wf.getDefaults(),arguments,["frequency","min","max"]);super(t),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Ae.prototype._fromType,this._toType=Ae.prototype._toType,this._is=Ae.prototype._is,this._clampValue=Ae.prototype._clampValue,this._oscillator=new Dt(t),this.frequency=this._oscillator.frequency,this._amplitudeGain=new ze({context:this.context,gain:t.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Xe({context:this.context,units:"audioRange",value:0}),this._zeros=new Af({context:this.context}),this._a2g=new F0({context:this.context}),this._scaler=this.output=new xf({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Ve(this,["amplitude","frequency"]),this.phase=t.phase}static getDefaults(){return Object.assign(Dt.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this}stop(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(t){this._oscillator.partials=t,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._setStoppedValue()}get units(){return this._units}set units(t){const a=this.min,i=this.max;this._units=t,this.min=a,this.max=i}get state(){return this._oscillator.state}connect(t,a,i){return(t instanceof Ae||t instanceof Xe)&&(this.convert=t.convert,this.units=t.units),Ko(this,t,a,i),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function H0(l,t=1/0){const a=new WeakMap;return function(i,o){Reflect.defineProperty(i,o,{configurable:!0,enumerable:!0,get:function(){return a.get(this)},set:function(c){Xs(c,l,t),a.set(this,c)}})}}function gs(l,t=1/0){const a=new WeakMap;return function(i,o){Reflect.defineProperty(i,o,{configurable:!0,enumerable:!0,get:function(){return a.get(this)},set:function(c){Xs(this.toSeconds(c),l,t),a.set(this,c)}})}}class au extends un{constructor(){const t=me(au.getDefaults(),arguments,["url","onload"]);super(t),this.name="Player",this._activeSources=new Set,this._buffer=new nt({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(un.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:je,onerror:je,playbackRate:1,reverse:!1})}load(t){return lt(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=je){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,a,i){return super.start(t,a,i),this}_start(t,a,i){this._loop?a=Ea(a,this._loopStart):a=Ea(a,0);const o=this.toSeconds(a),c=i;i=Ea(i,Math.max(this._buffer.duration-o,0));let f=this.toSeconds(i);f=f/this._playbackRate,t=this.toSeconds(t);const d=new $o({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(t+f),this._state.setStateAtTime("stopped",t+f,{implicitEnd:!0})),this._activeSources.add(d),this._loop&&Tn(c)?d.start(t,o):d.start(t,o,f-this.toSeconds(this.fadeOut))}_stop(t){const a=this.toSeconds(t);this._activeSources.forEach(i=>i.stop(a))}restart(t,a,i){return super.restart(t,a,i),this}_restart(t,a,i){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(t),this._start(t,a,i)}seek(t,a){const i=this.toSeconds(a);if(this._state.getValueAtTime(i)==="started"){const o=this.toSeconds(t);this._stop(i),this._start(i,o)}return this}setLoopPoints(t,a){return this.loopStart=t,this.loopEnd=a,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Xs(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(a=>{a.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Xs(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(a=>{a.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(a=>{a.loop=t}),t)){const a=this._state.getNextState("stopped",this.now());a&&this._state.cancel(a.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const a=this.now(),i=this._state.getNextState("stopped",a);i&&i.implicitEnd&&(this._state.cancel(i.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(t,a)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}qn([gs(0)],au.prototype,"fadeIn",void 0);qn([gs(0)],au.prototype,"fadeOut",void 0);class ww extends Fn{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new za({context:this.context,mapping:t=>Math.abs(t)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Ps extends _e{constructor(){const t=me(Ps.getDefaults(),arguments,["attack","decay","sustain","release"]);super(t),this.name="Envelope",this._sig=new Xe({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(_e.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,a){if(fs(t))return t;{let i;for(i in _o)if(_o[i][a]===t)return i;return t}}_setCurve(t,a,i){if(fs(i)&&Reflect.has(_o,i)){const o=_o[i];wa(o)?t!=="_decayCurve"&&(this[t]=o[a]):this[t]=o}else if(on(i)&&t!=="_decayCurve")this[t]=i;else throw new Error("Envelope: invalid curve: "+i)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(t){this._setCurve("_decayCurve","Out",t)}triggerAttack(t,a=1){this.log("triggerAttack",t,a),t=this.toSeconds(t);let o=this.toSeconds(this.attack);const c=this.toSeconds(this.decay),f=this.getValueAtTime(t);if(f>0){const d=1/o;o=(1-f)/d}if(o<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(a,t);else if(this._attackCurve==="linear")this._sig.linearRampTo(a,o,t);else if(this._attackCurve==="exponential")this._sig.targetRampTo(a,o,t);else{this._sig.cancelAndHoldAtTime(t);let d=this._attackCurve;for(let p=1;p<d.length;p++)if(d[p-1]<=f&&f<=d[p]){d=this._attackCurve.slice(p),d[0]=f;break}this._sig.setValueCurveAtTime(d,t,o,a)}if(c&&this.sustain<1){const d=a*this.sustain,p=t+o;this.log("decay",p),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(d,c+p):this._sig.exponentialApproachValueAtTime(d,p,c)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const a=this.getValueAtTime(t);if(a>0){const i=this.toSeconds(this.release);i<this.sampleTime?this._sig.setValueAtTime(0,t):this._releaseCurve==="linear"?this._sig.linearRampTo(0,i,t):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,i,t):(ye(on(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,i,a))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,a,i=1){return a=this.toSeconds(a),this.triggerAttack(a,i),this.triggerRelease(a+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,a=0,i=0){return Ko(this,t,a,i),this}asArray(){return lt(this,arguments,void 0,function*(t=1024){const a=t/this.context.sampleRate,i=new hf(1,a,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),c=o+this.toSeconds(this.release),f=c*.1,d=c+f,p=new this.constructor(Object.assign(this.get(),{attack:a*this.toSeconds(this.attack)/d,decay:a*this.toSeconds(this.decay)/d,release:a*this.toSeconds(this.release)/d,context:i}));return p._sig.toDestination(),p.triggerAttackRelease(a*(o+f)/d,0),(yield i.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}qn([gs(0)],Ps.prototype,"attack",void 0);qn([gs(0)],Ps.prototype,"decay",void 0);qn([H0(0,1)],Ps.prototype,"sustain",void 0);qn([gs(0)],Ps.prototype,"release",void 0);const _o=(()=>{let t,a;const i=[];for(t=0;t<128;t++)i[t]=Math.sin(t/127*(Math.PI/2));const o=[],c=6.4;for(t=0;t<127;t++){a=t/127;const b=Math.sin(a*(Math.PI*2)*c-Math.PI/2)+1;o[t]=b/10+a*.83}o[127]=1;const f=[],d=5;for(t=0;t<128;t++)f[t]=Math.ceil(t/127*d)/d;const p=[];for(t=0;t<128;t++)a=t/127,p[t]=.5*(1-Math.cos(Math.PI*a));const m=[];for(t=0;t<128;t++){a=t/127;const b=Math.pow(a,3)*4+.2,T=Math.cos(b*Math.PI*2*a);m[t]=Math.abs(T*(1-a))}function y(b){const T=new Array(b.length);for(let S=0;S<b.length;S++)T[S]=1-b[S];return T}function _(b){return b.slice(0).reverse()}return{bounce:{In:y(m),Out:m},cosine:{In:i,Out:_(i)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:y(o)},sine:{In:p,Out:y(p)},step:{In:f,Out:y(f)}}})();class Zs extends _e{constructor(){const t=me(Zs.getDefaults(),arguments);super(t),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=a=>this._original_triggerRelease(a),this._volume=this.output=new zi({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Ve(this,"volume")}static getDefaults(){return Object.assign(_e.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,a){const i=this["_original_"+t]=this[t];this[t]=(...o)=>{const c=o[a],f=this.context.transport.schedule(d=>{o[a]=d,i.apply(this,o)},c);this._scheduledEvents.push(f)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(t,a,i,o){const c=this.toSeconds(i),f=this.toSeconds(a);return this.triggerAttack(t,c,o),this.triggerRelease(c+f),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class ka extends Zs{constructor(){const t=me(ka.getDefaults(),arguments);super(t),this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Zs.getDefaults(),{detune:0,onsilence:je,portamento:0})}triggerAttack(t,a,i=1){this.log("triggerAttack",t,a,i);const o=this.toSeconds(a);return this._triggerEnvelopeAttack(o,i),this.setNote(t,o),this}triggerRelease(t){this.log("triggerRelease",t);const a=this.toSeconds(t);return this._triggerEnvelopeRelease(a),this}setNote(t,a){const i=this.toSeconds(a),o=t instanceof ln?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(i)>.05){const c=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,c,i)}else this.frequency.setValueAtTime(o,i);return this}}qn([gs(0)],ka.prototype,"portamento",void 0);class Cf extends Ps{constructor(){super(me(Cf.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ze({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Ra extends ka{constructor(){const t=me(Ra.getDefaults(),arguments);super(t),this.name="Synth",this.oscillator=new ko(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Cf(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Ve(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(ka.getDefaults(),{envelope:Object.assign(Bh(Ps.getDefaults(),Object.keys(_e.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Bh(ko.getDefaults(),[...Object.keys(un.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,a){if(this.envelope.triggerAttack(t,a),this.oscillator.start(t),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+i+o)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Ro extends _e{constructor(){const t=me(Ro.getDefaults(),arguments,["frequency","type"]);super(t),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Ae({context:this.context,units:"number",value:t.Q,param:this._filter.Q}),this.frequency=new Ae({context:this.context,units:"frequency",value:t.frequency,param:this._filter.frequency}),this.detune=new Ae({context:this.context,units:"cents",value:t.detune,param:this._filter.detune}),this.gain=new Ae({context:this.context,units:"decibels",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(_e.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){ye(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t)!==-1,`Invalid filter type: ${t}`),this._filter.type=t}getFrequencyResponse(t=128){const a=new Float32Array(t);for(let f=0;f<t;f++){const p=Math.pow(f/t,2)*19980+20;a[f]=p}const i=new Float32Array(t),o=new Float32Array(t),c=this.context.createBiquadFilter();return c.type=this.type,c.Q.value=this.Q.value,c.frequency.value=this.frequency.value,c.gain.value=this.gain.value,c.getFrequencyResponse(a,i,o),i}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}let G0=class Y0 extends _e{constructor(){const t=me(Y0.getDefaults(),arguments,["frequency","type","rolloff"]);super(t),this.name="Filter",this.input=new ze({context:this.context}),this.output=new ze({context:this.context}),this._filters=[],this._filters=[],this.Q=new Xe({context:this.context,units:"positive",value:t.Q}),this.frequency=new Xe({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Xe({context:this.context,units:"cents",value:t.detune}),this.gain=new Xe({context:this.context,units:"decibels",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,Ve(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(_e.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(t){ye(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t)!==-1,`Invalid filter type: ${t}`),this._type=t,this._filters.forEach(i=>i.type=t)}get rolloff(){return this._rolloff}set rolloff(t){const a=Dn(t)?t:parseInt(t,10),i=[-12,-24,-48,-96];let o=i.indexOf(a);ye(o!==-1,`rolloff can only be ${i.join(", ")}`),o+=1,this._rolloff=a,this.input.disconnect(),this._filters.forEach(c=>c.disconnect()),this._filters=new Array(o);for(let c=0;c<o;c++){const f=new Ro({context:this.context});f.type=this._type,this.frequency.connect(f.frequency),this.detune.connect(f.detune),this.Q.connect(f.Q),this.gain.connect(f.gain),this._filters[c]=f}this._internalChannels=this._filters,Ni(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){const a=new Ro({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),i=new Float32Array(t).map(()=>1);return this._filters.forEach(()=>{a.getFrequencyResponse(t).forEach((c,f)=>i[f]*=c)}),a.dispose(),i}dispose(){return super.dispose(),this._filters.forEach(t=>{t.dispose()}),cf(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}};class iu extends Ra{constructor(){const t=me(iu.getDefaults(),arguments);super(t),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Ve(this,["oscillator","envelope"])}static getDefaults(){return Ca(ka.getDefaults(),Ra.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,a){const i=this.toSeconds(a),o=this.toFrequency(t instanceof ln?t.toFrequency():t),c=o*this.octaves;return this.oscillator.frequency.setValueAtTime(c,i),this.oscillator.frequency.exponentialRampToValueAtTime(o,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}qn([H0(0)],iu.prototype,"octaves",void 0);qn([gs(0)],iu.prototype,"pitchDecay",void 0);const Ef=new Set;function Nf(l){Ef.add(l)}function I0(l,t){const a=`registerProcessor("${l}", ${t})`;Ef.add(a)}function Cw(){return Array.from(Ef).join(`
`)}class gy extends _e{constructor(t){super(t),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=je;const a=URL.createObjectURL(new Blob([Cw()],{type:"text/javascript"})),i=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(a).then(()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(i,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))})}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}const Ew=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Nf(Ew);const Nw=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Nf(Nw);const Ow=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Nf(Ow);const Mw="feedback-comb-filter",Dw=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;I0(Mw,Dw);let kw=class X0 extends Zs{constructor(){const t=me(X0.getDefaults(),arguments,["voice","options"]);super(t),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=o=>this.releaseAll(o),ye(!Dn(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const a=t.voice.getDefaults();this.options=Object.assign(a,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const i=this._voices.indexOf(this._dummyVoice);this._voices.splice(i,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Zs.getDefaults(),{maxPolyphony:32,options:{},voice:Ra})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const a=this._activeVoices.findIndex(i=>i.voice===t);this._activeVoices.splice(a,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return ye(t instanceof ka,"Voice must extend Monophonic class"),t.connect(this.output),this._voices.push(t),t}else Io("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),a=this._voices.indexOf(t);this._voices.splice(a,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,a,i){t.forEach(o=>{const c=new Do(this.context,o).toMidi(),f=this._getNextAvailableVoice();f&&(f.triggerAttack(o,a,i),this._activeVoices.push({midi:c,voice:f,released:!1}),this.log("triggerAttack",o,a))})}_triggerRelease(t,a){t.forEach(i=>{const o=new Do(this.context,i).toMidi(),c=this._activeVoices.find(({midi:f,released:d})=>f===o&&!d);c&&(c.voice.triggerRelease(a),c.released=!0,this.log("triggerRelease",i,a))})}_scheduleEvent(t,a,i,o){ye(!this.disposed,"Synth was already disposed"),i<=this.now()?t==="attack"?this._triggerAttack(a,i,o):this._triggerRelease(a,i):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(t,a,i,o)},i-this.now())}triggerAttack(t,a,i){Array.isArray(t)||(t=[t]);const o=this.toSeconds(a);return this._scheduleEvent("attack",t,o,i),this}triggerRelease(t,a){Array.isArray(t)||(t=[t]);const i=this.toSeconds(a);return this._scheduleEvent("release",t,i),this}triggerAttackRelease(t,a,i,o){const c=this.toSeconds(i);if(this.triggerAttack(t,c,o),on(a)){ye(on(t),"If the duration is an array, the notes must also be an array"),t=t;for(let f=0;f<t.length;f++){const d=a[Math.min(f,a.length-1)],p=this.toSeconds(d);ye(p>0,"The duration must be greater than 0"),this.triggerRelease(t[f],c+p)}}else{const f=this.toSeconds(a);ye(f>0,"The duration must be greater than 0"),this.triggerRelease(t,c+f)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(t){const a=Bh(t,["onsilence","context"]);return this.options=Ca(this.options,a),this._voices.forEach(i=>i.set(a)),this._dummyVoice.set(a),this}get(){return this._dummyVoice.get()}releaseAll(t){const a=this.toSeconds(t);return this._activeVoices.forEach(({voice:i})=>{i.triggerRelease(a)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(t=>t.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}};class ru extends Zs{constructor(){const t=me(ru.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(t),this.name="Sampler",this._activeSources=new Map;const a={};Object.keys(t.urls).forEach(i=>{const o=parseInt(i,10);if(ye(yo(i)||Dn(o)&&isFinite(o),`url key is neither a note or midi pitch: ${i}`),yo(i)){const c=new ln(this.context,i).toMidi();a[c]=t.urls[i]}else Dn(o)&&isFinite(o)&&(a[o]=t.urls[o])}),this._buffers=new _f({urls:a,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Zs.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:je,onerror:je,release:.1,urls:{}})}_findClosest(t){let i=0;for(;i<96;){if(this._buffers.has(t+i))return-i;if(this._buffers.has(t-i))return i;i++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,a,i=1){return this.log("triggerAttack",t,a,i),Array.isArray(t)||(t=[t]),t.forEach(o=>{const c=V0(new ln(this.context,o).toFrequency()),f=Math.round(c),d=c-f,p=this._findClosest(f),m=f-p,y=this._buffers.get(m),_=z0(p+d),b=new $o({url:y,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:_}).connect(this.output);b.start(a,0,y.duration/_,i),on(this._activeSources.get(f))||this._activeSources.set(f,[]),this._activeSources.get(f).push(b),b.onended=()=>{if(this._activeSources&&this._activeSources.has(f)){const T=this._activeSources.get(f),S=T.indexOf(b);S!==-1&&T.splice(S,1)}}}),this}triggerRelease(t,a){return this.log("triggerRelease",t,a),Array.isArray(t)||(t=[t]),t.forEach(i=>{const o=new ln(this.context,i).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const c=this._activeSources.get(o);a=this.toSeconds(a),c.forEach(f=>{f.stop(a)}),this._activeSources.set(o,[])}}),this}releaseAll(t){const a=this.toSeconds(t);return this._activeSources.forEach(i=>{for(;i.length;)i.shift().stop(a)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,a,i,o=1){const c=this.toSeconds(i);return this.triggerAttack(t,c,o),on(a)?(ye(on(t),"notes must be an array when duration is array"),t.forEach((f,d)=>{const p=a[Math.min(d,a.length-1)];this.triggerRelease(f,c+this.toSeconds(p))})):this.triggerRelease(t,c+this.toSeconds(a)),this}add(t,a,i){if(ye(yo(t)||isFinite(t),`note must be a pitch or midi: ${t}`),yo(t)){const o=new ln(this.context,t).toMidi();this._buffers.add(o,a,i)}else this._buffers.add(t,a,i);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(a=>a.dispose())}),this._activeSources.clear(),this}}qn([gs(0)],ru.prototype,"attack",void 0);qn([gs(0)],ru.prototype,"release",void 0);class Of extends xt{constructor(){const t=me(Of.getDefaults(),arguments,["callback","value"]);super(t),this.name="ToneEvent",this._state=new Wo("stopped"),this._startOffset=0,this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(xt.getDefaults(),{callback:je,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(t=-1){this._state.forEachFrom(t,a=>{let i;if(a.state==="started"){a.id!==-1&&this.context.transport.clear(a.id);const o=a.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||Dn(this._loop)&&this._loop>1){i=1/0,Dn(this._loop)&&(i=this._loop*this._getLoopDuration());const c=this._state.getAfter(o);c!==null&&(i=Math.min(i,c.time-o)),i!==1/0&&(i=new Sn(this.context,i));const f=new Sn(this.context,this._getLoopDuration());a.id=this.context.transport.scheduleRepeat(this._tick.bind(this),f,new Sn(this.context,o),i)}else a.id=this.context.transport.schedule(this._tick.bind(this),new Sn(this.context,o))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){const a=this.toTicks(t);return this._state.getValueAtTime(a)==="stopped"&&(this._state.add({id:-1,state:"started",time:a}),this._rescheduleEvents(a)),this}stop(t){this.cancel(t);const a=this.toTicks(t);if(this._state.getValueAtTime(a)==="started"){this._state.setStateAtTime("stopped",a,{id:-1});const i=this._state.getBefore(a);let o=a;i!==null&&(o=i.time),this._rescheduleEvents(o)}return this}cancel(t){t=Ea(t,-1/0);const a=this.toTicks(t);return this._state.forEachFrom(a,i=>{this.context.transport.clear(i.id)}),this._state.cancel(a),this}_tick(t){const a=this.context.transport.getTicksAtTime(t);if(!this.mute&&this._state.getValueAtTime(a)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let i=.02;N0(this.humanize)||(i=this.toSeconds(this.humanize)),t+=(Math.random()*2-1)*i}this.callback(t,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new Sn(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}get loopStart(){return new Sn(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const t=this.context.transport.ticks,a=this._state.get(t);if(a!==null&&a.state==="started"){const i=this._getLoopDuration();return(t-a.time)%i/i}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Mf extends xt{constructor(){const t=me(Mf.getDefaults(),arguments,["callback","interval"]);super(t),this.name="Loop",this._event=new Of({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability,humanize:t.humanize}),this.callback=t.callback,this.iterations=t.iterations}static getDefaults(){return Object.assign(xt.getDefaults(),{interval:"4n",callback:je,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(t){return this._event.start(t),this}stop(t){return this._event.stop(t),this}cancel(t){return this._event.cancel(t),this}_tick(t){this.callback(t)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(t){this._event.loopEnd=t}get playbackRate(){return this._event.playbackRate}set playbackRate(t){this._event.playbackRate=t}get humanize(){return this._event.humanize}set humanize(t){this._event.humanize=t}get probability(){return this._event.probability}set probability(t){this._event.probability=t}get mute(){return this._event.mute}set mute(t){this._event.mute=t}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(t){t===1/0?this._event.loop=!0:this._event.loop=t}dispose(){return super.dispose(),this._event.dispose(),this}}class Df extends _e{constructor(){const t=me(Df.getDefaults(),arguments,["fade"]);super(t),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new ww({context:this.context}),this.a=new ze({context:this.context,gain:0}),this.b=new ze({context:this.context,gain:0}),this.output=new ze({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new Xe({context:this.context,units:"normalRange",value:t.fade}),Ve(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",ds(this._split,this.a.gain,0),ds(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(_e.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Ws extends _e{constructor(t){super(t),this.name="Effect",this._dryWet=new Df({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new ze({context:this.context}),this.effectReturn=new ze({context:this.context}),this.input=new ze({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Ve(this,"wet")}static getDefaults(){return Object.assign(_e.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class yy extends Ws{constructor(t){super(t),this.name="LFOEffect",this._lfo=new wf({context:this.context,frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=t.type,Ve(this,["frequency","depth"])}static getDefaults(){return Object.assign(Ws.getDefaults(),{frequency:1,type:"sine",depth:1})}start(t){return this._lfo.start(t),this}stop(t){return this._lfo.stop(t),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}let Rw=class Q0 extends yy{constructor(){const t=me(Q0.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);super(t),this.name="AutoFilter",this.filter=new G0(Object.assign(t.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency}static getDefaults(){return Object.assign(yy.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._lfo.max=this._lfo.min*Math.pow(2,t)}dispose(){return super.dispose(),this.filter.dispose(),this}};class Zr extends _e{constructor(){const t=me(Zr.getDefaults(),arguments,["pan"]);super(t),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Ae({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Ve(this,"pan")}static getDefaults(){return Object.assign(_e.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const Z0="bit-crusher",qw=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;I0(Z0,qw);let jw=class W0 extends Ws{constructor(){const t=me(W0.getDefaults(),arguments,["bits"]);super(t),this.name="BitCrusher",this._bitCrusherWorklet=new kf({context:this.context,bits:t.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(Ws.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}};class kf extends gy{constructor(){const t=me(kf.getDefaults(),arguments);super(t),this.name="BitCrusherWorklet",this.input=new ze({context:this.context}),this.output=new ze({context:this.context}),this.bits=new Ae({context:this.context,value:t.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(gy.getDefaults(),{bits:12})}_audioWorkletName(){return Z0}onReady(t){Ni(this.input,t,this.output);const a=t.parameters.get("bits");this.bits.setParam(a)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}let zw=class K0 extends Ws{constructor(){const t=me(K0.getDefaults(),arguments,["order"]);super(t),this.name="Chebyshev",this._shaper=new za({context:this.context,length:4096}),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample}static getDefaults(){return Object.assign(Ws.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(t,a,i){return i.has(a)||(a===0?i.set(a,0):a===1?i.set(a,t):i.set(a,2*t*this._getCoefficient(t,a-1,i)-this._getCoefficient(t,a-2,i))),i.get(a)}get order(){return this._order}set order(t){ye(Number.isInteger(t),"'order' must be an integer"),this._order=t,this._shaper.setMap(a=>this._getCoefficient(a,t,new Map))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}};class _y extends Ws{constructor(t){super(t),this.name="FeedbackEffect",this._feedbackGain=new ze({context:this.context,gain:t.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Ve(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Ws.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Rf extends _y{constructor(){const t=me(Rf.getDefaults(),arguments,["delayTime","feedback"]);super(t),this.name="FeedbackDelay",this._delayNode=new vw({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Ve(this,"delayTime")}static getDefaults(){return Object.assign(_y.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class yt extends _e{constructor(){const t=me(yt.getDefaults(),arguments,["solo"]);super(t),this.name="Solo",this.input=this.output=new ze({context:this.context}),yt._allSolos.has(this.context)||yt._allSolos.set(this.context,new Set),yt._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(_e.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),yt._allSolos.get(this.context).forEach(a=>a._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){yt._soloed.has(this.context)||yt._soloed.set(this.context,new Set),yt._soloed.get(this.context).add(this)}_removeSolo(){yt._soloed.has(this.context)&&yt._soloed.get(this.context).delete(this)}_isSoloed(){return yt._soloed.has(this.context)&&yt._soloed.get(this.context).has(this)}_noSolos(){return!yt._soloed.has(this.context)||yt._soloed.has(this.context)&&yt._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),yt._allSolos.get(this.context).delete(this),this._removeSolo(),this}}yt._allSolos=new Map;yt._soloed=new Map;class qf extends _e{constructor(){const t=me(qf.getDefaults(),arguments,["pan","volume"]);super(t),this.name="PanVol",this._panner=this.input=new Zr({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new zi({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Ve(this,["pan","volume"])}static getDefaults(){return Object.assign(_e.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class cs extends _e{constructor(){const t=me(cs.getDefaults(),arguments,["volume","pan"]);super(t),this.name="Channel",this._solo=this.input=new yt({solo:t.solo,context:this.context}),this._panVol=this.output=new qf({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Ve(this,["pan","volume"])}static getDefaults(){return Object.assign(_e.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return cs.buses.has(t)||cs.buses.set(t,new ze({context:this.context})),cs.buses.get(t)}send(t,a=0){const i=this._getBus(t),o=new ze({context:this.context,units:"decibels",gain:a});return this.connect(o),o.connect(i),o}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}cs.buses=new Map;let vy=class Fh extends _e{constructor(){const t=me(Fh.getDefaults(),arguments);super(t),this.name="Recorder",this.input=new ze({context:this.context}),ye(Fh.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:t.mimeType})}static getDefaults(){return _e.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return Ut!==null&&Reflect.has(Ut,"MediaRecorder")}get state(){return this._recorder.state==="inactive"?"stopped":this._recorder.state==="paused"?"paused":"started"}start(){return lt(this,void 0,void 0,function*(){ye(this.state!=="started","Recorder is already started");const t=new Promise(a=>{const i=()=>{this._recorder.removeEventListener("start",i,!1),a()};this._recorder.addEventListener("start",i,!1)});return this.state==="stopped"?this._recorder.start():this._recorder.resume(),yield t})}stop(){return lt(this,void 0,void 0,function*(){ye(this.state!=="stopped","Recorder is not started");const t=new Promise(a=>{const i=o=>{this._recorder.removeEventListener("dataavailable",i,!1),a(o.data)};this._recorder.addEventListener("dataavailable",i,!1)});return this._recorder.stop(),yield t})}pause(){return ye(this.state==="started","Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}};class jf extends _e{constructor(){const t=me(jf.getDefaults(),arguments,["threshold","ratio"]);super(t),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor,this.threshold=new Ae({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:t.threshold}),this.attack=new Ae({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:t.attack}),this.release=new Ae({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:t.release}),this.knee=new Ae({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:t.knee}),this.ratio=new Ae({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:t.ratio}),Ve(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(_e.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}rn().transport;function qo(){return rn().transport}rn().destination;rn().destination;function J0(){return rn().destination}rn().listener;rn().draw;rn();function P0(l){var t,a,i="";if(typeof l=="string"||typeof l=="number")i+=l;else if(typeof l=="object")if(Array.isArray(l)){var o=l.length;for(t=0;t<o;t++)l[t]&&(a=P0(l[t]))&&(i&&(i+=" "),i+=a)}else for(a in l)l[a]&&(i&&(i+=" "),i+=a);return i}function We(){for(var l,t,a=0,i="",o=arguments.length;a<o;a++)(l=arguments[a])&&(t=P0(l))&&(i&&(i+=" "),i+=t);return i}var $0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},by=Ys.createContext&&Ys.createContext($0),Vw=["attr","size","title"];function Uw(l,t){if(l==null)return{};var a=Bw(l,t),i,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(l);for(o=0;o<c.length;o++)i=c[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(l,i)&&(a[i]=l[i])}return a}function Bw(l,t){if(l==null)return{};var a={};for(var i in l)if(Object.prototype.hasOwnProperty.call(l,i)){if(t.indexOf(i)>=0)continue;a[i]=l[i]}return a}function jo(){return jo=Object.assign?Object.assign.bind():function(l){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(l[i]=a[i])}return l},jo.apply(this,arguments)}function Sy(l,t){var a=Object.keys(l);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(l);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(l,o).enumerable})),a.push.apply(a,i)}return a}function zo(l){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Sy(Object(a),!0).forEach(function(i){Lw(l,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(a)):Sy(Object(a)).forEach(function(i){Object.defineProperty(l,i,Object.getOwnPropertyDescriptor(a,i))})}return l}function Lw(l,t,a){return t=Fw(t),t in l?Object.defineProperty(l,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[t]=a,l}function Fw(l){var t=Hw(l,"string");return typeof t=="symbol"?t:t+""}function Hw(l,t){if(typeof l!="object"||!l)return l;var a=l[Symbol.toPrimitive];if(a!==void 0){var i=a.call(l,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(l)}function e_(l){return l&&l.map((t,a)=>Ys.createElement(t.tag,zo({key:a},t.attr),e_(t.child)))}function t_(l){return t=>Ys.createElement(Gw,jo({attr:zo({},l.attr)},t),e_(l.child))}function Gw(l){var t=a=>{var{attr:i,size:o,title:c}=l,f=Uw(l,Vw),d=o||a.size||"1em",p;return a.className&&(p=a.className),l.className&&(p=(p?p+" ":"")+l.className),Ys.createElement("svg",jo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,i,f,{className:p,style:zo(zo({color:l.color||a.color},a.style),l.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&Ys.createElement("title",null,c),l.children)};return by!==void 0?Ys.createElement(by.Consumer,null,a=>t(a)):t($0)}function Yw(l){return t_({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"},child:[]}]})(l)}function Iw(l){return t_({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(l)}function lu({children:l,expanded:t,toggleExpanded:a}){return M.jsxs("div",{className:"flex items-center align-items-center my-5",onClick:a,children:[t?M.jsx(Yw,{}):M.jsx(Iw,{}),l]})}function Xw({children:l}){const[t,a]=V.useState(!1),i=()=>{a(o=>!o)};return M.jsxs(V.Fragment,{children:[M.jsx(lu,{expanded:t,toggleExpanded:i,children:"Effects"}),M.jsx("div",{className:We("grid grid-cols-1 gap-x-2 gap-y-3 md:grid-cols-2 my-5 border-2 rounded border-pink-500 dark:border-sky-300 p-5",!t&&"hidden"),children:l})]})}function $e({handleChange:l,inputName:t,labelText:a,max:i,min:o,step:c,value:f,logarithmic:d=!1,testId:p}){const m=V.useId(),y=S=>Math.sign(S)*Math.log(Math.abs(S)+1),_=S=>Math.sign(S)*(Math.exp(Math.abs(S))-1),b=S=>{const A=parseFloat(S.target.value);console.log("linear: "+A);const E=d?_(A):A;console.log(E);const x=parseFloat(E.toFixed(2)),O={...S,target:{...S.target,value:x.toString()}};l(O)},T=d?y(f):f;return M.jsxs("div",{className:"flex space-x-2",children:[M.jsx("label",{htmlFor:m,className:a?"w-18 md:w-24 basis-1/4":"basis-2/8",children:a??t.charAt(0).toUpperCase()}),M.jsx("input",{className:"w-36 md:w-48 basis-5/8",id:m,max:d?y(i):i,min:d?y(o):o,name:t,onChange:d?b:l,step:c,type:"range",value:T,"data-testid":p}),M.jsx("div",{className:"w-6 md:w-8 basis-1/8",children:f})]})}function Na({handleChange:l,justifyBetween:t=!1,options:a,value:i}){const o=V.useId(),c=f=>typeof f=="string"?f.charAt(0).toUpperCase()+f.slice(1):f;return M.jsx("div",{className:We("flex flex-wrap space-x-2",t&&"justify-between"),children:a.map(f=>M.jsxs("div",{className:"flex space-x-2",children:[M.jsx("input",{checked:i===f,id:`option-${f}-${o}`,name:`option-${o}`,onChange:l,type:"radio",value:f}),M.jsx("label",{htmlFor:`option-${f}-${o}`,children:c(f)})]},f))})}function Qw({filter:l,ref:t,onParameterChange:a}){const[i,o]=V.useState(300),[c,f]=V.useState(1),[d,p]=V.useState(4),[m,y]=V.useState(-12),[_,b]=V.useState(1),[T,S]=V.useState(0),[A,E]=V.useState("highpass"),[x,O]=V.useState("sine"),B=V.useRef({baseFrequency:i,depth:c,frequency:d,rolloff:m,Q:_,wet:T,type:A,oscillatorType:x});return V.useEffect(()=>{B.current={baseFrequency:i,depth:c,frequency:d,rolloff:m,Q:_,wet:T,type:A,oscillatorType:x}},[i,c,d,m,_,T,A,x]),V.useImperativeHandle(t,()=>({getParams:()=>B.current,setParams:k=>{o(k.baseFrequency),f(k.depth),p(k.frequency),y(k.rolloff),b(k.Q),S(k.wet),E(k.type),O(k.oscillatorType)}})),l.current.set({baseFrequency:i,depth:c,frequency:d,wet:T,filter:{type:A,Q:_},type:x}),V.useEffect(()=>{l.current.filter.rolloff=m},[l,m]),M.jsxs("div",{className:"place-items-center border-2 rounded border-pink-500 dark:border-sky-300 p-5",children:[M.jsx("div",{className:"col-span-full mb-1",children:"Filter"}),M.jsx($e,{inputName:"baseFrequency",min:30,max:7e3,value:i,labelText:"Base Freq",step:1,handleChange:k=>{o(parseFloat(k.target.value)),a?.()}}),M.jsx($e,{inputName:"frequency",min:0,max:10,value:d,labelText:"Speed",step:.01,handleChange:k=>{p(parseFloat(k.target.value)),a?.()}}),M.jsx($e,{inputName:"q",min:0,max:9,value:_,labelText:"Q",step:.01,handleChange:k=>{b(parseFloat(k.target.value)),a?.()}}),M.jsx($e,{inputName:"depth",min:0,max:1,value:c,labelText:"Depth",step:.01,handleChange:k=>{f(parseFloat(k.target.value)),a?.()}}),M.jsx($e,{inputName:"wet",min:0,max:1,value:T,labelText:"Dry / Wet",step:.01,handleChange:k=>{S(parseFloat(k.target.value)),a?.()}}),M.jsxs("div",{className:"mt-3",children:[M.jsx(Na,{handleChange:k=>{E(k.target.value),a?.()},value:A,options:["highpass","lowpass","bandpass","notch"]}),M.jsx(Na,{handleChange:k=>{y(parseFloat(k.target.value)),a?.()},value:m,options:[-12,-24,-48,-96]}),M.jsx(Na,{handleChange:k=>{O(k.target.value),a?.()},value:x,options:["sine","square","triangle","sawtooth"]})]})]})}function Zw({bitCrusher:l,ref:t,onParameterChange:a}){const[i,o]=V.useState(5),[c,f]=V.useState(0),d=V.useRef({bits:i,wet:c});return V.useEffect(()=>{d.current={bits:i,wet:c}},[i,c]),V.useImperativeHandle(t,()=>({getParams:()=>d.current,setParams:p=>{o(p.bits),f(p.wet)}})),l.current.set({bits:i,wet:c}),M.jsxs("div",{className:"place-items-center border-2 rounded border-pink-500 dark:border-sky-300 p-5",children:[M.jsx("div",{className:"col-span-full mb-1",children:"Bitcrusher"}),M.jsx($e,{inputName:"bits",min:2,max:8,value:i,labelText:"Bits",handleChange:p=>{o(parseFloat(p.target.value)),a?.()}}),M.jsx($e,{inputName:"wet",min:0,max:1,value:c,step:.01,labelText:"Dry / Wet",handleChange:p=>{f(parseFloat(p.target.value)),a?.()}})]})}function Ww({chebyshev:l,ref:t,onParameterChange:a}){const[i,o]=V.useState(1),[c,f]=V.useState(0),d=V.useRef({order:i,wet:c});return V.useEffect(()=>{d.current={order:i,wet:c}},[i,c]),V.useImperativeHandle(t,()=>({getParams:()=>d.current,setParams:p=>{o(p.order),f(p.wet)}})),l.current.set({order:i,wet:c}),M.jsxs("div",{className:"place-items-center border-2 rounded border-pink-500 dark:border-sky-300 p-5",children:[M.jsx("div",{className:"col-span-full mb-1",children:"Chebyshev"}),M.jsx($e,{handleChange:p=>{o(parseInt(p.target.value)),a?.()},inputName:"order",labelText:"Order",max:100,min:1,value:i}),M.jsx($e,{handleChange:p=>{f(parseFloat(p.target.value)),a?.()},inputName:"wet",labelText:"Dry / Wet",max:1,min:0,step:.01,value:c})]})}function Ty({delay:l,label:t="Delay",maxTime:a=10,minFeedback:i=0,ref:o,onParameterChange:c}){const[f,d]=V.useState(1),[p,m]=V.useState(.95),[y,_]=V.useState(0),b=V.useRef({time:f,feedback:p,wet:y});return V.useEffect(()=>{b.current={time:f,feedback:p,wet:y}},[f,p,y]),V.useImperativeHandle(o,()=>({getParams:()=>b.current,setParams:T=>{d(T.time),m(T.feedback),_(T.wet)}})),l.current.set({delayTime:f,feedback:p,wet:y}),M.jsxs("div",{className:"place-items-center border-2 rounded border-pink-500 dark:border-sky-300 p-5",children:[M.jsx("div",{className:"col-span-full mb-1",children:t}),M.jsx($e,{inputName:"time",min:0,max:a,value:f,labelText:"Time",step:.01,handleChange:T=>{d(parseFloat(T.target.value)),c?.()}}),M.jsx($e,{inputName:"feedback",min:i,max:1,value:p,labelText:"Feedback",step:.01,handleChange:T=>{m(parseFloat(T.target.value)),c?.()}}),M.jsx($e,{inputName:"wet",min:0,max:1,value:y,step:.01,labelText:"Dry / Wet",handleChange:T=>{_(parseFloat(T.target.value)),c?.()}})]})}function Kw({bus:l,ref:t,onParameterChange:a}){const[i,o]=V.useState(-15);return V.useImperativeHandle(t,()=>({value:i,setValue:c=>{c!==i&&o(c)}}),[i]),l.current?.volume.setTargetAtTime(i,0,.01),M.jsx("div",{className:"col-start-1 md:col-start-1 md:col-end-3 place-items-center border-2 rounded border-pink-500 dark:border-sky-300 p-5",children:M.jsx($e,{inputName:"bus",labelText:"Effects Send",min:-80,max:0,step:.01,logarithmic:!0,value:i,handleChange:c=>{o(parseFloat(c.target.value)),a?.()}})})}function Jw({filter:l,ref:t,onParameterChange:a}){const[i,o]=V.useState(300),[c,f]=V.useState(-12),[d,p]=V.useState(1),[m,y]=V.useState("highpass"),_=V.useRef({frequency:i,rolloff:c,Q:d,type:m});return V.useEffect(()=>{_.current={frequency:i,rolloff:c,Q:d,type:m}},[i,c,d,m]),V.useImperativeHandle(t,()=>({getParams:()=>_.current,setParams:b=>{o(b.frequency),f(b.rolloff),p(b.Q),y(b.type)}})),l.current.set({frequency:i,Q:d,type:m}),V.useEffect(()=>{l.current.rolloff=c},[l,c]),M.jsxs("div",{className:"place-items-center border-2 rounded border-pink-500 dark:border-sky-300 p-5",children:[M.jsx("div",{className:"col-span-full mb-1",children:"Filter"}),M.jsx($e,{inputName:"frequency",min:30,max:7e3,value:i,labelText:"Frequency",step:1,handleChange:b=>{o(parseFloat(b.target.value)),a?.()}}),M.jsx($e,{inputName:"q",min:0,max:9,value:d,labelText:"Q",step:.01,handleChange:b=>{p(parseFloat(b.target.value)),a?.()}}),M.jsxs("div",{className:"mt-3",children:[M.jsx(Na,{handleChange:b=>{y(b.target.value),a?.()},value:m,options:["highpass","lowpass","bandpass","notch"]}),M.jsx(Na,{handleChange:b=>{f(parseFloat(b.target.value)),a?.()},value:c,options:[-12,-24,-48,-96]})]})]})}var Nh,xy;function Pw(){if(xy)return Nh;xy=1;var l="Expected a function",t=NaN,a="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,d=parseInt,p=typeof po=="object"&&po&&po.Object===Object&&po,m=typeof self=="object"&&self&&self.Object===Object&&self,y=p||m||Function("return this")(),_=Object.prototype,b=_.toString,T=Math.max,S=Math.min,A=function(){return y.Date.now()};function E(w,j,R){var z,W,$,Z,G,se,ae=0,ce=!1,q=!1,I=!0;if(typeof w!="function")throw new TypeError(l);j=k(j)||0,x(R)&&(ce=!!R.leading,q="maxWait"in R,$=q?T(k(R.maxWait)||0,j):$,I="trailing"in R?!!R.trailing:I);function Q(he){var le=z,de=W;return z=W=void 0,ae=he,Z=w.apply(de,le),Z}function J(he){return ae=he,G=setTimeout(H,j),ce?Q(he):Z}function ne(he){var le=he-se,de=he-ae,Le=j-le;return q?S(Le,$-de):Le}function C(he){var le=he-se,de=he-ae;return se===void 0||le>=j||le<0||q&&de>=$}function H(){var he=A();if(C(he))return te(he);G=setTimeout(H,ne(he))}function te(he){return G=void 0,I&&z?Q(he):(z=W=void 0,Z)}function re(){G!==void 0&&clearTimeout(G),ae=0,z=se=W=G=void 0}function ie(){return G===void 0?Z:te(A())}function ue(){var he=A(),le=C(he);if(z=arguments,W=this,se=he,le){if(G===void 0)return J(se);if(q)return G=setTimeout(H,j),Q(se)}return G===void 0&&(G=setTimeout(H,j)),Z}return ue.cancel=re,ue.flush=ie,ue}function x(w){var j=typeof w;return!!w&&(j=="object"||j=="function")}function O(w){return!!w&&typeof w=="object"}function B(w){return typeof w=="symbol"||O(w)&&b.call(w)==a}function k(w){if(typeof w=="number")return w;if(B(w))return t;if(x(w)){var j=typeof w.valueOf=="function"?w.valueOf():w;w=x(j)?j+"":j}if(typeof w!="string")return w===0?w:+w;w=w.replace(i,"");var R=c.test(w);return R||f.test(w)?d(w.slice(2),R?2:8):o.test(w)?t:+w}return Nh=E,Nh}var $w=Pw();const Ay=Uo($w);function eC(l){const t=V.useRef(l);t.current=l,V.useEffect(()=>()=>{t.current()},[])}function tC(l,t=500,a){const i=V.useRef();eC(()=>{i.current&&i.current.cancel()});const o=V.useMemo(()=>{const c=Ay(l,t,a),f=(...d)=>c(...d);return f.cancel=()=>{c.cancel()},f.isPending=()=>!!i.current,f.flush=()=>c.flush(),f},[l,t,a]);return V.useEffect(()=>{i.current=Ay(l,t,a)},[l,t,a]),o}function nC({onParameterChange:l,ref:t}){const[a,i]=V.useState(120);V.useEffect(()=>{const c=qo().bpm.value;i(c)},[]);const o=c=>{qo().bpm.value=c,i(c),l?.()};return V.useImperativeHandle(t,()=>({getValue:()=>a,setValue:c=>{o(c)}})),M.jsx($e,{inputName:"bpm",min:0,max:999,value:a,labelText:"bpm",step:.01,handleChange:c=>o(parseFloat(c.target.value)),testId:"bpm-slider"})}function sC({className:l,handleFormSubmit:t,maxFreq:a,minFreq:i}){return M.jsxs("form",{className:"col-span-6 "+l,onSubmit:t,children:[M.jsx("input",{className:"w-20 mr-2 rounded-md border-0 bg-white px-1 py-1.5 text-gray-900 shadow-xs ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",defaultValue:i,max:"20000",min:"0.01",name:"minFreq",step:"0.01",type:"number"}),M.jsx("input",{className:"w-20 mr-2 rounded-md border-0 bg-white px-1 py-1.5 text-gray-900 shadow-xs ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600",defaultValue:a,max:"20000",min:"0.01",name:"maxFreq",step:"0.01",type:"number"}),M.jsx("input",{className:"rounded-md bg-sky-500 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",type:"submit",value:"freq!"})]},`${i}-${a}`)}function zf({children:l,className:t,handleClick:a,isActive:i=!1,testId:o}){return M.jsx("button",{onClick:a,className:We("rounded-md bg-sky-500 px-3 py-2 text-sm text-white shadow-xs hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",i&&"bg-violet-500",t),"data-testid":o,children:l})}function aC({handleClick:l,isCurrentBeat:t,step:a,oscIndex:i,stepIndex:o}){return M.jsx("div",{children:M.jsx("button",{className:We("w-8 h-8 rounded-full border-2 border-white",a&&"bg-green-500",!a&&"bg-gray-500",t&&"bg-pink-500",t&&a&&"bg-yellow-300"),onClick:l,"data-testid":`step-${i}-${o}`,"aria-label":`Oscillator ${i+1}, Step ${o+1}`})})}function iC({currentBeat:l,handleStepClick:t,pan:a,panner:i,sequence:o,sequenceIndex:c,synth:f,volume:d,waveform:p}){return f.volume.setTargetAtTime(d,0,.01),i?.pan.setTargetAtTime(a,0,.01),f.set({oscillator:{type:p}}),M.jsx("div",{className:"grid grid-cols-8 gap-2",children:o.steps.map((m,y)=>M.jsx(aC,{handleClick:()=>t(c,y),isCurrentBeat:l===y,step:o.steps[y],oscIndex:c,stepIndex:y},y))})}const n_=V.createContext(null);function rC({children:l}){const[t,a]=V.useState(!1),[i,o]=V.useState(!1),c=async()=>{if(!t)try{await fw()}catch{a(!1)}finally{a(!0)}},f=()=>{i?qo().stop():qo().start(),o(!i)};return M.jsx(n_.Provider,{value:{handleBrowserAudioStart:c,isTransportRunning:i,toggleTransport:f},children:l})}function Vf(){const l=V.useContext(n_);if(!l)throw new Error("useAudioContext must be used within an AudioContextProvider component");return l}function s_(l,t){const a=V.useCallback(i=>{const o=i.target;if(o.tagName==="TEXTAREA"||o.isContentEditable||o.tagName==="INPUT"&&o.type==="text")return;t.some(d=>i.key===d)&&(i.preventDefault(),l(i.key))},[l,t]);V.useEffect(()=>(document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}),[a])}function lC({channel:l,currentBeat:t,handleStepClick:a,maxFreq:i,minFreq:o,oscillator:c,panner:f,playPauseKey:d,sequence:p,sequenceIndex:m,synth:y,updateSequenceFrequency:_,ref:b,onParameterChange:T}){const[S,A]=V.useState(o),[E,x]=V.useState("sine"),[O,B]=V.useState(-5),[k,w]=V.useState(0),[j,R]=V.useState(!1),z=V.useRef({frequency:S,waveform:E,volume:O,pan:k});V.useEffect(()=>{z.current={frequency:S,waveform:E,volume:O,pan:k}},[S,E,O,k]),V.useImperativeHandle(b,()=>({getParams:()=>z.current,setParams:G=>{A(G.frequency),x(G.waveform),B(G.volume),w(G.pan)}}));const{handleBrowserAudioStart:W}=Vf(),$=()=>{W(),j?(c?.stop(),R(!1)):(c?.start(),R(!0))};s_(()=>{$()},[d]),S<o?A(o):S>i&&A(i),l?.volume.setTargetAtTime(O,0,.01),l?.pan.setTargetAtTime(k,0,.01),c.frequency.setValueAtTime(S,.1),c.type=E;const Z=G=>{const se=parseFloat(G.target.value);A(se),y.frequency.setValueAtTime(se,.1),_(m,se)};return M.jsxs("div",{children:[M.jsx($e,{inputName:"frequency",labelText:"Freq (Hz)",min:o,max:i,step:.01,value:S,handleChange:Z}),M.jsx($e,{inputName:"volume",labelText:"Volume",min:-80,max:0,value:O,step:.01,logarithmic:!0,handleChange:G=>{B(parseFloat(G.target.value)),T?.()}}),M.jsx($e,{inputName:"pan",labelText:"Pan",min:-1,max:1,value:k,step:.01,handleChange:G=>{w(parseFloat(G.target.value)),T?.()}}),M.jsx("div",{className:"justify-between mt-1",children:M.jsx(Na,{handleChange:G=>{x(G.target.value),T?.()},justifyBetween:!0,options:["sine","square","triangle","sawtooth"],value:E})}),M.jsx("div",{className:"text-center mt-2",children:M.jsx(iC,{currentBeat:t,handleStepClick:a,pan:k,panner:f,sequence:p,sequenceIndex:m,synth:y,volume:O,waveform:E})}),M.jsx("div",{className:"text-center mt-2",children:M.jsx(zf,{handleClick:$,isActive:j,children:j?"Stop":"Start"})})]})}function oC(l,t){l.forEach(a=>{a.connect(t)})}const a_={frequency:440,waveform:"sine",volume:-5,pan:0},Hh={frequency:440,steps:Array(16).fill(!1)};Array(6).fill(null).map(()=>({...a_})),Array(6).fill(null).map(()=>({...Hh,steps:[...Hh.steps]}));const i_={frequency:666,waveform:"sine",volume:-5,attack:.5,decay:.7,sustain:1,release:3},uC={polysynths:[{...i_}]},r_=120;function cC(l=6){const[t,a]=V.useState([]);return V.useEffect(()=>{const i=[];for(let o=0;o<l;o++){const c=new Dt(440,"sine"),f=new cs(-5,0);c.connect(f),i.push({oscillator:c,channel:f})}return a(i),()=>{i.forEach(({oscillator:o,channel:c})=>{o.dispose(),c.dispose()}),a([])}},[l]),[t,a]}function hC(l,t){const[a,i]=V.useState(()=>{const o=[];for(let c=0;c<l;c++){const f={frequency:440,steps:[]};for(let d=0;d<t;d++)f.steps.push(!1);o.push(f)}return o});return[a,i]}function fC(l=6){const[t,a]=V.useState([]);return V.useEffect(()=>{const i=[];for(let o=0;o<l;o++){const c=new Ra,f=new Zr;c.connect(f),i.push({synth:c,panner:f})}return a(i),()=>{i.forEach(({synth:o,panner:c})=>{o.dispose(),c.dispose()}),a([])}},[l]),[t,a]}function dC(){s_(()=>{i()},[" "]);const{handleBrowserAudioStart:l,isTransportRunning:t,toggleTransport:a}=Vf(),i=()=>{l(),a()};return M.jsx(zf,{handleClick:i,isActive:t,testId:"play-pause-button",children:t?"Pause Sequences":"Play Sequences"})}function pC({bus:l,oscillatorCount:t=6,stepCount:a=16,ref:i,onParameterChange:o,bpmControlRef:c}){const[f,d]=V.useState(440),[p,m]=V.useState(454),[y]=V.useState(["q","w","a","s","z","x"]),[_,b]=V.useState(!0),[T,S]=cC(t),[A,E]=fC(t),[x,O]=hC(t,a),B=V.useRef(0),[k,w]=V.useState(0),j=V.useRef(null),R=V.useRef(void 0),z=V.useRef([]);V.useImperativeHandle(i,()=>({getState:()=>{const Q=z.current.map(J=>J?.getParams()??a_);return{minFreq:f,maxFreq:p,oscillators:Q,sequences:x}},setState:Q=>{d(Q.minFreq),m(Q.maxFreq),O(Q.sequences),Q.oscillators.forEach((J,ne)=>{z.current[ne]?.setParams(J)})}})),oC([...T.map(Q=>Q.channel),...A.map(Q=>Q.panner)],l.current);const W=V.useCallback(()=>x.map((Q,J)=>({frequency:Q.frequency,isActive:Q.steps[B.current],synthIndex:J})).filter(({isActive:Q})=>Q),[x]);V.useEffect(()=>(j.current??=new Mf(Q=>{R.current&&R.current(Q)},"16n").start(0),()=>{j.current&&(j.current.stop(),j.current.dispose(),j.current=null)}),[]),V.useEffect(()=>{R.current=Q=>{w(B.current),W().forEach(({frequency:J,synthIndex:ne})=>{A[ne].synth.triggerAttackRelease(J,"16n",Q,1.5)}),B.current=(B.current+1)%a}},[W,a,A]),V.useEffect(()=>{O(Q=>Q.map(ne=>ne.frequency<f?{...ne,frequency:f}:ne.frequency>p?{...ne,frequency:p}:ne))},[f,p,O]);const $=V.useCallback((Q,J)=>{O(ne=>{const C=[...ne],H=C[Q],te=[...H.steps];return te[J]=!te[J],C[Q]={...H,steps:te},C}),o?.()},[O,o]),Z=V.useCallback((Q,J)=>{const ne=x.map((C,H)=>H===Q?{...C,frequency:J}:C);O(ne),o?.()},[x,O,o]),G=tC(Z,500),se=()=>{const Q=new Dt(f,"sine"),J=new cs(-5,0);return Q.connect(J),J.connect(l.current),{oscillator:Q,channel:J}},ae=()=>{const Q=new Ra,J=new Zr;return Q.connect(J),J.connect(l.current),{synth:Q,panner:J}},ce=()=>{S(J=>[...J,se()]),E(J=>[...J,ae()]);const Q={...Hh,steps:Array(a).fill(!1)};O(J=>[...J,Q])},q=Q=>{Q.preventDefault();const J=Q.currentTarget,ne=new FormData(J),C=Number(ne.get("minFreq")),H=Number(ne.get("maxFreq"));C&&H&&(C>H?(d(C),m(C+10)):(d(C),m(H)))},I=()=>{b(Q=>!Q)};return M.jsxs(V.Fragment,{children:[M.jsx(lu,{expanded:_,toggleExpanded:I,children:"Oscillators"}),M.jsxs("div",{className:We("border-2 rounded border-pink-500 dark:border-sky-300 p-5 mb-3",!_&&"hidden"),children:[M.jsxs("div",{className:"flex items-start justify-between",children:[M.jsxs("div",{className:"space-y-3",children:[M.jsx(sC,{handleFormSubmit:q,maxFreq:p,minFreq:f}),M.jsx(nC,{onParameterChange:o,ref:c}),M.jsx(dC,{})]}),M.jsx("button",{onClick:ce,children:"+"})]}),M.jsx("hr",{className:"mt-8 border-pink-500 dark:border-sky-300 "}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 mt-8 mb-3 place-items-center",children:T.map((Q,J)=>!x[J]||!A[J]?null:M.jsx(lC,{channel:Q.channel,currentBeat:k,handleStepClick:$,maxFreq:p,minFreq:f,oscillator:Q.oscillator,panner:A[J].panner,playPauseKey:y[J],sequence:x[J],sequenceIndex:J,synth:A[J].synth,updateSequenceFrequency:G,ref:ne=>{z.current[J]=ne},onParameterChange:o},J))})]})]})}function mC({polySynth:l,ref:t,onParameterChange:a}){const[i,o]=V.useState(666),[c,f]=V.useState("sine"),[d,p]=V.useState(-5),[m,y]=V.useState(.5),[_,b]=V.useState(.7),[T,S]=V.useState(1),[A,E]=V.useState(3),{handleBrowserAudioStart:x}=Vf(),O=V.useRef({frequency:i,waveform:c,volume:d,attack:m,decay:_,sustain:T,release:A});V.useEffect(()=>{O.current={frequency:i,waveform:c,volume:d,attack:m,decay:_,sustain:T,release:A}},[i,c,d,m,_,T,A]),V.useImperativeHandle(t,()=>({getParams:()=>O.current,setParams:k=>{o(k.frequency),f(k.waveform),p(k.volume),y(k.attack),b(k.decay),S(k.sustain),E(k.release)}})),l.volume.setTargetAtTime(d,0,.01);const B=()=>{x(),l.triggerAttackRelease(i,A)};return l.set({oscillator:{type:c},envelope:{attack:m,attackCurve:"linear",decay:_,decayCurve:"linear",release:A,releaseCurve:"linear",sustain:T}}),M.jsxs("div",{children:[M.jsx($e,{inputName:"volume",labelText:"Volume",min:-80,max:0,step:.01,logarithmic:!0,value:d,handleChange:k=>{p(parseFloat(k.target.value)),a?.()}}),M.jsx($e,{inputName:"frequency",labelText:"Freq (Hz)",min:30,max:7e3,value:i,handleChange:k=>{o(parseFloat(k.target.value)),a?.()}}),M.jsx($e,{inputName:"attack",labelText:"Attack",min:0,max:2,step:.01,value:m,handleChange:k=>{y(parseFloat(k.target.value)),a?.()}}),M.jsx($e,{inputName:"decay",labelText:"Decay",min:0,max:1,step:.01,value:_,handleChange:k=>{b(parseFloat(k.target.value)),a?.()}}),M.jsx($e,{inputName:"sustain",labelText:"Sustain",min:0,max:1,step:.01,value:T,handleChange:k=>{S(parseFloat(k.target.value)),a?.()}}),M.jsx($e,{inputName:"release",labelText:"Release",min:0,max:15,step:.01,value:A,handleChange:k=>{E(parseFloat(k.target.value)),a?.()}}),M.jsx(Na,{handleChange:k=>{f(k.target.value),a?.()},value:c,options:["sine","square","triangle","sawtooth"]}),M.jsx("div",{className:"text-center mt-2",children:M.jsx(zf,{handleClick:B,children:"Play Note"})})]})}function gC({polysynths:l,ref:t,onParameterChange:a}){const[i,o]=V.useState(!1),c=V.useRef([]);V.useImperativeHandle(t,()=>({getState:()=>({polysynths:c.current.map(p=>p?.getParams()??i_)}),setState:d=>{d.polysynths.forEach((p,m)=>{c.current[m]?.setParams(p)})}}));const f=()=>{o(d=>!d)};return M.jsxs(V.Fragment,{children:[M.jsx(lu,{expanded:i,toggleExpanded:f,children:"PolySynth"}),M.jsx("div",{className:We("grid grid-cols-1 gap-12 my-5 place-items-center border-2 rounded border-pink-500 dark:border-sky-300 p-5",!i&&"hidden",l.length>1&&"md:grid-cols-2"),children:l.map((d,p)=>M.jsx(mC,{polySynth:d,ref:m=>{c.current[p]=m},onParameterChange:a},p))})]})}var Oh,wy;function yC(){if(wy)return Oh;wy=1;function l(o){if(typeof o!="number")throw new TypeError("Expected a number");return{days:Math.trunc(o/864e5),hours:Math.trunc(o/36e5)%24,minutes:Math.trunc(o/6e4)%60,seconds:Math.trunc(o/1e3)%60,ms:Math.trunc(o)%1e3}}function t(o,c){c=c||2;let f=o.toString(),d=0;return d=c-f.length+1,f=new Array(d).join("0").concat(f),f}function a(o,c){return c?o<0?"-":"":o<=-1e3?"-":""}function i(o,c){const f=c&&c.leading,d=c&&c.ms,p=o<0?-o:o,m=a(o,d),y=l(p),_=t(y.seconds);let b="";return y.days&&!b&&(b=m+y.days+":"+t(y.hours)+":"+t(y.minutes)+":"+_),y.hours&&!b&&(b=m+(f?t(y.hours):y.hours)+":"+t(y.minutes)+":"+_),b||(b=m+(f?t(y.minutes):y.minutes)+":"+_),d&&(b+="."+t(y.ms,3)),b}return Oh=i,Oh}var _C=yC();const vC=Uo(_C);var _a={},va={},ba={},Cy;function l_(){if(Cy)return ba;Cy=1,Object.defineProperty(ba,"__esModule",{value:!0}),ba.Subs=ba.Subscribe=void 0;class l{static subscribe(i){try{return i()}catch(o){console.error(o)}return()=>{}}static subscribeEvent(i,o,c){return i.addListener(o,c),()=>{i.removeListener(o,c)}}static subscribeDOMEvent(i,o,c,f){return i.addEventListener(o,c,f),()=>{i.removeEventListener(o,c,f)}}static setTimeout(i,o,...c){const f=setTimeout(i,o,c);return()=>clearTimeout(f)}static setInterval(i,o,...c){const f=setInterval(i,o,c);return()=>clearInterval(f)}static unsubAll(i){if(Array.isArray(i))i.forEach(o=>{try{o()}catch(c){console.error(c)}});else try{i()}catch(o){console.error(o)}}static createCleanup(i){return()=>l.unsubAll(i)}}ba.Subscribe=l;class t{constructor(i=[]){this.list=i}subscribe(i){const o=l.subscribe(i);return this.push(o),o}subscribeEvent(i,o,c){const f=l.subscribeEvent(i,o,c);return this.push(f),f}subscribeDOMEvent(i,o,c){const f=l.subscribeDOMEvent(i,o,c);return this.push(f),f}setTimeout(i,o,...c){const f=setTimeout(i,o,c),d=()=>clearTimeout(f);return this.push(d),d}setInterval(i,o,...c){const f=setInterval(i,o,c),d=()=>clearInterval(f);return this.push(d),d}push(i){this.list.push(i)}unsubAll(){l.unsubAll(this.list),this.list.splice(0,this.list.length)}createCleanup(){return()=>{this.unsubAll()}}}return ba.Subs=t,ba}var Ey;function bC(){if(Ey)return va;Ey=1;var l=va&&va.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(va,"__esModule",{value:!0}),va.TimerRenderer=void 0;const t=l(Mi()),a=l_(),i=({timer:o,render:c=d=>t.default.createElement(t.default.Fragment,null,d.getElapsedRunningTime()),renderRate:f=10})=>{const[,d]=t.default.useState(Date.now());return t.default.useEffect(()=>{const p=new a.Subs;return p.setInterval(()=>d(new Date().getTime()),f),p.createCleanup()},[f]),c(o)};return va.TimerRenderer=i,va}var Dr={},En={},Ny;function Uf(){if(Ny)return En;Ny=1;var l=En&&En.__createBinding||(Object.create?(function(d,p,m,y){y===void 0&&(y=m);var _=Object.getOwnPropertyDescriptor(p,m);(!_||("get"in _?!p.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return p[m]}}),Object.defineProperty(d,y,_)}):(function(d,p,m,y){y===void 0&&(y=m),d[y]=p[m]})),t=En&&En.__setModuleDefault||(Object.create?(function(d,p){Object.defineProperty(d,"default",{enumerable:!0,value:p})}):function(d,p){d.default=p}),a=En&&En.__importStar||function(d){if(d&&d.__esModule)return d;var p={};if(d!=null)for(var m in d)m!=="default"&&Object.prototype.hasOwnProperty.call(d,m)&&l(p,d,m);return t(p,d),p};Object.defineProperty(En,"__esModule",{value:!0}),En.useTimer=void 0;const i=a(Mi()),o=l_(),c=Number.MAX_SAFE_INTEGER,f=(d={},p)=>{const[m,y]=i.useState(!0),[_,b]=i.useState(Date.now()),T=i.useRef(!1),S=i.useRef(c),A=i.useRef(c),E=i.useRef(c),x=i.useRef(c),O=i.useRef(c),B=i.useRef(0),k=i.useRef(0),w=i.useMemo(()=>{var de,Le;const ft=(de=d.speedMultiplier)!==null&&de!==void 0?de:1,At=(Le=d.delay)!==null&&Le!==void 0?Le:0;return ft===0?0:ft>0&&At>0?Math.max(1,Math.round(At*(1/ft))):At},[d.delay,d.speedMultiplier]),j=i.useMemo(()=>d.runOnce,[d.runOnce]),R=i.useMemo(()=>d.fireOnStart,[d.fireOnStart]),z=i.useMemo(()=>d.startImmediately,[d.startImmediately]),W=i.useCallback(()=>T.current,[]),$=i.useCallback(()=>!W(),[W]),Z=i.useCallback(()=>W()&&x.current!==c,[W]),G=i.useCallback(()=>W()&&!Z(),[Z,W]),se=i.useCallback(()=>w,[w]),ae=i.useCallback(()=>W()?S.current:-1,[W]),ce=i.useCallback(()=>A.current<c&&w?A.current:-1,[w]),q=i.useCallback(()=>G()&&w?E.current:-1,[G,w]),I=i.useCallback(()=>Z()?x.current:-1,[Z]),Q=i.useCallback(()=>W()&&O.current<c?O.current:-1,[W]),J=i.useCallback(()=>W()?Date.now()-S.current:0,[W]),ne=i.useCallback(()=>W()?Z()?x.current-S.current-k.current:Date.now()-S.current-k.current:0,[Z,W]),C=i.useCallback(()=>{let de=0;return Z()&&(de=Date.now()-x.current),B.current+de},[Z]),H=i.useCallback(()=>{let de=0;return Z()&&(de=Date.now()-x.current),k.current+de},[Z]),te=i.useCallback(()=>G()?Date.now()-O.current:0,[G]),re=i.useCallback(()=>{const de=Date.now();if(W()&&w){if(G())return Math.max(0,E.current-de);if(Z()){const Le=A.current!==c?A.current:S.current;return Math.max(0,w-(x.current-Le-B.current))}}return 0},[Z,G,W,w]),ie=i.useCallback((de=Date.now())=>{const Le=w?Math.max(de,R?de:de+w):c;S.current=de,A.current=c,E.current=Le,x.current=c,O.current=de,B.current=0,k.current=0,T.current=!0,b(Date.now())},[w,R]),ue=i.useCallback(()=>{S.current=c,A.current=c,E.current=c,x.current=c,O.current=c,B.current=0,k.current=0,T.current=!1,b(Date.now())},[]),he=i.useCallback(()=>{G()&&(x.current=Date.now(),O.current=c,b(Date.now()))},[G]),le=i.useCallback(()=>{if(W()&&Z()){const de=Date.now();E.current=de+re(),B.current=0,k.current=k.current+(de-x.current),x.current=c,O.current=de,b(Date.now())}},[W,Z,re]);return i.useEffect(()=>{const de=new o.Subs,Le=()=>{if(w&&!Z()){const ft=Date.now();if(ft>=E.current){const At=A.current!==c?Math.max(0,Math.floor((ft-E.current)/w)):0;A.current=ft,B.current=0;const Ua=At*w,cn=Math.max(ft,E.current+w+Ua);if(E.current=cn,typeof p=="function")try{p(At)}catch(oe){console.error(oe)}j?ue():de.setTimeout(()=>{Le()},Math.max(cn-Date.now(),1))}else E.current<c&&de.setTimeout(()=>{Le()},Math.max(E.current-Date.now(),1))}};return Le(),de.createCleanup()},[p,w,Z,_,j,ue]),i.useEffect(()=>{m&&(y(!1),z&&ie())},[m,z,ie]),i.useMemo(()=>({start:ie,stop:ue,pause:he,resume:le,isStarted:W,isStopped:$,isRunning:G,isPaused:Z,getEffectiveDelay:se,getStartTime:ae,getLastFireTime:ce,getNextFireTime:q,getPauseTime:I,getResumeTime:Q,getRemainingTime:re,getElapsedStartedTime:J,getElapsedRunningTime:ne,getTotalElapsedPausedTime:H,getPeriodElapsedPausedTime:C,getElapsedResumedTime:te}),[se,te,ne,J,ce,q,I,C,re,Q,ae,H,Z,G,W,$,he,le,ie,ue])};return En.useTimer=f,En}var Oy;function o_(){if(Oy)return Dr;Oy=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.useDelay=void 0;const l=Uf(),t=(a,i)=>(0,l.useTimer)({delay:a,runOnce:!0},i);return Dr.useDelay=t,Dr}var kr={},My;function SC(){if(My)return kr;My=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.useStopwatch=void 0;const l=Uf(),t=()=>(0,l.useTimer)();return kr.useStopwatch=t,kr}var Sa={},Dy;function TC(){if(Dy)return Sa;Dy=1;var l=Sa&&Sa.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.useMomentaryBool=void 0;const t=l(Mi()),a=o_(),i=(o,c)=>{const[f,d]=t.default.useState(o),p=t.default.useCallback(()=>d(o),[o]),m=(0,a.useDelay)(c,p),y=t.default.useCallback(()=>{d(!o),m.start()},[m,o]);return[f,y]};return Sa.useMomentaryBool=i,Sa}var ky;function xC(){return ky||(ky=1,(function(l){var t=_a&&_a.__createBinding||(Object.create?(function(i,o,c,f){f===void 0&&(f=c);var d=Object.getOwnPropertyDescriptor(o,c);(!d||("get"in d?!o.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(i,f,d)}):(function(i,o,c,f){f===void 0&&(f=c),i[f]=o[c]})),a=_a&&_a.__exportStar||function(i,o){for(var c in i)c!=="default"&&!Object.prototype.hasOwnProperty.call(o,c)&&t(o,i,c)};Object.defineProperty(l,"__esModule",{value:!0}),a(bC(),l),a(o_(),l),a(SC(),l),a(Uf(),l),a(TC(),l)})(_a)),_a}var AC=xC();function wC({shouldRun:l}){const[t,a]=V.useState(0),i=()=>{a(o.getElapsedStartedTime())},o=AC.useTimer({delay:1e3},i),c=V.useCallback(()=>{l?(a(0),o.start()):o.stop()},[l,o]);return V.useEffect(()=>{c()},[c]),M.jsx("div",{children:vC(t,{leading:!0})})}function CC({recorder:l}){const[t,a]=V.useState(!1),[i,o]=V.useState(!0),[c,f]=V.useState(""),d=()=>{o(m=>!m)},p=async()=>{if(t){const m=await l?.current?.stop();m&&f(URL.createObjectURL(m)),a(!1)}else l?.current?.start(),a(!0)};return M.jsxs(V.Fragment,{children:[M.jsx(lu,{expanded:i,toggleExpanded:d,children:"Recording"}),M.jsx("div",{className:We("my-5 border-2 rounded border-pink-500 dark:border-sky-300 p-5",!i&&"hidden"),children:M.jsxs("div",{children:[M.jsxs("div",{className:"flex items-center align-items-center",children:[M.jsx("button",{onClick:()=>void p(),className:"mr-3 border-2 rounded border-pink-500 dark:border-sky-300 px-3","aria-label":t?"Stop Recording":"Start Recording",children:t?"Stop":"Start"}),c&&!t&&M.jsxs(V.Fragment,{children:[M.jsx("audio",{preload:"none",src:c,className:"mr-3"}),M.jsx("a",{download:`tone-drone-recording${Date.now().toString()}`,href:c,className:"mr-3 border-2 rounded border-pink-500 dark:border-sky-300 px-3",children:"Download"})]}),M.jsx(wC,{shouldRun:t})]}),c&&!t&&M.jsx("div",{className:"text-sm mt-2",children:"Note: If you start a new recording, you will lose the current one. Please download it first."})]})})]})}function EC(l){const t=V.useRef(new cs({volume:-15,channelCount:2})),a=V.useCallback(()=>{t.current.chain(...l,J0())},[l]);return V.useEffect(()=>{a()},[a]),t}function NC(){const l=V.useRef(new Rw({baseFrequency:300,octaves:1,frequency:4,type:"sine",depth:1,wet:1}).start());return V.useEffect(()=>{l.current.set({filter:{type:"highpass"}})},[]),l}function OC(){return V.useRef(new jw({bits:5}))}function MC(){return V.useRef(new zw({order:1,wet:0}))}function Ry(){return V.useRef(new Rf({delayTime:1,feedback:.95,maxDelay:10,wet:0}))}function DC(){return V.useRef(new G0({frequency:300,rolloff:-12,Q:1,type:"highpass"}))}function kC(){const l=V.useRef(null);return V.useEffect(()=>(MediaRecorder.isTypeSupported("audio/webm")?l.current=new vy({mimeType:"audio/webm"}):MediaRecorder.isTypeSupported("audio/mp4")?l.current=new vy({mimeType:"audio/mp4"}):console.error("no suitable mimetype found for this device"),()=>{l.current?.dispose()}),[]),l}function RC(l=2){const[t,a]=V.useState([]);return V.useEffect(()=>{const i=[];for(let o=0;o<l;o++){const c=new kw;i.push(c)}return a(i),()=>{i.forEach(o=>{o.dispose()}),a([])}},[l]),t}function qC({ref:l,onParameterChange:t}){const a=kC(),i=NC(),o=OC(),c=MC(),f=Ry(),d=DC(),p=Ry(),m=new jf(-30,3),y=[i.current,o.current,c.current,f.current,d.current,p.current,m],_=EC(y);V.useEffect(()=>{a.current&&J0().connect(a.current)},[a]);const b=RC(1);b.forEach(R=>{R.connect(_.current)});const T=V.useRef(null),S=V.useRef(null),A=V.useRef(null),E=V.useRef(null),x=V.useRef(null),O=V.useRef(null),B=V.useRef(null),k=V.useRef(null),w=V.useRef(null),j=V.useRef(null);return V.useImperativeHandle(l,()=>({oscillatorsRef:T,polysynthsRef:S,autoFilterRef:A,bitCrusherRef:E,chebyshevRef:x,microlooperRef:O,afterFilterRef:B,delayRef:k,effectsBusSendRef:w,bpmControlRef:j})),M.jsx("div",{className:"dark:text-sky-300",children:M.jsxs("div",{className:"border-2 rounded border-pink-500 dark:border-sky-300 pt-2 px-3",children:[M.jsx(CC,{recorder:a}),M.jsxs(Xw,{children:[M.jsx(Qw,{filter:i,ref:A,onParameterChange:t}),M.jsx(Zw,{bitCrusher:o,ref:E,onParameterChange:t}),M.jsx(Ww,{chebyshev:c,ref:x,onParameterChange:t}),M.jsx(Ty,{delay:f,label:"Microlooper",maxTime:1,minFeedback:.6,ref:O,onParameterChange:t}),M.jsx(Jw,{filter:d,ref:B,onParameterChange:t}),M.jsx(Ty,{delay:p,ref:k,onParameterChange:t}),M.jsx(Kw,{bus:_,ref:w,onParameterChange:t})]}),M.jsx(gC,{polysynths:b,ref:S,onParameterChange:t}),M.jsx(pC,{bus:_,ref:T,onParameterChange:t,bpmControlRef:j})]})})}function jC(){const[l,t]=V.useState(()=>{const i=localStorage.getItem("dark");return i?JSON.parse(i):!1});return V.useEffect(()=>{l?(document.documentElement.classList.add("dark"),localStorage.setItem("dark","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("dark","false"))},[l]),[l,()=>{t(i=>!i)}]}function zC(){const[l,t]=jC();return M.jsxs("button",{className:"border-2 rounded-md border-pink-500 dark:border-sky-300 px-2 py-1 hover:bg-pink-100 dark:hover:bg-sky-900",onClick:t,children:["Theme: ",l?"Dark":"Light"]})}function VC({currentPreset:l,isModified:t,factoryPresets:a,userPresets:i,onNew:o,onSave:c,onSaveAs:f,onLoad:d,onDelete:p,onShare:m,onBrowseAll:y}){const[_,b]=V.useState(!1),T=V.useRef(null);V.useEffect(()=>{function x(O){T.current&&!T.current.contains(O.target)&&b(!1)}if(_)return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[_]),V.useEffect(()=>{function x(O){O.key==="Escape"&&b(!1)}if(_)return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[_]);const S=l?`${l.metadata.name}${t?"*":""}`:"Presets",A=i.slice(0,5),E=x=>{x(),b(!1)};return M.jsxs("div",{className:"relative",ref:T,children:[M.jsxs("button",{onClick:()=>b(!_),className:We("px-2 py-1 rounded-md border-2 transition-colors","border-pink-500 dark:border-sky-300","hover:bg-pink-100 dark:hover:bg-sky-900"),"aria-expanded":_,"aria-haspopup":"true",children:[S," ▾"]}),_&&M.jsxs("div",{className:We("absolute right-0 mt-2 w-80 rounded-lg shadow-lg z-50","bg-pink-200 dark:bg-gray-800","border-2 border-pink-500 dark:border-sky-300"),children:[M.jsxs("div",{className:"p-2 border-b-2 border-pink-500 dark:border-sky-300",children:[M.jsx("button",{onClick:()=>E(o),className:"w-full text-left px-3 py-2 rounded hover:bg-pink-100 dark:hover:bg-sky-900 transition-colors",children:"New Preset"}),M.jsx("button",{onClick:()=>E(c),className:We("w-full text-left px-3 py-2 rounded transition-colors",l?"hover:bg-pink-100 dark:hover:bg-sky-900":"opacity-40 cursor-not-allowed"),disabled:!l,children:"Save"}),M.jsx("button",{onClick:()=>E(f),className:"w-full text-left px-3 py-2 rounded hover:bg-pink-100 dark:hover:bg-sky-900 transition-colors",children:"Save As..."}),M.jsx("button",{onClick:()=>E(m),className:We("w-full text-left px-3 py-2 rounded transition-colors",l?"hover:bg-pink-100 dark:hover:bg-sky-900":"opacity-40 cursor-not-allowed"),disabled:!l,children:"Share Current Preset"})]}),M.jsxs("div",{className:"p-2 border-b-2 border-pink-500 dark:border-sky-300",children:[M.jsx("div",{className:"px-3 py-1 text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Factory Presets"}),a.map(x=>M.jsxs("button",{onClick:()=>E(()=>d(x.metadata.id,!0)),className:We("w-full text-left px-3 py-2 rounded hover:bg-pink-100 dark:hover:bg-sky-900 transition-colors","flex items-center justify-between"),"data-testid":`preset-factory-${x.metadata.id}`,children:[M.jsxs("span",{children:["• ",x.metadata.name]}),l?.metadata.id===x.metadata.id&&M.jsx("span",{className:"text-pink-500 dark:text-sky-300",children:"✓"})]},x.metadata.id))]}),M.jsxs("div",{className:"p-2 border-b-2 border-pink-500 dark:border-sky-300",children:[M.jsx("div",{className:"px-3 py-1 text-sm font-semibold text-gray-600 dark:text-gray-400",children:i.length>5?`Recent User Presets (${i.length} total)`:`My Presets (${i.length})`}),A.length>0?A.map(x=>M.jsxs("div",{className:"flex items-center justify-between hover:bg-pink-100 dark:hover:bg-sky-900 rounded transition-colors",children:[M.jsxs("button",{onClick:()=>E(()=>d(x.id,!1)),className:"flex-1 text-left px-3 py-2","data-testid":`preset-user-${x.id}`,children:["• ",x.name,l?.metadata.id===x.id&&M.jsx("span",{className:"ml-2 text-pink-500 dark:text-sky-300",children:"✓"})]}),M.jsx("button",{onClick:O=>{O.stopPropagation(),E(()=>p(x.id))},className:"px-2 py-2 text-red-500 hover:text-red-700 dark:hover:text-red-400","aria-label":`Delete ${x.name}`,"data-testid":`preset-delete-${x.id}`,children:"×"})]},x.id)):M.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 dark:text-gray-400 italic",children:"No saved presets yet"})]}),M.jsx("div",{className:"p-2",children:M.jsx("button",{onClick:()=>E(y),className:"w-full text-left px-3 py-2 rounded hover:bg-pink-100 dark:hover:bg-sky-900 transition-colors font-medium",children:"Browse All Presets..."})})]})]})}function UC({isOpen:l,onClose:t,currentPreset:a,factoryPresets:i,userPresets:o,onLoad:c,onDelete:f,onImport:d,onImportUrl:p}){const[m,y]=V.useState(""),[_,b]=V.useState("");if(V.useEffect(()=>{function O(B){B.key==="Escape"&&t()}if(l)return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[l,t]),!l)return null;const T=o.filter(O=>O.name.toLowerCase().includes(m.toLowerCase())),S=i.filter(O=>{const B=O.metadata.name.toLowerCase().includes(m.toLowerCase()),k=O.metadata.description?O.metadata.description.toLowerCase().includes(m.toLowerCase()):!1;return B||k}),A=O=>{const B=O.target.files?.[0];B&&d(B)},E=()=>{_.trim()&&(p(_.trim()),b(""))},x=O=>new Date(O).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t,children:M.jsxs("div",{className:We("bg-pink-200 dark:bg-gray-800 rounded-lg shadow-2xl","border-2 border-pink-500 dark:border-sky-300","max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col"),onClick:O=>O.stopPropagation(),children:[M.jsxs("div",{className:"flex items-center justify-between p-6 border-b-2 border-pink-500 dark:border-sky-300",children:[M.jsx("h2",{className:"text-2xl font-bold",children:"Preset Manager"}),M.jsx("button",{onClick:t,className:"text-2xl leading-none hover:text-pink-500 dark:hover:text-sky-300 transition-colors","aria-label":"Close",children:"×"})]}),M.jsx("div",{className:"p-6 border-b-2 border-pink-500 dark:border-sky-300",children:M.jsx("input",{type:"text",placeholder:"🔍 Search presets...",value:m,onChange:O=>y(O.target.value),className:We("w-full px-4 py-2 rounded border-2","border-pink-500 dark:border-sky-300","bg-pink-100 dark:bg-gray-700","focus:outline-none focus:ring-pink-500 dark:focus:ring-sky-300")})}),M.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[M.jsxs("div",{children:[M.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:["Factory Presets (",S.length,")"]}),M.jsx("div",{className:"space-y-2",children:S.map(O=>M.jsx("div",{className:We("p-4 rounded border-2 transition-colors","border-pink-300 dark:border-sky-700","hover:border-pink-500 dark:hover:border-sky-300","bg-pink-100 dark:bg-gray-700"),children:M.jsxs("div",{className:"flex items-start justify-between",children:[M.jsxs("div",{className:"flex-1",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("h4",{className:"font-semibold",children:O.metadata.name}),a?.metadata.id===O.metadata.id&&M.jsx("span",{className:"text-pink-500 dark:text-sky-300",children:"✓ Current"})]}),O.metadata.description&&M.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:O.metadata.description})]}),M.jsx("button",{onClick:()=>c(O.metadata.id,!0),className:We("px-4 py-2 rounded border-2","border-pink-500 dark:border-sky-300","bg-pink-200 dark:bg-gray-800","hover:bg-pink-100 dark:hover:bg-sky-900","transition-colors font-medium"),children:"Load"})]})},O.metadata.id))})]}),M.jsxs("div",{children:[M.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:["My Presets (",T.length,")"]}),T.length>0?M.jsx("div",{className:"space-y-2",children:T.map(O=>M.jsx("div",{className:We("p-4 rounded border-2 transition-colors","border-pink-300 dark:border-sky-700","hover:border-pink-500 dark:hover:border-sky-300","bg-pink-100 dark:bg-gray-700"),children:M.jsxs("div",{className:"flex items-start justify-between",children:[M.jsxs("div",{className:"flex-1",children:[M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("h4",{className:"font-semibold",children:O.name}),a?.metadata.id===O.id&&M.jsx("span",{className:"text-pink-500 dark:text-sky-300",children:"✓ Current"})]}),M.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Created: ",x(O.created),O.modified&&` • Modified: ${x(O.modified)}`]})]}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:()=>f(O.id),className:We("px-3 py-2 rounded","text-red-500 hover:text-red-700 dark:hover:text-red-400","hover:bg-red-50 dark:hover:bg-red-900/20","transition-colors"),"aria-label":`Delete ${O.name}`,children:"🗑️"}),M.jsx("button",{onClick:()=>c(O.id,!1),className:We("px-4 py-2 rounded border-2","border-pink-500 dark:border-sky-300","bg-pink-200 dark:bg-gray-800","hover:bg-pink-100 dark:hover:bg-sky-900","transition-colors font-medium"),children:"Load"})]})]})},O.id))}):M.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic",children:'No user presets saved yet. Use "Save As..." to create one!'})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:"Import Preset"}),M.jsxs("div",{className:"space-y-3",children:[M.jsx("textarea",{placeholder:"Paste preset URL or JSON here...",value:_,onChange:O=>b(O.target.value),className:We("w-full px-4 py-2 rounded border-2 h-24 resize-none","border-pink-500 dark:border-sky-300","bg-pink-100 dark:bg-gray-700","focus:outline-none focus:ring-pink-500 dark:focus:ring-sky-300")}),M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:E,disabled:!_.trim(),className:We("px-4 py-2 rounded border-2","border-pink-500 dark:border-sky-300","hover:bg-pink-100 dark:hover:bg-sky-900","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors"),children:"Import from Text"}),M.jsxs("label",{className:We("px-4 py-2 rounded border-2 cursor-pointer","border-pink-500 dark:border-sky-300","hover:bg-pink-100 dark:hover:bg-sky-900","transition-colors"),children:["Import from File...",M.jsx("input",{type:"file",accept:".json",onChange:A,className:"hidden"})]})]})]})]})]})]})})}const u_=3;function BC(l){let t={...l};for(let a=l.version;a<u_;a++)t=LC(t,a);return t}function LC(l,t){switch(t){case 1:return FC(l);case 2:return HC(l);default:return l}}function FC(l){return{...l,version:2,state:{...l.state,polysynths:l.state.polysynths??uC}}}function HC(l){return{...l,version:3,state:{...l.state,bpm:l.state.bpm??r_}}}function GC(l){return l.version<u_}const Gh=3;function YC(){return`${Date.now()}-${Math.random().toString(36).substring(2,9)}`}function IC(l,t){const a=new Date().toISOString(),i={id:YC(),name:l,created:a};return{version:Gh,metadata:i,state:t}}function Bf(l){return JSON.stringify(l)}function Vo(l){let t;try{t=JSON.parse(l)}catch(i){throw new Error(`Invalid preset JSON: ${i instanceof Error?i.message:"unknown error"}`)}let a=t;if(typeof a!="object"||a===null||typeof a.version!="number"||typeof a.metadata!="object"||typeof a.state!="object")throw new Error("Invalid preset structure");if(a.version>Gh)throw new Error(`Preset version ${a.version} is not supported. Current version: ${Gh}`);if(GC(a)&&(a=BC(a)),!XC(a))throw new Error("Invalid preset structure after migration");return a}function XC(l){return!(typeof l!="object"||l===null||typeof l.version!="number"||typeof l.metadata!="object"||l.metadata===null||typeof l.metadata.id!="string"||typeof l.metadata.name!="string"||typeof l.metadata.created!="string"||typeof l.state!="object"||l.state===null||typeof l.state.oscillators!="object"||l.state.oscillators===null||typeof l.state.oscillators.minFreq!="number"||typeof l.state.oscillators.maxFreq!="number"||!Array.isArray(l.state.oscillators.oscillators)||!Array.isArray(l.state.oscillators.sequences)||typeof l.state.effects!="object"||l.state.effects===null||typeof l.state.effects.autoFilter!="object"||typeof l.state.effects.bitCrusher!="object"||typeof l.state.effects.chebyshev!="object"||typeof l.state.effects.microlooper!="object"||typeof l.state.effects.afterFilter!="object"||typeof l.state.effects.delay!="object"||typeof l.state.polysynths!="object"||l.state.polysynths===null||typeof l.state.effectsBusSend!="number"||typeof l.state.bpm!="number"||l.state.bpm<0||l.state.bpm>999)}function QC(l){return{...l,metadata:{...l.metadata,modified:new Date().toISOString()}}}function ZC(l){const t=Bf(l);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function WC(l){try{let t=l.replace(/-/g,"+").replace(/_/g,"/");const a=t.length%4;a>0&&(t+="=".repeat(4-a));const i=atob(t);return Vo(i)}catch(t){throw new Error(`Failed to decode preset from URL: ${t instanceof Error?t.message:"unknown error"}`)}}function c_(l){try{const t=l??window.location.href,i=new URL(t).searchParams.get("preset");return i?WC(i):null}catch(t){return console.error("Failed to extract preset from URL:",t),null}}function KC(l,t){const a=ZC(l),i=window.location.origin+window.location.pathname,o=new URL(i);return o.searchParams.set("preset",a),o.toString()}function JC({isOpen:l,onClose:t,preset:a}){const[i,o]=V.useState(""),[c,f]=V.useState(!1);if(V.useEffect(()=>{if(l&&a){const m=KC(a);o(m)}},[l,a]),V.useEffect(()=>{function m(y){y.key==="Escape"&&t()}if(l)return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[l,t]),V.useEffect(()=>{l||f(!1)},[l]),!l||!a)return null;const d=async()=>{try{await navigator.clipboard.writeText(i),f(!0),setTimeout(()=>f(!1),2e3)}catch(m){console.error("Failed to copy URL:",m),alert("Failed to copy URL to clipboard")}},p=()=>{const m=Bf(a),y=new Blob([m],{type:"application/json"}),_=URL.createObjectURL(y),b=document.createElement("a");b.href=_;const T=`${a.metadata.name.toLowerCase().replace(/\s+/g,"-")}.json`;b.download=T,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(_)};return M.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:t,children:M.jsxs("div",{className:We("bg-pink-200 dark:bg-gray-800 rounded-lg shadow-2xl","border-2 border-pink-500 dark:border-sky-300","max-w-2xl w-full max-h-[90vh] flex flex-col"),onClick:m=>m.stopPropagation(),children:[M.jsxs("div",{className:"flex items-center justify-between p-6 border-b-2 border-pink-500 dark:border-sky-300",children:[M.jsxs("h2",{className:"text-2xl font-bold",children:['Share: "',a.metadata.name,'"']}),M.jsx("button",{onClick:t,className:"text-2xl leading-none hover:text-pink-500 dark:hover:text-sky-300 transition-colors","aria-label":"Close",children:"×"})]}),M.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[M.jsxs("div",{children:[M.jsx("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:"🔗 Shareable URL"}),M.jsxs("div",{className:"space-y-3",children:[M.jsx("div",{className:We("p-3 rounded border-2 font-mono text-sm break-all","border-pink-300 dark:border-sky-700","bg-pink-50 dark:bg-gray-700"),"data-testid":"share-url-display",children:i}),M.jsx("button",{onClick:()=>{d()},className:We("w-full px-4 py-3 rounded border-2 font-medium","border-pink-500 dark:border-sky-300",c?"bg-green-100 dark:bg-green-900 border-green-500":"hover:bg-pink-100 dark:hover:bg-sky-900","transition-colors"),children:c?"✓ Copied to Clipboard!":"Copy URL to Clipboard"}),M.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Anyone with this link can load this preset instantly by visiting the URL or pasting it into the Import section."})]})]}),M.jsx("hr",{className:"border-pink-500 dark:border-sky-300"}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2",children:"Export as JSON File"}),M.jsxs("div",{className:"space-y-3",children:[M.jsxs("button",{onClick:p,className:We("w-full px-4 py-3 rounded border-2 font-medium","border-pink-500 dark:border-sky-300","hover:bg-pink-100 dark:hover:bg-sky-900","transition-colors"),children:['Download "',a.metadata.name,'.json"']}),M.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'For backup or sharing with advanced users. The JSON file can be imported via the "Import from File" button in the Preset Manager.'})]})]})]})]})})}const PC="preset_",h_="preset_index";function Lf(l){return`${PC}${l}`}function Ff(){try{const l=localStorage.getItem(h_);return l?JSON.parse(l):[]}catch(l){return console.error("Failed to load preset index:",l),[]}}function f_(l){try{localStorage.setItem(h_,JSON.stringify(l))}catch(t){throw console.error("Failed to save preset index:",t),new Error("Failed to save preset index")}}function $C(l){const t=Ff(),a=t.findIndex(o=>o.id===l.metadata.id),i={id:l.metadata.id,name:l.metadata.name,created:l.metadata.created,modified:l.metadata.modified};a>=0?t[a]=i:t.push(i),f_(t)}function e2(l){const a=Ff().filter(i=>i.id!==l);f_(a)}function qy(l){try{const t=Lf(l.metadata.id),a=Bf(l);localStorage.setItem(t,a),$C(l)}catch(t){throw console.error("Failed to save preset:",t),new Error(`Failed to save preset: ${t instanceof Error?t.message:"unknown error"}`)}}function t2(l){try{const t=Lf(l),a=localStorage.getItem(t);return a?Vo(a):null}catch(t){return console.error("Failed to load preset:",t),null}}function n2(l){try{const t=Lf(l);localStorage.removeItem(t),e2(l)}catch(t){throw console.error("Failed to delete preset:",t),new Error(`Failed to delete preset: ${t instanceof Error?t.message:"unknown error"}`)}}function s2(){return Ff().sort((t,a)=>{const i=new Date(t.created).getTime();return new Date(a.created).getTime()-i})}function a2(l){const[t,a]=V.useState(null),[i,o]=V.useState([]);V.useEffect(()=>{p()},[]);const[c,f]=V.useState(null),d=V.useRef(!1);V.useEffect(()=>{const x=c_();x&&f(x)},[]),V.useEffect(()=>{c&&!d.current&&l.oscillators.current&&l.polysynths.current&&l.bpmControl.current&&l.effectsBusSendRef.current&&(y(c),a(c),d.current=!0,f(null))});const p=V.useCallback(()=>{const x=s2();o(x)},[]),m=V.useCallback(()=>{const x=l.oscillators.current?.getState(),O=l.polysynths.current?.getState(),B=l.autoFilter.current?.getParams(),k=l.bitCrusher.current?.getParams(),w=l.chebyshev.current?.getParams(),j=l.microlooper.current?.getParams(),R=l.afterFilter.current?.getParams(),z=l.delay.current?.getParams(),W=l.effectsBusSendRef.current?.value??0,$=l.bpmControl.current?.getValue()??r_;if(!x||!O||!B||!k||!w||!j||!R||!z)throw new Error("Cannot capture state: some component refs are not available");return{oscillators:x,polysynths:O,effects:{autoFilter:B,bitCrusher:k,chebyshev:w,microlooper:j,afterFilter:R,delay:z},effectsBusSend:W,bpm:$}},[l]),y=V.useCallback(x=>{const{state:O}=x;l.oscillators.current?.setState(O.oscillators),l.polysynths.current?.setState(O.polysynths),l.autoFilter.current?.setParams(O.effects.autoFilter),l.bitCrusher.current?.setParams(O.effects.bitCrusher),l.chebyshev.current?.setParams(O.effects.chebyshev),l.microlooper.current?.setParams(O.effects.microlooper),l.afterFilter.current?.setParams(O.effects.afterFilter),l.delay.current?.setParams(O.effects.delay),l.effectsBusSendRef.current&&l.effectsBusSendRef.current.setValue(O.effectsBusSend),l.bpmControl.current&&l.bpmControl.current.setValue(O.bpm)},[l]),_=V.useCallback(x=>{const O=m(),B=IC(x,O);return qy(B),p(),a(B),B},[m,p]),b=V.useCallback(()=>{if(!t)throw new Error("No preset is currently loaded");const x=m(),O=QC({...t,state:x});return qy(O),p(),a(O),O},[t,m,p]),T=V.useCallback(x=>{const O=t2(x);return O&&(y(O),a(O)),O},[y]),S=V.useCallback(x=>{n2(x),p(),t?.metadata.id===x&&a(null)},[t,p]),A=V.useCallback(()=>{a(null)},[]),E=V.useCallback(x=>{y(x),a(x)},[y]);return{currentPreset:t,presetList:i,savePreset:_,updateCurrentPreset:b,loadPreset:T,loadFactoryPreset:E,deletePreset:S,newPreset:A,captureCurrentState:m,applyPreset:y,refreshPresetList:p}}const i2=1,r2={id:"factory-init",name:"Init",created:"2025-01-01T00:00:00.000Z",description:"Default starting point with all effects dry"},l2={oscillators:{minFreq:440,maxFreq:454,oscillators:[{frequency:440,waveform:"sine",volume:-5,pan:0},{frequency:440,waveform:"sine",volume:-5,pan:0},{frequency:440,waveform:"sine",volume:-5,pan:0},{frequency:440,waveform:"sine",volume:-5,pan:0},{frequency:440,waveform:"sine",volume:-5,pan:0},{frequency:440,waveform:"sine",volume:-5,pan:0}],sequences:[{frequency:440,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},{frequency:440,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},{frequency:440,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},{frequency:440,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},{frequency:440,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},{frequency:440,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]}]},polysynths:{polysynths:[{frequency:666,waveform:"sine",volume:-5,attack:.5,decay:.7,sustain:1,release:3}]},effects:{autoFilter:{baseFrequency:300,depth:1,frequency:4,rolloff:-12,Q:1,wet:0,type:"highpass",oscillatorType:"sine"},bitCrusher:{bits:5,wet:0},chebyshev:{order:1,wet:0},microlooper:{time:1,feedback:.95,wet:0},afterFilter:{frequency:300,rolloff:-12,Q:1,type:"highpass"},delay:{time:1,feedback:.95,wet:0}},effectsBusSend:-15,bpm:120},o2={version:i2,metadata:r2,state:l2},u2=1,c2={id:"factory-the-ending-world",name:"The Ending World",created:"2025-01-01T00:00:00.000Z",description:"Low frequency ambient wash with delay and filtering"},h2={oscillators:{minFreq:55,maxFreq:110,oscillators:[{frequency:55,waveform:"sine",volume:-8,pan:-.3},{frequency:82.5,waveform:"sine",volume:-10,pan:.3},{frequency:110,waveform:"triangle",volume:-12,pan:0},{frequency:73.33,waveform:"sine",volume:-15,pan:-.5},{frequency:91.67,waveform:"sine",volume:-15,pan:.5},{frequency:68.75,waveform:"triangle",volume:-18,pan:0}],sequences:[{frequency:55,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},{frequency:82.5,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},{frequency:110,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},{frequency:73.33,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},{frequency:91.67,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},{frequency:68.75,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]}]},polysynths:{polysynths:[{frequency:666,waveform:"sine",volume:-5,attack:.5,decay:.7,sustain:1,release:3}]},effects:{autoFilter:{baseFrequency:80,depth:.8,frequency:.1,rolloff:-24,Q:2,wet:.3,type:"lowpass",oscillatorType:"sine"},bitCrusher:{bits:8,wet:0},chebyshev:{order:1,wet:0},microlooper:{time:.5,feedback:.7,wet:.2},afterFilter:{frequency:150,rolloff:-12,Q:1,type:"lowpass"},delay:{time:2,feedback:.6,wet:.4}},effectsBusSend:-8,bpm:120},f2={version:u2,metadata:c2,state:h2},d2=1,p2={id:"factory-melody-memory",name:"Melody Memory",created:"2025-01-01T00:00:00.000Z",description:"Slow oscillating tones with auto-filter modulation"},m2={oscillators:{minFreq:220,maxFreq:330,oscillators:[{frequency:220,waveform:"sine",volume:-10,pan:-.4},{frequency:275,waveform:"sine",volume:-10,pan:.4},{frequency:330,waveform:"triangle",volume:-12,pan:0},{frequency:247.5,waveform:"sine",volume:-14,pan:-.2},{frequency:302.5,waveform:"sine",volume:-14,pan:.2},{frequency:262.5,waveform:"triangle",volume:-16,pan:0}],sequences:[{frequency:220,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},{frequency:275,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},{frequency:330,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},{frequency:247.5,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},{frequency:302.5,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]},{frequency:262.5,steps:[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]}]},polysynths:{polysynths:[{frequency:666,waveform:"sine",volume:-5,attack:.5,decay:.7,sustain:1,release:3}]},effects:{autoFilter:{baseFrequency:500,depth:.9,frequency:.25,rolloff:-12,Q:3,wet:.5,type:"bandpass",oscillatorType:"sine"},bitCrusher:{bits:8,wet:0},chebyshev:{order:3,wet:.1},microlooper:{time:.25,feedback:.5,wet:.15},afterFilter:{frequency:800,rolloff:-12,Q:1,type:"lowpass"},delay:{time:.75,feedback:.4,wet:.2}},effectsBusSend:-10,bpm:120},g2={version:d2,metadata:p2,state:m2},y2=1,_2={id:"factory-rhythmic-pulsar",name:"Rhythmic Pulsar",created:"2025-01-01T00:00:00.000Z",description:"Sequenced rhythmic patterns with bit crushing"},v2={oscillators:{minFreq:110,maxFreq:220,oscillators:[{frequency:110,waveform:"square",volume:-8,pan:-.3},{frequency:146.67,waveform:"square",volume:-10,pan:.3},{frequency:183.33,waveform:"sawtooth",volume:-12,pan:0},{frequency:128.33,waveform:"square",volume:-12,pan:-.5},{frequency:201.67,waveform:"triangle",volume:-15,pan:.5},{frequency:165,waveform:"sawtooth",volume:-18,pan:0}],sequences:[{frequency:110,steps:[!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1]},{frequency:146.67,steps:[!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1,!1,!1,!0,!1]},{frequency:183.33,steps:[!1,!0,!1,!0,!1,!0,!1,!0,!1,!0,!1,!0,!1,!0,!1,!0]},{frequency:128.33,steps:[!0,!1,!1,!0,!1,!1,!0,!1,!1,!0,!1,!1,!0,!1,!1,!1]},{frequency:201.67,steps:[!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!0]},{frequency:165,steps:[!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1]}]},polysynths:{polysynths:[{frequency:666,waveform:"sine",volume:-5,attack:.5,decay:.7,sustain:1,release:3}]},effects:{autoFilter:{baseFrequency:400,depth:.6,frequency:2,rolloff:-24,Q:5,wet:.3,type:"highpass",oscillatorType:"square"},bitCrusher:{bits:4,wet:.4},chebyshev:{order:10,wet:.2},microlooper:{time:.125,feedback:.8,wet:.3},afterFilter:{frequency:600,rolloff:-24,Q:2,type:"bandpass"},delay:{time:.5,feedback:.5,wet:.25}},effectsBusSend:-6,bpm:120},b2={version:y2,metadata:_2,state:v2},Mh=[o2,f2,g2,b2];function S2(l){return l.startsWith("factory-")}function T2({droneSynthRef:l,ref:t}){const[a,i]=V.useState(!1),[o,c]=V.useState(!1),[f,d]=V.useState(!1),[p,m]=V.useState(null),y={oscillators:l.current?.oscillatorsRef??{current:null},polysynths:l.current?.polysynthsRef??{current:null},autoFilter:l.current?.autoFilterRef??{current:null},bitCrusher:l.current?.bitCrusherRef??{current:null},chebyshev:l.current?.chebyshevRef??{current:null},microlooper:l.current?.microlooperRef??{current:null},afterFilter:l.current?.afterFilterRef??{current:null},delay:l.current?.delayRef??{current:null},effectsBusSendRef:l.current?.effectsBusSendRef??{current:null},bpmControl:l.current?.bpmControlRef??{current:null}},_=a2(y);V.useImperativeHandle(t,()=>({markAsModified:()=>d(!0)}));const b=V.useCallback(()=>{confirm("Create new preset? Any unsaved changes will be lost.")&&(_.newPreset(),d(!1))},[_]),T=V.useCallback(()=>{if(!_.currentPreset){S();return}if(S2(_.currentPreset.metadata.id)){alert("Factory presets cannot be overwritten. Use 'Save As...' instead."),S();return}_.updateCurrentPreset(),d(!1)},[_]),S=V.useCallback(()=>{const k=prompt("Enter preset name:");k&&(_.savePreset(k),d(!1))},[_]),A=V.useCallback((k,w)=>{if(!(f&&!confirm("Load preset? Any unsaved changes will be lost.")))if(w){const j=Mh.find(R=>R.metadata.id===k);j&&(_.loadFactoryPreset(j),d(!1))}else _.loadPreset(k),d(!1)},[_,f]),E=V.useCallback(k=>{confirm("Delete this preset?")&&_.deletePreset(k)},[_]),x=V.useCallback(()=>{if(_.currentPreset){const k=_.captureCurrentState(),w={..._.currentPreset,state:k};m(w),c(!0)}},[_]),O=V.useCallback(k=>{const w=new FileReader;w.onload=j=>{try{const R=j.target?.result,z=Vo(R);_.loadFactoryPreset(z),d(!1),alert(`Preset "${z.metadata.name}" imported successfully!`)}catch(R){alert(`Failed to import preset: ${R instanceof Error?R.message:"Unknown error"}`)}},w.readAsText(k),i(!1)},[_]),B=V.useCallback(k=>{try{let w=c_(k);w??=Vo(k),w?(_.loadFactoryPreset(w),d(!1),alert(`Preset "${w.metadata.name}" imported successfully!`)):alert("Invalid preset URL or JSON")}catch(w){alert(`Failed to import preset: ${w instanceof Error?w.message:"Unknown error"}`)}},[_]);return M.jsxs(M.Fragment,{children:[M.jsx(VC,{currentPreset:_.currentPreset,isModified:f,factoryPresets:Mh,userPresets:_.presetList,onNew:b,onSave:T,onSaveAs:S,onLoad:A,onDelete:E,onShare:x,onBrowseAll:()=>i(!0)}),M.jsx(UC,{isOpen:a,onClose:()=>i(!1),currentPreset:_.currentPreset,factoryPresets:Mh,userPresets:_.presetList,onLoad:A,onDelete:E,onImport:O,onImportUrl:B}),M.jsx(JC,{isOpen:o,onClose:()=>c(!1),preset:p})]})}function x2(){const l=V.useRef(null),t=V.useRef(null);return M.jsx(rC,{children:M.jsxs("div",{className:"text-pink-900 dark:text-sky-300",children:[M.jsxs("div",{className:"flex justify-between items-center space-x-2 my-5 mx-5",children:[M.jsx(zC,{}),M.jsx(T2,{droneSynthRef:l,ref:t})]}),M.jsx("div",{className:"m-4",children:M.jsx(qC,{ref:l,onParameterChange:()=>t.current?.markAsModified()})})]})})}Hb.createRoot(document.getElementById("root")).render(M.jsx(Ys.StrictMode,{children:M.jsx(x2,{})}));
